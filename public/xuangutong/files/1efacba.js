(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1647:function(t,e,n){t.exports={bold:"bold_x9XvN",audioTipsBlock:"audioTipsBlock_5OBP+",audioTips:"audioTips_dliP9",iconDesc:"iconDesc_f7UHm",closeDesc:"closeDesc_XUkbj"}},1659:function(t,e,n){},1663:function(t,e,n){"use strict";n(57);var o=n(52),r=n.n(o),l=n(178),c=n(42),h=r.a.get("token"),d=Object(l.a)({env:c.a.ENV,headers:{"X-Appgo-Platform":"device=pc","X-Ivanka-Token":h}}).api,_=n(472),v={props:{id:{type:[String,Number]},type:{type:[String,Number],default:"1"},fontSize:{type:[String,Number],default:"16"},width:{type:[String,Number],default:"680"},fontColorType:{type:[String,Number],default:"0"},dpi:{type:[String,Number],default:"72"},updatedAt:{type:Number},offset:{type:Number,default:0}},data:function(){return{src:"",error:!1}},watch:{updatedAt:{handler:function(t,e){t!==e&&this.getImageWhenIdle()}}},methods:{getImageWhenIdle:function(){var t=this;window.requestIdleCallback?window.requestIdleCallback((function(){t.getImg()})):this.getImg()},getImg:function(){var t,e,n=this;(t=this.id,e={content_type:this.type,width:this.width,dpi:this.dpi,font_size:this.fontSize,font_color:this.fontColorType,bg_alpha:0,offset:this.offset},d.get("/api/v6/message/content_image/".concat(t),{params:e})).then((function(t){n.src=t.imgStr,n.error=!1})).catch((function(t){console.log(t),t.data&&50001===t.data.code||(n.error=!0)}))}},components:{WithIntersectionObserver:_.a}},m=(n(1693),n(7)),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e("WithIntersectionObserver",{attrs:{once:""},on:{intersect:t.getImageWhenIdle}},[e("div",[t.error?e("span",{staticClass:"error-text",style:{marginLeft:"".concat(t.offset+10,"px")},on:{click:t.getImg}},[t._v("加载失败，点击重新加载")]):t.src?e("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:"data:image/png;base64,".concat(t.src)}}):t._e()])])}),[],!1,null,"5d40cf7d",null);e.a=component.exports},1682:function(t,e,n){"use strict";n(57);var o={props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},size:{type:Number,default:12},background:{type:String}},methods:{onChange:function(){this.disabled||this.$emit("input",!this.value)}}},r=(n(1720),n(7)),l=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"x-checkbox",class:{"x-checkbox-disabled":t.disabled},on:{click:t.onChange}},[e("svg",{staticClass:"x-checkbox-icon",attrs:{width:t.size,height:t.size,viewBox:"0 0 12 12"}},[t.value?e("g",{staticClass:"x-checkbox-icon-true"},[t.rounded?e("circle",{attrs:{cx:"6",cy:"6",r:"6",fill:"".concat(t.background||"#272633")}}):e("rect",{attrs:{x:"0",y:"0",width:"12",height:"12",fill:"#272633"}}),t._v(" "),e("polyline",{attrs:{points:"2 6, 5 9, 10 3",stroke:"white",fill:"none"}})]):e("g",{staticClass:"x-checkbox-icon-false"},[t.rounded?e("circle",{attrs:{cx:"6",cy:"6",r:"6",fill:"#f0f0f5"}}):e("rect",{attrs:{x:"0",y:"0",width:"12",height:"12",fill:"white",stroke:"#d9d9d9","stroke-linejoin":"round","stroke-width":"2"}})])]),t._v(" "),e("span",{class:["x-checkbox-content",t.value&&"is-active"]},[t._t("default")],2)])}),[],!1,null,"632c435c",null).exports;e.a=l},1684:function(t,e,n){},1685:function(t,e,n){},1693:function(t,e,n){"use strict";n(1659)},1697:function(t,e,n){"use strict";var o={props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:!1}},methods:{handleChange:function(t){this.disabled||this.$emit("input",t.target.checked)}}},r=(n(1715),n(7)),l=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("label",{staticClass:"x-switch"},[e("div",{staticClass:"x-switch-prepend"},[t._t("prepend")],2),t._v(" "),e("input",{staticClass:"x-switch-input",attrs:{type:"checkbox"},domProps:{checked:t.value},on:{change:t.handleChange}}),t._v(" "),e("div",{staticClass:"x-switch-label"}),t._v(" "),t._t("append")],2)}),[],!1,null,"6e95ec1c",null).exports;e.a=l},1700:function(t,e,n){"use strict";e.a={bind:function(t,e,n){function o(n){if(t.contains(n.target))return!1;e.expression&&e.value(n)}t.__vueClickOutside__=o,document.addEventListener("click",o)},update:function(){},unbind:function(t,e){document.removeEventListener("click",t.__vueClickOutside__),delete t.__vueClickOutside__}}},1705:function(t,e,n){"use strict";n(16),n(14),n(15),n(11),n(8),n(13);var o=n(0),r=n(47),l=n(41);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={name:"MuteButton",data:function(){return{}},computed:h(h({},Object(r.mapState)("homeMsgs",["pushMute","push"])),Object(r.mapGetters)("localStorage",["showIconDesc"])),watch:{push:{handler:function(t){(t.audio||t.tts)&&Object(l.b)()&&this.$store.dispatch("homeMsgs/setMute",!1)},deep:!0},pushMute:function(){this.pushMute?this.$toast({msg:"页面已静音"}):this.$toast({msg:"静音已关闭，即将为您".concat(this.push.tts?"播报":this.push.audio?"播放提醒音":"","！")})}},mounted:function(){var t=this;Object(l.b)()&&this.$store.dispatch("homeMsgs/setMute",!1),this.pushMute&&this.$toast({msg:"页面已静音, 开启后为您播报"}),this.showIconDesc&&setTimeout((function(){t.$store.commit("localStorage/SET_LOCAL_STORAGE",{key:"iconDesc",value:!1})}),5e3)},methods:{setMute:function(t){this.$store.dispatch("homeMsgs/setMute",t)},closeIconDesc:function(){console.log("removeIconDesc"),this.$store.dispatch("localStorage/setLocalStorage",{key:"iconDesc",value:!1})}}},_=n(1718),v=n(7);var component=Object(v.a)(d,(function(){var t=this,e=t._self._c;return e("div",{class:t.$style.audioTipsBlock},[t.pushMute?e("img",{class:t.$style.audioTips,attrs:{src:n(1716),alt:"audio-mute"},on:{click:function(e){return t.setMute(!1)}}}):e("img",{class:t.$style.audioTips,attrs:{src:n(1717),alt:"audio"},on:{click:function(e){return t.setMute(!0)}}}),t._v(" "),t.showIconDesc&&t.pushMute?e("div",{class:t.$style.iconDesc},[t._v("\n    您已开启"+t._s(t.push.tts?"语音播报":"")+t._s(t.push.tts&&t.push.audio?"及":"")+t._s(t.push.audio?"声音提示":"")+",但浏览器默认初始为静音状态,点击开启后可为您播报\n    "),e("div",{class:t.$style.closeDesc,on:{click:t.closeIconDesc}})]):t._e()])}),[],!1,(function(t){this.$style=_.default.locals||_.default}),"047e3374",null);e.a=component.exports},1715:function(t,e,n){"use strict";n(1684)},1716:function(t,e,n){t.exports=n.p+"img/audio-mute.6bc140c.png"},1717:function(t,e,n){t.exports=n.p+"img/audio-playing.8cbb383.png"},1718:function(t,e,n){"use strict";var o=n(1647),r=n.n(o);n.d(e,"default",(function(){return r.a}))},1719:function(t,e,n){},1720:function(t,e,n){"use strict";n(1685)},1741:function(t,e,n){},1986:function(t,e,n){"use strict";n(1719)},2018:function(t,e,n){"use strict";n(1741)},2019:function(t,e,n){"use strict";n(23);e.a={initCanvas:function(t,pattern,e){var n=document.createElement("canvas"),o=document.createElement("canvas"),r=document.createElement("canvas");return n.width=o.width=r.width=t.clientWidth,n.height=o.height=r.height=t.clientHeight,n.style.position=o.style.position=r.style.position="absolute",n.style.top=o.style.top=r.style.top=0,n.style.left=o.style.left=r.style.left=0,t.style.position&&"static"!==t.style.position||(t.style.position="relative"),t.innerHTML="",t.appendChild(n),t.appendChild(r),t.appendChild(o),[n,o,r]},removeCanvas:function(t){t&&(t.innerHTML="")},DEFAULTS:function(){return{viewport:{offset:0,width:10},price_precision:5,style:{font:{family:"Microsoft YaHei",size:14},padding:{top:1,right:70,bottom:28,left:1},wheel_zoom_step:1,linear_last_point:!1,tip:{high_color:"#FF4040",low_color:"#1EB955",curr_price:{line_width:1,line_color:"rgba(0,0,0,0)",label_bg:"rgba(0,0,0,0)",label_color:"rgba(0,0,0,0)",label_height:20}},crosshair:{snap_to_close:!1,color:"#979797",label_height:20,label_bg:"rgba(0,0,0,0)",label_color:"rgba(0,0,0,0)",label_horiz_padding:5,pos_offset:{vertical:{x:0,y:0,width:0},horizontal:{x:0,y:0,width:0}},selected_point_color:["rgba(38,165,225,0.2)","#fff","rgba(38,165,225,1)"]},grid:{bg:"#fff",limit:{y:[2,8]},color:{x:"#f0f0f0",y:"#f0f0f0"},span:{x:120,y:30}},line_color_list:["#fff","#FFAE00","#C291F2","#4CA5FF","#3DCFEE"],axis:{x_axis_pos:1,y_axis_pos:1,hide_candlestick_date:!1,hide_candlestick_time:!1,show_rate:!1,label_pos:{x_axis:{x:-35,y:20},y_axis:{x:5,y:4}},label_color:"#555",pointer_length:0,bg_color:"rgba(0,0,0,0)",line_color:"rgba(0,0,0,0)",draw_frame:!1}},data_style:{base_value:"#2DB0F9",candlestick:{block:{up:"#FF4040",down:"#1EB955"},border:{up:"#FF4040",down:"#1EB955"},wick:{up:"#FF4040",down:"#1EB955"}},OHLC:{up:"#FF4040",down:"#1EB955"},mountain:{line_width:1,line_color:"#2DB0F9",gradient_up:"rgba(45,176,249,0.15)",gradient_down:"rgba(19,119,240,0.02)"}}}},datafilterByTimeRanges:function(data,t,e){for(var n=t.map((function(){return[]})),o=0,i=0;i<data.length;i++){var r=data[i],time=r[e];time>=t[o][0]&&time<=t[o][1]?n[o].push(r):t[o+1]&&time>=t[o+1][0]&&(o+=1,i--)}return n}}},2020:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return l}));var o=n(1671),r={line:function(t){var e=this;o.a.Draw.Stroke(e.ctx,(function(n){n.lineWidth=t.line_width||1;var r=!1;e.data_source.filtered_data.forEach((function(l,c){var h=l[t.val_index];null!==h&&(r||(n.moveTo(l.x,o.a.Coord.linearActual2Display(h,e.coord.y)),r=!0),n.lineTo(l.x,o.a.Coord.linearActual2Display(h,e.coord.y)))}))}),t.color)},column:function(t){var e=this,n={up:[],down:[],eq:[]};for(var r in e.data_source.filtered_data.forEach((function(o,r){var l=o[t.val_index],c=void 0!==t.base_val?t.base_val:void 0!==t.base_index?o[t.base_index]:null;null!==c&&n[l>=c?"up":"down"].push(o),t.color.detect&&n[t.color.detect(o,r,e.data_source.filtered_data)].push(o)})),n)o.a.Draw.Stroke(e.ctx,(function(l){l.lineWidth=e.viewport.width-3,n[r].forEach((function(n){"bidirection"===t.mode?(l.moveTo(.5+~~n.x,o.a.Coord.linearActual2Display(t.base_val,e.coord.y)),l.lineTo(.5+~~n.x,o.a.Coord.linearActual2Display(n[t.val_index],e.coord.y))):(l.moveTo(.5+~~n.x,e.style.padding.bottom_pos),l.lineTo(.5+~~n.x,o.a.Coord.linearActual2Display(n[t.val_index],e.coord.y)))}))}),t.color[r])}},l={line:function(t){var e=this;o.a.Draw.Stroke(e.ctx,(function(n){n.lineWidth=t.line_width||1,e.data_source.filtered_data_buckets.forEach((function(r,l){r.forEach((function(r,c){c||n.moveTo(o.a.Coord.linearActual2Display(r[t.t],e.coords[l].x),o.a.Coord.linearActual2Display(r[t.val_index],e.coord.y)),n.lineTo(o.a.Coord.linearActual2Display(r[t.t],e.coords[l].x),o.a.Coord.linearActual2Display(r[t.val_index],e.coord.y))}))}))}),t.color)},column:function(t){var e=this,n={up:[],down:[],eq:[]};for(var r in e.data_source.filtered_data_buckets.forEach((function(o,r){o.forEach((function(l,c){var h=l[t.val_index],d=void 0!==t.base_val?t.base_val:void 0!==t.base_index?l[t.base_index]:null;null!==d&&n[h>=d?"up":"down"].push(l),t.color.detect&&n[t.color.detect(l,c,o,r,e.data_source.filtered_data_buckets)].push(l)}))})),n)o.a.Draw.Stroke(e.ctx,(function(l){l.lineWidth=t.line_width||1,n[r].forEach((function(n){"bidirection"===t.mode?(l.moveTo(.5+~~n.x,o.a.Coord.linearActual2Display(t.base_val,e.coord.y)),l.lineTo(.5+~~n.x,o.a.Coord.linearActual2Display(n[t.val_index],e.coord.y))):(l.moveTo(.5+~~n.x,e.style.padding.bottom_pos),l.lineTo(.5+~~n.x,o.a.Coord.linearActual2Display(n[t.val_index],e.coord.y)))}))}),t.color[r])}}},2021:function(t,e,n){"use strict";n.d(e,"b",(function(){return S})),n.d(e,"a",(function(){return D})),n.d(e,"c",(function(){return I}));n(57),n(109),n(23);var o=n(1671),r=n(92),l=n.n(r),c=function(t){var rect=this.ia_canvas_el.getBoundingClientRect();t.touches?(this.state.events.mouse_x_px=t.touches[0].clientX-rect.left,this.state.events.mouse_y_px=t.touches[0].clientY-rect.top):(this.state.events.mouse_x_px=t.clientX-rect.left,this.state.events.mouse_y_px=t.clientY-rect.top),this.ia_ctx.clearRect(0,0,this.origin_width,this.origin_height)},h=function(t,e,n){var r=this;if(!r.state.events.drag_end){var rect=this.ia_canvas_el.getBoundingClientRect();if(t.touches?(this.state.events.mouse_x_px=t.touches[0].clientX-rect.left,this.state.events.mouse_y_px=t.touches[0].clientY-rect.top):(this.state.events.mouse_x_px=t.clientX-rect.left,this.state.events.mouse_y_px=t.clientY-rect.top),this.ia_ctx.clearRect(0,0,this.origin_width,this.origin_height),null!=r.state.events.drag_x_px&&(n||!(r.state.events.mouse_y_px<r.style.padding.top||r.state.events.mouse_y_px>r.style.padding.bottom_pos))&&!(r.state.events.mouse_x_px<r.style.padding.left||r.state.events.mouse_x_px>r.style.padding.right_pos)){var c;if(o.a.Draw.FillnStroke(r.ia_ctx,(function(t){t.setLineDash([5,5]),t.strokeRect(r.state.events.drag_x_px,r.state.events.drag_y_px,r.state.events.mouse_x_px-r.state.events.drag_x_px,r.state.events.mouse_y_px-r.state.events.drag_y_px)}),"rgba(53,58,71,0.05)"),c=r.state.events.mouse_x_px,r.data_source.time_ranges){var h=~~((c-r.style.padding.left)/((r.style.padding.right_pos-r.style.padding.left)/r.coords.length));for(v=(_=r.data_source.filtered_data_buckets.map((function(t,e){return t.map((function(t){return[t.x,t]}))})))[h].length;v--;){if(!_[h][1])return;var d=(_[h][1][0]-_[h][0][0])/2;if(d=d<1?1:d,Math.abs(r.state.events.mouse_x_px-_[h][v][0])<=d){c=_[h][v][0],r.state.events.mouse_x_val=_[h][v][1][r.data_source.fields[0].t],r.state.events.selected_item=_[h][v][1];break}}}else for(var _,v=(_=r.data_source.filtered_data.map((function(t){return t.x}))).length;v--;)if(Math.abs(r.state.events.mouse_x_px-_[v])<=r.viewport.width/2){c=_[v],r.state.events.mouse_x_val=r.data_source.filtered_data[v][r.data_source.fields[0].t],r.state.events.selected_index=v+r.data_source.left_offset,r.state.events.selected_item=r.data_source.data[v+r.data_source.left_offset];break}o.a.Draw.Text(r.ia_ctx,(function(t){t.fillText(l()(r.state.events.dragstart_x_val,"YYYY-MM-DD")+"至"+l()(r.state.events.mouse_x_val,"YYYY-MM-DD"),r.state.events.drag_x_px,r.state.events.drag_y_px-15)}),r.style.crosshair.label_color)}}},d=function(t,e,n){var r,c,h=this;if((n&&this.ia_ctx.clearRect(0,0,this.origin_width,this.origin_height),n||!(h.state.events.mouse_y_px<h.style.padding.top||h.state.events.mouse_y_px>h.style.padding.bottom_pos))&&(!(h.state.events.mouse_x_px<h.style.padding.left||h.state.events.mouse_x_px>h.style.padding.right_pos)&&(o.a.Draw.Stroke(h.ia_ctx,(function(t){if(r=h.state.events.mouse_x_px,t.setLineDash([5,5]),h.data_source.time_ranges){var e=~~((r-h.style.padding.left)/((h.style.padding.right_pos-h.style.padding.left)/h.coords.length));2==e&&(e=1);for(m=(_=h.data_source.filtered_data_buckets.map((function(t,e){return t.map((function(t){return[t.x,t]}))})))[e].length;m--;){if(!_[e][1])return;var l=(_[e][1][0]-_[e][0][0])/2;if(l=l<1?1:l,Math.abs(h.state.events.mouse_x_px-_[e][m][0])<=l){r=_[e][m][0],h.state.events.mouse_x_val=_[e][m][1][h.data_source.fields[0].t],h.state.events.selected_item=_[e][m][1],h.state.events.selected_item&&h.state.events.selected_item[0]&&h.timeHover(h.state.events.selected_item[0]);break}if(1==m&&_.length){var d=_[_.length-1];d&&d.length&&d[d.length-1]&&d[d.length-1][1]&&h.timeHover(d[d.length-1][1][0])}}}else{var _;if(!(_=h.data_source.filtered_data).length)return;for(var v=function(){if(Math.abs(h.state.events.mouse_x_px-_[m].x)<=h.viewport.width/2){r=_[m].x,h.state.events.mouse_x_val=h.data_source.filtered_data[m][h.data_source.fields[0].t],h.state.events.selected_index=m+h.data_source.left_offset;var t=h.data_source.data[m+h.data_source.left_offset];return h.state.events.selected_item=h.data_source.filtered_data.find((function(i){return i[0]==t[0]})),h.state.events.selected_item&&h.state.events.selected_item[0]&&h.timeHover(h.state.events.selected_item[0]),1}if(1==m&&_.length){var e=_[_.length-1];h.timeHover(e[0])}},m=_.length;m--&&!v(););}n||(c=h.style.crosshair.snap_to_close&&h.state.events.selected_index>-1?~~o.a.Coord.linearActual2Display(h.data_source.data[h.state.events.selected_index][h.data_source.fields[0].c],h.coord.y):h.state.events.mouse_y_px,t.moveTo(h.style.padding.left,c+.5),t.lineTo(h.style.padding.right_pos,c+.5)),t.moveTo(r+.5,h.style.padding.top),t.lineTo(r+.5,h.style.padding.bottom_pos)}),h.style.crosshair.color),null!==h.state.events.mouse_x_val))){var d=0;o.a.Draw.Text(h.ia_ctx,(function(t){d=h.data_source.time_ranges?t.measureText(o.a.Coord.getDateStr(h.state.events.mouse_x_val,!!h.data_source.time_ranges,!h.data_source.time_ranges)).width+2*h.style.crosshair.label_horiz_padding:t.measureText(l()(h.state.events.mouse_x_val,"YYYY/MM/DD")).width+2*h.style.crosshair.label_horiz_padding}));var _=n?0:o.a.Coord.linearDisplay2Actual(c,h.coord.y).toFixed(h.price_precision);o.a.Draw.Fill(h.ia_ctx,(function(t){var e=h.style.crosshair.pos_offset.horizontal.x+(r-d/2),n=h.style.crosshair.pos_offset.horizontal.width||d;t.rect(e<0?0:e+n>h.origin_width?h.origin_width-n:e,h.style.crosshair.pos_offset.horizontal.y+(h.style.axis.x_axis_pos>0?h.style.padding.bottom_pos:h.style.padding.top-h.style.crosshair.label_height),n,h.style.crosshair.label_height)}),h.style.crosshair.label_bg),o.a.Draw.Text(h.ia_ctx,(function(t){var e=h.style.crosshair.pos_offset.horizontal.x+(r-d/2),n=(new Date).getTimezoneOffset(),c=h.style.crosshair.pos_offset.horizontal.width||d;t.fillText(h.data_source.time_ranges?o.a.Coord.getE8Date(h.state.events.mouse_x_val,!!h.data_source.time_ranges,!h.data_source.time_ranges):l()(h.state.events.mouse_x_val+60*(n- -480)*1e3,"YYYY/MM/DD"),e<0?h.style.crosshair.label_horiz_padding:(e+c>h.origin_width?h.origin_width-c:e)+h.style.crosshair.label_horiz_padding,h.style.crosshair.pos_offset.horizontal.y+(h.style.axis.x_axis_pos>0?h.style.padding.bottom_pos+h.style.font.size+2:h.style.padding.top-h.style.crosshair.label_height+h.style.font.size+2))}),h.style.crosshair.label_color),o.a.Draw.Fill(h.ia_ctx,(function(t){n||t.rect(h.style.crosshair.pos_offset.vertical.x+(h.style.axis.y_axis_pos>0?h.style.padding.right_pos:0),h.style.crosshair.pos_offset.vertical.y+(c-h.style.crosshair.label_height/2),h.style.crosshair.pos_offset.vertical.width||(h.style.axis.y_axis_pos>0?h.style.padding.right:t.measureText(_).width),h.style.crosshair.label_height)}),h.style.crosshair.label_bg);var v=_>=0?h.style.tip.high_color:h.style.tip.low_color;o.a.Draw.Text(h.ia_ctx,(function(t){if(!n)var e=_;h.style.xgb_style&&(e=Number(100*e).toFixed(2)+"%"),t.fillText(e,(h.style.axis.y_axis_pos>0?h.style.padding.right_pos:0)+h.style.axis.label_pos.y_axis.x+h.style.axis.pointer_length,h.style.crosshair.pos_offset.vertical.y+(c-h.style.crosshair.label_height/2+h.style.font.size+2))}),v)}},_=function(t){var e=this,rect=this.ia_canvas_el.getBoundingClientRect();if(t.touches?(this.state.events.drag_x_px=t.touches[0].clientX-rect.left,this.state.events.drag_y_px=t.touches[0].clientY-rect.top):(this.state.events.drag_x_px=t.clientX-rect.left,this.state.events.drag_y_px=t.clientY-rect.top),this.state.events.drag_offset=this.viewport.offset,this.state.events.drag_x_px<0&&(this.state.events.drag_x_px=0),this.startTongjiDrag)if(this.state.events.drag_end=!1,this.removeDragEndChoice(),e.state.events.drag_x_px,e.data_source.time_ranges){var n=~~((vertical_pos-e.style.padding.left)/((e.style.padding.right_pos-e.style.padding.left)/e.coords.length));for(l=(r=e.data_source.filtered_data_buckets.map((function(t,e){return t.map((function(t){return[t.x,t]}))})))[n].length;l--;){var o=(r[n][1][0]-r[n][0][0])/2;if(o=o<1?1:o,Math.abs(e.state.events.drag_x_px-r[n][l][0])<=o){r[n][l][0],e.state.events.dragstart_x_val=r[n][l][1][e.data_source.fields[0].t],e.state.events.dragstart_item=r[n][l][1];break}}}else for(var r,l=(r=e.data_source.filtered_data.map((function(t){return t.x}))).length;l--;)if(Math.abs(e.state.events.drag_x_px-r[l])<=e.viewport.width/2){r[l],e.state.events.dragstart_x_val=e.data_source.filtered_data[l][e.data_source.fields[0].t],e.state.events.dragstart_index=l+e.data_source.left_offset,e.state.events.dragstart_item=e.data_source.data[l+e.data_source.left_offset];break}},v=function(t){var e=this;if(null!==this.state.events.drag_offset){var n=this.state.events.drag_x_px-this.state.events.mouse_x_px,o=this.state.events.drag_offset+n;n<0&&(this.NOMORE?o>this.style.padding.right_pos-this.style.padding.left-this.viewport.width*this.data_source.data.length&&(this.viewport.offset=o,this.rerender()):o>this.style.padding.right_pos-this.style.padding.left-this.viewport.width*this.data_source.data.length+500?(this.viewport.offset=o,this.rerender()):o>this.style.padding.right_pos-this.style.padding.left-this.viewport.width*this.data_source.data.length?(this.viewport.offset=o,this.loadMore().then((function(t){e.rerender()}))):this.loadMore().then((function(t){e.rerender()}))),n>0&&(o<this.viewport.width?this.viewport.offset=o:this.viewport.offset=this.viewport.width,this.rerender())}},m=function(t){this.state.events.drag_offset=null,this.state.events.drag_x_px=null,this.state.events.drag_y_px=null,this.state.events.pinch_distance=null,this.state.events.pinch_width=null,this.state.events.dragstart_x_val=null,this.state.events.dragstart_item=null,this.state.events.dragstart_index=null},f=function(t){t.preventDefault()},y=function(t){this.state.events.drag_end=!0,this.showDragEndChoice()},x=function(t){t.preventDefault();var e=this;if(!e.data_source.time_ranges)for(var n=e.data_source.filtered_data.map((function(t){return t.x})),r=n.length;r--;)if(Math.abs(e.state.events.mouse_x_px-n[r])<=e.viewport.width/2){n[r],e.state.events.mouse_x_val=e.data_source.filtered_data[r][e.data_source.fields[0].t],e.state.events.selected_index=r+e.data_source.left_offset,e.state.events.selected_item=e.data_source.data[r+e.data_source.left_offset];break}if(t.touches&&t.touches.length>1){this.state.events.drag_offset=null;var l=~~(this.data_source.filtered_data.length/2)+this.data_source.left_offset,c=this.data_source.data.length-l,h=o.a.Math.distance([t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY]);if(this.state.events.pinch_distance){var d=(h-this.state.events.pinch_distance)/15,_=this.state.events.pinch_width+(d-d%2),v=!1;d>0?this.viewport.width<64&&(v=!0):this.viewport.width>4&&(v=!0),v&&(this.viewport.offset-=c*(_-this.viewport.width),this.viewport.width=_,this.rerender())}else this.state.events.pinch_distance=h,this.state.events.pinch_width=this.viewport.width}else if((t.wheelDelta||-t.detail)&&this.state.events.selected_index>-1){c=this.data_source.data.length-this.state.events.selected_index;if((t.wheelDelta||-t.detail)>0)this.viewport.width<64&&this.viewport.width>=4&&(this.viewport.width+=this.style.wheel_zoom_step,this.viewport.offset-=c*this.style.wheel_zoom_step,this.rerender()),this.viewport.width<4&&(this.viewport.width=1.25*this.viewport.width,this.viewport.offset-=c*this.viewport.width/5,this.rerender());else if(this.viewport.width-this.style.wheel_zoom_step>4){var m=this.viewport.width-this.style.wheel_zoom_step,f=this.viewport.offset+c*this.style.wheel_zoom_step;f>0&&(f=0),f<0&&f+m*this.data_source.data.length<this.style.padding.right_pos-this.style.padding.left&&(f=this.style.padding.right_pos-this.style.padding.left-m*this.data_source.data.length),(!this.NOMORE||f+m*this.data_source.data.length>this.style.padding.right_pos-this.style.padding.left-2*m)&&(this.viewport.width=m,this.viewport.offset=f,this.rerender())}else if(this.viewport.width>.5){var y=.8*this.viewport.width,x=this.viewport.offset+c*this.viewport.width/4;x>0&&(x=0),x<0&&x+y*this.data_source.data.length<this.style.padding.right_pos-this.style.padding.left&&(x=this.style.padding.right_pos-this.style.padding.left-y*this.data_source.data.length),(!this.NOMORE||x+y*this.data_source.data.length>this.style.padding.right_pos-this.style.padding.left-y)&&(this.viewport.width=y,this.viewport.offset=x,this.rerender())}}return!1},k=function(){var t=this;if(this.state.events.selected_item){var e=[10,4,3];t.style.crosshair.selected_point_color.forEach((function(n,r){t.data_source.fields.map((function(i){o.a.Draw.Fill(t.ia_ctx,(function(n){n.arc(t.state.events.selected_item.x+.5,o.a.Coord.linearActual2Display(t.state.events.selected_item[i.val_index||i.c],t.coord.y)-1.5,e[r],0,2*Math.PI)}),n)}))}))}},w=function(){k.call(this)},C=function(t,e,n){"chart-inner-item"!=t.toElement.className&&"drag-analyse-btn"!=t.toElement.className&&"drag-zoom-btn"!=t.toElement.className&&"drag-choice-div"!=t.toElement.className&&(this.removeDragEndChoice(),this.ia_ctx.clearRect(0,0,this.origin_width,this.origin_height))},T=function(t,e,n){this.ia_ctx.clearRect(0,0,this.origin_width,this.origin_height),this.state.events.selected_item=null};function S(){this.state.events={mouse_x_px:null,mouse_y_px:null,mouse_x_val:null,mouse_y_val:null,selected_index:-1,selected_item:null,drag_x_px:null,drag_y_px:null,drag_offset:null,pinch_width:null,pinch_distance:null};var t={mousedown:{dragStart:_},mousemove:{basic:c,crosshair:d,dragMove:v,selected_cs_point:w},mouseout:{clean:T},mouseup:{dragEnd:m},mousewheel:{basic:c,zoom:x},DOMMouseScroll:{basic:c,zoom:x},touchstart:{dragStart:_},MozMousePixelScroll:{ffmouse:f},touchmove:{basic:c,dragMove:v,zoom:x},touchend:{dragEnd:m}},e={mousemove:{basic:c,crosshair:d,selected_point:k},mouseout:{clean:T}},n={mousedown:{dragStart:_},mousemove:{dragRect:h},mouseout:{cleanDragRect:C},mouseup:{dragRectEnd:y},touchstart:{dragStart:_},touchmove:{dragRect:h},touchend:{dragRectEnd:y}};return this.startTongjiDrag?n:this.data_source.time_ranges?e:t}function D(){var t=this;if(t.ia_canvas_el){var e=[];for(var n in this.events)e.push(n);e.forEach((function(e){t.ia_canvas_el.addEventListener(e,(function(n){if("mousemove"===e||"touchmove"===e){if(+new Date-t.state.ia_ctx_clock<=30)return;t.state.ia_ctx_clock=+new Date}for(var o in t.events[e])t.state.ready&&t.events[e][o].call(t,n,o);if("DOMMouseScroll"===e)return!1}))}))}}function I(t){var e=this.ia_canvas_el;if(e){var n=e.cloneNode(!0);n.style.position="absolute",n.style.top=0,n.style.left=0,t.removeChild(e),t.appendChild(n),this.ia_canvas_el=n}}},2042:function(t,e,n){"use strict";n(23),n(88);var o=n(0),r={props:{stocks:{type:Array},real:{type:Object},ignoreHalt:{type:Boolean}},methods:{renderFontColor:function(t){if(t&&("HALT"!==t.trade_status||this.ignoreHalt))return t.px_change_rate>=0?"-market-color--rise":"-market-color--decline"},renderIcon:function(t,symbol){return t[symbol]&&t[symbol].px_change_rate>=0?"icon-gupiaozhang":"icon-gupiaodie"},renderRate:function(t){if(t){if("HALT"!==t.trade_status||this.ignoreHalt){var e=t.px_change_rate.toFixed(2);return e>=0?"+".concat(e,"%"):"".concat(e,"%")}return"--"}}}},l=(n(2018),n(7)),c={components:{StockGroup:Object(l.a)(r,(function(){var t=this,e=t._self._c;return t.stocks?e("ul",{staticClass:"stock-group"},t._l(t.stocks,(function(n){var r;return e("li",{key:n.symbol,staticClass:"stock-group-item"},[e("a",{class:(r={"stock-group-item-link":!0},Object(o.a)(r,t.renderFontColor(t.real[n.Symbol]),!0),Object(o.a)(r,"-market-color--balance",!t.renderFontColor(t.real[n.Symbol])),r),attrs:{href:"/stock/".concat(n.Symbol),target:"_blank"}},[e("i",{class:Object(o.a)({iconfont:!0},t.renderIcon(t.real,n.Symbol),!0)}),t._v(" "),e("span",{staticClass:"stock-group-item-name"},[t._v(t._s(n.Name))]),t._v(" "),e("span",{staticClass:"stock-group-item-rate"},[t._v(t._s(t.renderRate(t.real[n.Symbol])||"--"))])])])})),0):t._e()}),[],!1,null,"e23f7abc",null).exports},props:{stocks:{type:Array}},watch:{stocks:function(t){if(t&&t.length){var e=t.map((function(i){return i.Symbol}));this.$store.dispatch("stock/getReal",{symbols:e})}}},computed:{real:function(){return this.$store.state.stock.real}},mounted:function(){this.getReal()},methods:{getReal:function(){var t=this.stocks;if(t&&t.length){var e=t.map((function(i){return i.Symbol}));this.$store.dispatch("stock/getReal",{symbols:e})}}}},h=Object(l.a)(c,(function(){var t=this;return(0,t._self._c)("stock-group",{attrs:{stocks:t.stocks,real:t.real}})}),[],!1,null,null,null);e.a=h.exports},2056:function(t,e,n){"use strict";n(1986);var o=n(7),r=Object(o.a)({},(function(){return(0,this._self._c)("div",{staticClass:"x-checkbox-group"},[this._t("default")],2)}),[],!1,null,"4035c42e",null).exports;e.a=r},2181:function(t,e,n){},2182:function(t,e,n){},2183:function(t,e,n){},2184:function(t,e,n){},2185:function(t,e,n){},2186:function(t,e,n){},2187:function(t,e,n){},2188:function(t,e,n){},2189:function(t,e,n){},2190:function(t,e,n){},2191:function(t,e,n){},2192:function(t,e,n){},2193:function(t,e,n){},2194:function(t,e,n){},2195:function(t,e,n){},2196:function(t,e,n){},2197:function(t,e,n){},2198:function(t,e,n){},2199:function(t,e,n){},2200:function(t,e,n){},2201:function(t,e,n){},2202:function(t,e,n){},2203:function(t,e,n){},2204:function(t,e,n){},2205:function(t,e,n){},2206:function(t,e,n){},2207:function(t,e,n){},2208:function(t,e,n){},2209:function(t,e,n){},2210:function(t,e,n){},2211:function(t,e,n){},2212:function(t,e,n){},2213:function(t,e,n){},2214:function(t,e,n){},2215:function(t,e,n){},2216:function(t,e,n){},2631:function(t,e,n){"use strict";n(2181)},2632:function(t,e,n){"use strict";n(2182)},2634:function(t,e,n){"use strict";n(2183)},2635:function(t,e,n){"use strict";n(2184)},2636:function(t,e,n){"use strict";n(2185)},2637:function(t,e,n){"use strict";n(2186)},2638:function(t,e,n){"use strict";n(2187)},2639:function(t,e,n){"use strict";n(2188)},2640:function(t,e,n){"use strict";n(2189)},2641:function(t,e,n){"use strict";n(2190)},2642:function(t,e,n){"use strict";n(2191)},2643:function(t,e,n){"use strict";n(2192)},2644:function(t,e,n){"use strict";n(2193)},2645:function(t,e,n){"use strict";n(2194)},2646:function(t,e,n){"use strict";n(2195)},2647:function(t,e,n){"use strict";n(2196)},2648:function(t,e,n){"use strict";n(2197)},2649:function(t,e,n){"use strict";n(2198)},2650:function(t,e,n){"use strict";n(2199)},2651:function(t,e,n){"use strict";n(2200)},2652:function(t,e,n){"use strict";n(2201)},2653:function(t,e,n){"use strict";n(2202)},2654:function(t,e,n){"use strict";n(2203)},2655:function(t,e,n){"use strict";n(2204)},2656:function(t,e,n){"use strict";n(2205)},2657:function(t,e,n){"use strict";n(2206)},2658:function(t,e,n){"use strict";n(2207)},2659:function(t,e,n){"use strict";n(2208)},2660:function(t,e,n){"use strict";n(2209)},2661:function(t,e,n){"use strict";n(2210)},2662:function(t,e,n){"use strict";n(2211)},2663:function(t,e,n){"use strict";n(2212)},2664:function(t,e,n){"use strict";n(2213)},2665:function(t,e,n){"use strict";n(2214)},2667:function(t,e,n){"use strict";n(2215)},2668:function(t,e,n){"use strict";n(2216)},2847:function(t,e,n){"use strict";n.r(e);n(25);var o=n(4),r=n(466),l=(n(23),n(252)),c=n.n(l),h=n(2290),d=n(2291),_=n(2292),v=n(2293),m=n(2294),f=(n(57),n(1671)),y={props:{fluctuation:{type:Array},width:{type:Number}},data:function(){return{paddingLeft:5,paddingRight:5,paddingTop:5,dpr:1,ctx:null,paddingBottom:10,height:70,stockCountList:[],colorRed:"#F2564E",colorGreen:"#18A66B",colorGray:"rgba(153, 153, 153, 1)",targetIndex:-1,target:null,label:null,mouseX:-1,mouseY:-1,maxValue:2,midValue:1,minValue:0,areaCount:0}},watch:{fluctuation:function(t,e){var n=this,o=0;t.map((function(t){o=t>o?t:o})),this.maxValue=o,this.midValue=Math.floor(o/2),this.areaCount=t.length;var r=JSON.parse(JSON.stringify(this.fluctuation));this.stockCountList=r.reverse().map((function(t,e){var r=Math.ceil(t*(n.height-n.paddingTop-n.paddingBottom)/o),l=Math.floor((n.width-n.paddingLeft-n.paddingRight)/n.areaCount*e);return{value:t,index:e,height:r*n.dpr,origin:l*n.dpr}})),this.prepare()},width:function(){var t=this;this.$nextTick((function(e){if(t.fluctuation&&t.fluctuation.length){var n=0;t.fluctuation.map((function(t){n=t>n?t:n})),t.maxValue=n,t.midValue=Math.floor(n/2);var o=JSON.parse(JSON.stringify(t.fluctuation));t.stockCountList=o.reverse().map((function(e,o){var r=Math.ceil(e*(t.height-t.paddingTop-t.paddingBottom)/n),l=Math.floor((t.width-t.paddingLeft-t.paddingRight)/t.areaCount*o);return{value:e,index:o,height:r*t.dpr,origin:l*t.dpr}})),t.prepare()}}))}},mounted:function(){this.initCtx()},methods:{initCtx:function(){var canvas=this.$refs.canvas;this.ctx=canvas.getContext("2d"),this.dpr=window.devicePixelRatio,this.ctx.scale(this.dpr,this.dpr)},drawCanvas:function(){var t=this;this.stockCountList&&this.stockCountList.length&&this.stockCountList.map((function(e,n){f.a.Draw.Fill(t.ctx,(function(n){n.rect(e.origin,(t.height-t.paddingTop)*t.dpr,Math.floor(t.width/40*t.dpr),-e.height)}),t.fluctColor(n))}))},fluctColor:function(t){var e=Math.floor(this.areaCount/2);return t>e?this.colorRed:t===e?this.colorGray:this.colorGreen},canvasmouse:function(t){var rect=this.$refs.canvas.getBoundingClientRect();this.mouseX=t.clientX-rect.left,this.mouseY=t.clientY-rect.top,this.mouseX>0&&this.mouseX<this.width&&this.mouseY>0&&this.mouseY<this.height&&this.getNearestPoint(this.mouseX)},drawLine:function(t,e,n,o){f.a.Draw.Stroke(this.ctx,(function(r){r.setLineDash([5,5]),r.moveTo(n,Math.floor((t+e)/2)+.5),r.lineTo(o,Math.floor((t+e)/2)+.5)}),"#999"),f.a.Draw.Stroke(this.ctx,(function(e){e.setLineDash([5,5]),e.moveTo(n,t+.5),e.lineTo(o,t+.5)}),"#999")},getNearestPoint:function(t){var e=this;if(!this.stockCountList||!this.stockCountList.length)return"";var n=-1;this.stockCountList.map((function(i,o){var r=t*e.dpr-i.origin;r<3*e.dpr&&r>0&&(n=o)})),this.targetIndex=n,-1!==n&&(this.target=this.stockCountList[this.targetIndex],this.prepare())},leave:function(){this.target=null,this.targetIndex=-1,this.label=null,this.mouseX=-1,this.mouseY=-1,this.prepare()},prepare:function(){var t=this.paddingBottom*this.dpr,e=(this.height-this.paddingTop)*this.dpr,n=this.paddingLeft*this.dpr,o=(this.width-this.paddingRight)*this.dpr;this.ctx.clearRect(0,0,this.width*this.dpr,this.height*this.dpr),this.drawCanvas(),this.drawLine(t,e,n,o),this.rendNearestPoint(t,e,n,o),this.rendLabel()},rendNearestPoint:function(t,e,n,o){var r=this;this.target&&f.a.Draw.Stroke(this.ctx,(function(n){n.setLineDash([2,2]),n.moveTo(r.target.origin+1.5*r.dpr,t),n.lineTo(r.target.origin+1.5*r.dpr,e)}),"#999")},rendLabel:function(){if(this.target){var t,e=Math.floor(this.areaCount/2);switch(this.targetIndex){case 0:t="跌停";break;case 1:t="ST跌停";break;case 2:t="-20% ~ -10%";break;case this.areaCount-3:t="10% ~ 20%";break;case this.areaCount-2:t="ST涨停";break;case this.areaCount-1:t="涨停";break;case e:t="0%";break;default:t=this.targetIndex>e?this.targetIndex-e-1+"% ~ "+(this.targetIndex-e)+"%":this.targetIndex-e+"% ~ "+(this.targetIndex-e+1)+"%"}this.label='<div class="chart-tooltip-title">\n      <span >'.concat(t,'</span>\n      </div><div class="chart-tooltip-title">数量:<span >').concat(this.target.value,"家</span></div>")}}}},x=(n(2631),n(7)),k=Object(x.a)(y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"hit-pool-container",style:{width:t.width+"px"}},[e("div",{staticClass:"hit-pool-title",attrs:{id:"fluctuation-title"}},[t._v("涨跌分布")]),t._v(" "),e("div",{staticClass:"hit-pool-side",attrs:{id:"fluctuation-c-label"}},[e("p",[t._v(t._s(t.maxValue))]),t._v(" "),e("p",[t._v(t._s(t.midValue))]),t._v(" "),e("p",[t._v(t._s(t.minValue))])]),t._v(" "),e("div",{staticClass:"chart"},[e("canvas",{ref:"canvas",style:{width:t.width+"px",height:t.height+"px"},attrs:{width:t.width*t.dpr,height:t.height*t.dpr},on:{mouseleave:t.leave,mousemove:t.canvasmouse}}),t._v(" "),t.label?e("div",{staticClass:"chart-label",style:{left:t.mouseX+10+"px",top:t.mouseY+10+"px"},domProps:{innerHTML:t._s(t.label)}}):t._e()])])}),[],!1,null,"19b36f14",null).exports,w=n(74),C={props:["selectDate","theme","width"],data:function(){return{dateOpen:!1,themeHint:!1}},mounted:function(){localStorage.getItem("themeHint")||(this.themeHint=!0)},computed:{temperatureVal:function(){return this.$store.state.stockSummary.temperatureVal},itemWidth:function(){return(this.width-24-16-24-60-140)/5-this.width/40},fcRender:function(){if(this.$store.state.stockSummary.fluctuationContrastData){var t=[],e=[],n=[];return this.$store.state.stockSummary.fluctuationContrastData.map((function(o){t.push(o.rise_count),e.push(o.fall_count),n.push(o.timestamp)})),{raiseList:t,downList:e,timestampList:n}}return{raiseList:[],downList:[],timestampList:[]}},limitRender:function(){if(this.$store.state.stockSummary.limitContrastData){var t=[],e=[],n=[];return this.$store.state.stockSummary.limitContrastData.map((function(o){t.push(o.limit_up_count),e.push(o.limit_down_count),n.push(o.timestamp)})),{raiseList:t,downList:e,timestampList:n}}return{raiseList:[],downList:[],timestampList:[]}},behaviorRender:function(){if(this.$store.state.stockSummary.behaviorKlineData){var t=[],e=[];return this.$store.state.stockSummary.behaviorKlineData.map((function(n){t.push(n.yesterday_limit_up_avg_pcp),e.push(n.timestamp)})),{valueList:t,timestampList:e}}return{valueList:[],timestampList:[]}},riseicRender:function(){if(this.$store.state.stockSummary.raiseIncompletedKlineData&&this.$store.state.stockSummary.raiseIncompletedKlineData.length){var t=[],e=[],n=this.$store.state.stockSummary.raiseIncompletedKlineData;n.map((function(n){t.push(n.limit_up_broken_count),e.push(n.timestamp)}));var o=n[n.length-1].limit_up_broken_ratio;return{valueList:t,timestampList:e,boomRate:o}}return{valueList:[],timestampList:[],boomRate:0}},fluctuation:function(){var t=this.$store.state.stockSummary.fluctuationDistributionData;if(!t)return null;for(var e=[],i=10;i>=-10;i--)10===i&&(e.push(t.limit_up_count),e.push(t.st_limit_up_count),e.push(t[20]||0)),e.push(t[i]),-10===i&&(e.push(t[-20]||0),e.push(t.st_limit_down_count),e.push(t.limit_down_count));return e}},methods:{disabledDate:function(t){return 6===c()(t)||7===c()(t)||t>new Date||t<Object(w.subMonths)(new Date,1)},handleChange:function(t){(!(t.getMonth()>(new Date).getMonth()||t.getMonth()<(new Date).getMonth()-1)||11===t.getMonth()&&0===(new Date).getMonth())&&(this.dateOpen=!1,this.$emit("change-date",t))},swapTheme:function(t){t!==this.theme&&this.$emit("change-theme",t)},closeThemeHint:function(){this.themeHint=!1,localStorage.setItem("themeHint",1)}},components:{temperature:h.a,fluctuationContrastChart:d.a,limitContrastChart:_.a,behaviorKlineChart:v.a,raiseIncompletedKlineChart:m.a,fluctuation:k},mixins:[r.a]},T=(n(2632),Object(x.a)(C,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ban-chart-out"},[e("div",{staticClass:"ban-chart-date"},[e("BaseDatePicker",{staticStyle:{width:"100%"},attrs:{value:t.selectDate,disabledDate:t.disabledDate},on:{change:t.handleChange}},[e("div",{staticClass:"ban-chart-date-container"},[e("p",{staticClass:"ban-chart-date-month-week"},[t._v(t._s(t.dateFormatter(t.selectDate,"M月")))]),t._v(" "),e("p",{staticClass:"ban-chart-date-day"},[t._v(t._s(t.dateFormatter(t.selectDate,"DD")))])])]),t._v(" "),e("div",{staticClass:"theme-swapper"},[e("span",{staticClass:"theme-swapper-item",class:{checked:"light"==t.theme},on:{click:function(e){return t.swapTheme("light")}}},[e("i",{staticClass:"iconfont icon-baitianmoshi"})]),t._v(" "),e("span",{staticClass:"theme-swapper-item",class:{checked:"light"!=t.theme},on:{click:function(e){return t.swapTheme("dark")}}},[e("i",{staticClass:"iconfont icon-yejianmoshi"})])]),t._v(" "),t.themeHint?e("div",{staticClass:"ban-chart-date-tip"},[t._v("\n      点击图标可切换黑白模式\n      "),e("i",{staticClass:"icon-cuowu iconfont",on:{click:t.closeThemeHint}})]):t._e()],1),t._v(" "),e("div",{staticClass:"ban-chart"},[t.temperatureVal?e("temperature",{attrs:{width:t.itemWidth,theme:t.theme,temprature:t.temperatureVal}}):t._e(),t._v(" "),e("fluctuation",{attrs:{width:t.itemWidth+20,fluctuation:t.fluctuation}}),t._v(" "),e("fluctuation-contrast-chart",{attrs:{width:t.itemWidth,raiseList:t.fcRender.raiseList,downList:t.fcRender.downList,timestampList:t.fcRender.timestampList}}),t._v(" "),e("limit-contrast-chart",{attrs:{width:t.itemWidth,raiseList:t.limitRender.raiseList,downList:t.limitRender.downList,timestampList:t.limitRender.timestampList}}),t._v(" "),e("raise-incompleted-kline-chart",{attrs:{width:t.itemWidth,valueList:t.riseicRender.valueList,boomRate:t.riseicRender.boomRate,timestampList:t.riseicRender.timestampList}}),t._v(" "),e("behavior-kline-chart",{attrs:{width:t.itemWidth,valueList:t.behaviorRender.valueList,timestampList:t.behaviorRender.timestampList}})],1)])}),[],!1,null,"5a82f44a",null).exports),S=n(467),D=(n(32),n(87),n(806),n(68),n(16),n(15),n(11),n(13),n(8),n(0));n(2633),n(807),n(14);function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){Object(D.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var L={methods:{drawCircle:function(t,e){var n=this;t.map((function(t){var o=n.getPos(t.trade_volume_ratio,t.pcp),r=Math.abs(t.pcr)>3?350:Math.abs(t.pcr)>2?250:Math.abs(t.pcr)>1.5?150:50,l=t.pcr>3||t.pcr>0?"#F24E4E":(t.pcr,"#4BB689"),c=Math.abs(t.pcr)>3?150:Math.abs(t.pcr)>2?130:Math.abs(t.pcr)>1.5?100:25,h=Math.abs(t.pcr)>3?.4:Math.abs(t.pcr)>2?.55:Math.abs(t.pcr)>1.5?.7:.8,code=t.code.split(".")[0];n.$set(n.points,code,M(M(M({},t),o),{},{size:r*e,color:l,scale:e,pcrIndex:t.pcrIndex,fontsize:c*e,opacity:h})),n.points[code].x}))},updateCircle:function(t,e){var n=this;t.map((function(t){var o=n.getPos(t.trade_volume_ratio,t.pcp),r=Math.abs(t.pcr)>3?350:Math.abs(t.pcr)>2?250:Math.abs(t.pcr)>1.5?150:50,l=t.pcr>3||t.pcr>0?"#F24E4E":(t.pcr,"#4BB689"),code=t.code.split(".")[0];if(n.points[code]){var c,h,d={x:n.points[code].x,y:n.points[code].y},_=n.points[code].size;n.selectedStock&&n.selectedStock.code===t.code||n.hoverStockList&&n.hoverStockList.length&&-1!==n.hoverStockList.indexOf(code)?(c=n.points[code].opacity,h=n.points[code].opacity):(c=n.points[code].opacity,h=Math.abs(t.pcr)>3?.4:Math.abs(t.pcr)>2?.55:Math.abs(t.pcr)>1.5?.7:.8);var v=n.points[code].fontsize,m=Math.abs(t.pcr)>3?150:Math.abs(t.pcr)>2?130:Math.abs(t.pcr)>1.5?100:25;n.$set(n.points,code,M(M(M({},t),{x:d.x+(o.x-d.x)*e,y:d.y+(o.y-d.y)*e}),{},{size:_+(r-_)*e,color:l,scale:e,pcrIndex:t.pcrIndex,fontsize:v+(m-v)*e,opacity:c+(h-c)*e,hovered:n.points[code].hovered}))}}))},removeCircle:function(t,e){var n=this;t.map((function(t){var code=t.code.split(".")[0],o=n.points[code].opacity;e<1?n.$set(n.points,code,M(M(M({},t),{x:t.x,y:t.y}),{},{size:t.size-t.size*e,color:t.color,scale:e,pcrIndex:t.pcrIndex,fontsize:t.fontsize,opacity:o-o*e})):-1===n.visiDataCode.indexOf(code)&&n.$delete(n.points,code)}))},getPos:function(t,e){return{x:t>=0&&t<=1?this.xPadding+this.xDefinition*(this.xDef.big-this.xDef.normal)+t/.25*this.xDefinition*this.xDef.normal:this.xPadding+this.xDefinition*(this.xDef.big+3*this.xDef.normal)+(2-1/t-1)/.25*this.xDefinition*this.xDef.normal,y:this.yPadding+this.yDefinition*this.yDef.big+(20-e)/2*this.yDefinition*this.yDef.normal}},drawThemeStockTrend:function(code){var t=0,e=1e3,n=0,o=0;this.stockTrendList[code].trend.map((function(r){t=r.last_px>t?r.last_px:t,e=r.last_px<e?r.last_px:e,n=r.timestamp>n?r.timestamp:n,o=r.timestamp<o?r.timestamp:o}));var r=this.hoverStockList.indexOf(code),l=this.themeTipOrigin(r);if(l){var c=l.y+640/this.svgScale,h=l.y+this.tipSize.height-100/this.svgScale,d=l.x,_=l.x+this.tipSize.width-300/this.svgScale,v=(_-d)/this.stockTrendList[code].trend.length,m=(h-c)/(t-e?t-e:t),f=Math.floor(this.stockTrendList[code].trend.length/(_-d))+1,y=this.stockTrendList[code].trend.map((function(e,i){return[v*i+d,c+m*(t-e.last_px)]})).filter((function(t,i){return!(i%f)}));this.stockTrendList[code].lastStockDot=y[y.length-1],this.stockTrendList[code].stockLine=y.map((function(i){return i.join(",")})).join(" "),this.stockTrendList[code].shadowPolygon=[[d,h]].concat(y).concat([[_,h]]).map((function(i){return i.join(",")})).join(" "),this.$forceUpdate()}}}},O=n(44),z={methods:{svgDragStart:function(t){this.dragStarted=!0,t.touches?(this.dragState.x=t.touches[0].clientX,this.dragState.y=t.touches[0].clientY):(this.dragState.x=t.clientX,this.dragState.y=t.clientY)},svgMouseMove:function(t){var e,n;(t&&t.path&&t.path.length&&"polygon"===t.path[0].tagName&&this.leaveCircle(),this.dragStarted)&&(t.touches?(n=t.touches[0].clientX-this.dragState.x,e=t.touches[0].clientY-this.dragState.y,this.dragState.x=t.touches[0].clientX,this.dragState.y=t.touches[0].clientY):(n=t.clientX-this.dragState.x,e=t.clientY-this.dragState.y,this.dragState.x=t.clientX,this.dragState.y=t.clientY),this.svgTransLeft=this.svgTransLeft+n<0?-this.svgTransLeft-n+this.vWidth>this.vWidth*this.svgScale?this.vWidth-this.vWidth*this.svgScale:this.svgTransLeft+n:0,this.svgTransTop=this.svgTransTop+e<0?-this.svgTransTop-e+this.vHeight>this.vHeight*this.svgScale?this.vHeight-this.vHeight*this.svgScale:this.svgTransTop+e:0,this.renderExtraDegree(),this.getTrend())},svgMouseUp:function(){this.dragStarted=!1},svgMouseWheel:function(t){if(t.stopPropagation(),t.preventDefault(),t.wheelDelta>0){if(this.svgScale<12){var e=this.svgScale,n=this.svgTransTop,o=this.svgTransLeft;this.svgScale=this.svgScale*this.svgWheelStop<12?this.svgScale*this.svgWheelStop:12,t.offsetY,this.svgTransTop=t.offsetY+n-t.offsetY/e*this.svgScale,this.svgTransLeft=t.offsetX+o-t.offsetX/e*this.svgScale}}else if(this.svgScale>1){var r=this.svgScale,l=this.svgTransTop,c=this.svgTransLeft;this.svgScale=this.svgScale/this.svgWheelStop>1?this.svgScale/this.svgWheelStop:1,this.svgTransTop=t.offsetY+l-t.offsetY/r*this.svgScale,this.svgTransTop>0&&(this.svgTransTop=0),this.svgTransTop<this.vHeight-this.vHeight*this.svgScale&&(this.svgTransTop=this.vHeight-this.vHeight*this.svgScale),this.svgTransLeft=t.offsetX+c-t.offsetX/r*this.svgScale,this.svgTransLeft>0&&(this.svgTransLeft=0),this.svgTransLeft<this.vWidth-this.vWidth*this.svgScale&&(this.svgTransLeft=this.vWidth-this.vWidth*this.svgScale)}this.renderExtraDegree(),this.getTrend()},leaveCircle:function(t){var e=this;this.bubbleLock||(this.selectedStock=null,t&&(t.hovered=!1,this.points[t.code.split(".")[0]].hovered=!1),Object.keys(this.points).map((function(t){e.points[t].hovered=!1})),this.lastEnter=null,this.hoverRelatedThemeInfo.symbol=null,this.hoverRelatedThemeInfo.list=[],this.hoverRelatedThemeInfo.stockList=[])},enterCircle:function(t,e){var n=this;this.bubbleLock||(this.stockTrend=[],this.stockLine=null,this.lastStockDot=null,this.shadowPolygon=null,this.hoverRelatedThemeInfo.stockList=[],this.selectedStock=t,this.hoverRelatedThemeInfo.symbol=t.code,t.hovered=!0,this.lastEnter=t.code,setTimeout((function(){n.lastEnter===t.code&&(Object(O.f)(t.code).then((function(e){var o=n.dataBeautifySpecial(e.data);n.lastEnter===t.code&&(n.stockTrend=o[t.code],n.drawStockTrend())})),Object(O.e)(t.code).then((function(t){var e=Object.keys(t.data);if(e&&e.length){var o=e.map((function(e){return{plate_id:e,pcp_core:t.data[e].core_avg_pcp,plate_name:t.data[e].plate_name}}));n.hoverRelatedThemeInfo.list=o.sort((function(a,b){return b.pcp_core-a.pcp_core})),n.hoverRelatedThemeInfo.list&&0===n.hoverRelatedThemeInfo.list.length&&(n.hoverRelatedThemeInfo.list=null)}else n.hoverRelatedThemeInfo.list=null;n.hoverRelatedThemeInfo&&n.hoverRelatedThemeInfo.list&&n.hoverRelatedThemeInfo.list.length&&n.hoverRelatedThemeInfo.list.map((function(t){n.themeMap&&n.themeMap[t.plate_id]&&n.themePcr&&n.themePcr.some((function(e){return e.plate_id===t.plate_id}))&&(n.hoverRelatedThemeInfo.stockList=n.hoverRelatedThemeInfo.stockList.concat(n.themeMap[t.plate_id].stockList))}))})))}),300))},themeLeave:function(){this.hoverTheme=null,this.lastTheme=null,this.hoverStockList=[],this.stockTrendList={}},themeEnter:function(t,e){var n=this;this.lastTheme=t,this.hoverTheme=t,this.hoverStockList=[];var o=[];if(t.stocks&&t.stocks.length){var r=t.stocks.map((function(i){return i.symbol}));this.filterDataList.map((function(t){var e=t.code.split(".")[0];n.points[e]&&r.indexOf(t.code)>-1&&(n.hoverStockList.push(e),o.push(n.points[e].code))})),this.stockTrendList={},setTimeout((function(){o.length&&n.lastTheme&&n.lastTheme.id==t.id&&Object(O.f)(o.join(",")).then((function(e){var o=n.dataBeautifySpecial(e.data);for(var symbol in o){var r=symbol.split(".")[0];n.lastTheme&&n.lastTheme.id==t.id&&(n.stockTrendList[r]={},n.stockTrendList[r].trend=o[symbol],n.drawThemeStockTrend(r))}}))}),300)}else this.hoverTheme=null,this.lastTheme=null,this.hoverStockList=[],this.stockTrendList={}}}},j=n(45);var P={components:{},props:["selectScale"],data:function(){return{showScale:!1,speedRange:[],sliderMarks:{"-3":"-3%","-2":"-2%","-1":"-1%",0:"0%",1:"1%",2:"2%",3:"3%"}}},mounted:function(){this.speedRange=JSON.parse(JSON.stringify(this.selectScale))},computed:{chartScale:function(){return-4===this.selectScale[0]&&4===this.selectScale[1]?"全部":(-4===this.selectScale[0]?"跌停":this.selectScale[0]+"%")+"~"+(4===this.selectScale[1]?"涨停":this.selectScale[1]+"%")}},methods:{showGuide:function(){this.$emit("guide")},hideBubble:function(){this.$emit("hide-bubble")},changeSlider:function(t){console.log(t),this.$emit("change-slider",t)}},mixins:[r.a]},R=(n(2634),n(2635),n(2636),Object(x.a)(P,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"chart-title"},[e("div",{staticClass:"chart-title-text"},[e("span",[t._v("异动分布")]),t._v(" "),e("v-popover",{staticStyle:{display:"inline-block"},attrs:{offset:"16"}},[e("div",{staticClass:"chart-title-text-sub"},[e("div",{staticClass:"chart-title-text-round"}),t._v(" "),e("span",[t._v("图示说明")])]),t._v(" "),e("template",{slot:"popover"},[e("div",{staticClass:"chart-scale"},[e("div",{staticClass:"chart-scale-h"},[t._v("圆圈大小表示涨跌速度，圆越大，涨跌速越大")]),t._v(" "),e("div",{staticClass:"chart-scale-g"},[e("div",{staticClass:"chart-scale-g-item"},[e("div",{staticClass:"chart-scale-g-item-round-container"},[e("div",{staticClass:"chart-scale-100"})]),t._v(" "),e("div",{staticClass:"chart-scale-g-item-text"},[t._v("涨跌速≥3%")])]),t._v(" "),e("div",{staticClass:"chart-scale-g-item"},[e("div",{staticClass:"chart-scale-g-item-round-container"},[e("div",{staticClass:"chart-scale-64"})]),t._v(" "),e("div",{staticClass:"chart-scale-g-item-text"},[t._v("2%≤涨跌速＜3%")])]),t._v(" "),e("div",{staticClass:"chart-scale-g-item"},[e("div",{staticClass:"chart-scale-g-item-round-container"},[e("div",{staticClass:"chart-scale-32"})]),t._v(" "),e("div",{staticClass:"chart-scale-g-item-text"},[t._v("1.5%≤涨跌速＜2%")])]),t._v(" "),e("div",{staticClass:"chart-scale-g-item"},[e("div",{staticClass:"chart-scale-g-item-round-container"},[e("div",{staticClass:"chart-scale-16"})]),t._v(" "),e("div",{staticClass:"chart-scale-g-item-text"},[t._v("1%≤涨跌速＜1.5%")])])])])])],2),t._v(" "),t._m(0)],1),t._v(" "),e("div",{staticClass:"chart-title-scale"},[e("span",{staticClass:"chart-title-scale-text"},[t._v("涨速范围")]),t._v(" "),-4==t.selectScale[0]&&4==t.selectScale[1]?e("span",{staticClass:"chart-title-scale-detail"},[t._v(t._s(t.chartScale))]):t._e(),t._v(" "),-4!=t.selectScale[0]||4!=t.selectScale[1]?e("span",{staticClass:"chart-title-scale-detail"},[e("span",{staticClass:"chart-title-scale-detail-v1",class:t.color(t.selectScale[0])},[t._v(t._s(-4==t.selectScale[0]?"跌停":t.selectScale[0]+"%"))]),t._v("~\n      "),e("span",{staticClass:"chart-title-scale-detail-v2",class:t.color(t.selectScale[1])},[t._v(t._s(4==t.selectScale[1]?"涨停":t.selectScale[1]+"%"))])]):t._e(),t._v(" "),e("div",{staticClass:"chart-title-scale-slider"},[e("client-only",[e("BaseRangeSlider",{attrs:{min:-4,max:4,marks:t.sliderMarks,defaultValue:[-4,4]},on:{change:t.changeSlider},model:{value:t.speedRange,callback:function(e){t.speedRange=e},expression:"speedRange"}})],1)],1)])])}),[function(){var t=this._self._c;return t("a",{staticClass:"chart-title-text-sub",attrs:{href:"https://jinshuju.net/f/6j3wUG",target:"_blank",rel:"“noreferrer"}},[t("i",{staticClass:"iconfont"},[this._v("")])])}],!1,null,"139b5405",null).exports),E=n(92),F=n.n(E),A={name:"DotSpinner"},H=(n(2637),Object(x.a)(A,(function(){this._self._c;return this._m(0)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"dot-spinner"},[e("div",{staticClass:"bounce1"}),t._v(" "),e("div",{staticClass:"bounce2"}),t._v(" "),e("div",{staticClass:"bounce3"})])}],!1,null,"6f282d9c",null).exports);function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){Object(D.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $={props:["mainWidth","mainHeight","theme"],mounted:function(){this.init(),this.filterDataList&&this.updateBubbleData(this.filterDataList)},data:function(){return{svgScale:1,loading:!1,svgWheelStop:1.5,svgTransTop:0,svgTransLeft:0,timer:0,dragStarted:!1,dragState:{x:0,y:0},dpr:window.devicePixelRatio,selectScale:[-4,4],lastScale:null,transitDuration:700,xPadding:250,yPadding:10,colorRed:"#F2564E",colorGreen:"#18A66B",colorGray:"rgba(153, 153, 153, 1)",yDef:{big:1,normal:1},xDef:{big:2,normal:1},yAxisLabel:[{label:"20%",type:"big",value:.2},{label:"18%",type:"normal",value:.18},{label:"16%",type:"normal",value:.16},{label:"14%",type:"normal",value:.14},{label:"12%",type:"normal",value:.12},{label:"10%",type:"normal",value:.1},{label:"8%",type:"normal",value:.08},{label:"6%",type:"normal",value:.06},{label:"4%",type:"normal",value:.04},{label:"2%",type:"normal",value:.02},{label:"0%",type:"normal",value:0},{label:"-2%",type:"normal",value:-.02},{label:"-4%",type:"normal",value:-.04},{label:"-6%",type:"normal",value:-.06},{label:"-8%",type:"normal",value:-.08},{label:"-10%",type:"normal",value:-.1},{label:"-12%",type:"normal",value:-.12},{label:"-14%",type:"normal",value:-.14},{label:"-16%",type:"normal",value:-.16},{label:"-18%",type:"normal",value:-.18},{label:"-20%",type:"normal",value:-.2}],xAxisLabel:[{label:0,height:0,opacity:0,type:"normal"},{label:.25,height:1,opacity:.5,type:"normal"},{label:.5,height:2,opacity:.5,type:"normal"},{label:.75,opacity:.5,height:3,type:"normal"},{label:1,opacity:.5,height:4,type:"normal"},{label:1.33,height:5,opacity:.8,type:"normal"},{label:2,opacity:.8,height:6,type:"normal"},{label:4,height:7,opacity:1,type:"normal"},{label:0,height:0,opacity:0,type:"normal"}],yAxisLine:null,specialYline:[],borderRect:{xMin:0,xMax:0,yMin:0,yMax:0},bigUpRect:{xMin:0,xMax:0,yMin:0,yMax:0},bigDownRect:{xMin:0,xMax:0,yMin:0,yMax:0},extraDegree:[],xAxisLine:null,xsep:null,ySep:null,xDefinition:null,YDefinition:null,points:{},visiDataCode:[],selectedStock:null,lastEnter:null,stockTrend:[],stockTrendList:{},stockLine:null,themeStockLine:null,shadowPolygon:null,lastStockDot:null,relatedTheme:{up:[],down:[]},themeMap:null,hoverTheme:null,hoverStockList:null,hoverRelatedThemeInfo:{symbol:null,list:[],stockList:[]},showScale:!1,trendRate:[],maxTrendAbs:0,trendPoly:"",trendIndicator:[],bubbleLock:!1}},computed:{themePcr:function(){return this.$store.state.bubble.themePcr},filterDataList:function(){return this.filt(this.$store.state.bubble.bubbleList)},vWidth:function(){return this.mainWidth-180},vHeight:function(){return this.mainHeight-60},width:function(){return 10*this.vWidth},height:function(){return 10*this.vHeight},svgCircleScale:function(){return(this.svgScale-1)/3+1},isDark:function(){return"light"!==this.theme},crossColor:function(){return"light"==this.theme?"#efefef":"#393e4d"},crossColorMain:function(){return"light"==this.theme?"#dfdfdf":"#4F4D66"},trend:function(){return this.$store.state.stockTrend.trend}},watch:{filterDataList:function(t,e){this.updateBubbleData(t,e)},trend:function(){this.getTrend()}},beforeDestroy:function(){this.stopInterval()},methods:{cancelStockLock:function(){var t=this.bubbleLock;this.bubbleLock=!1,this.leaveCircle(t,"hover")},onStockBubbleClick:function(t){this.bubbleLock?this.bubbleLock=!1:this.bubbleLock=t},updateBubbleData:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this.cancelStockLock(),this.visiDataCode=t.map((function(i){return i.code.split(".")[0]})),this.themePcr&&this.themePcr.length){var o=this.themePcr.filter((function(i){return i.stocks&&i.stocks.length&&i.stocks[0].mtm>0})),r=this.themePcr.filter((function(i){return i.stocks&&i.stocks.length&&i.stocks[0].mtm<0}));this.getThemeSummary(o,r)}else{this.getThemeSummary([],[])}this.newDataList=[];var l,c,h,d=t.filter((function(t){var code=t.code.split(".")[0];return e.newDataList.push(code),e.points[code]})),_=t.filter((function(t){var code=t.code.split(".")[0];return!e.points[code]})),v=[];n.map((function(t){var code=t.code.split(".")[0];-1===e.newDataList.indexOf(code)&&v.push(e.points[code])})),l=function(t){e.drawCircle(_,t),e.updateCircle(d,t),e.removeCircle(v,t)},c=this.transitDuration,new Promise((function(t){var e;requestAnimationFrame((function n(o){if(e||(e=o),c){var r=(o-e)/c;r>1&&(r=1),l(h?h(r):r),r<1?requestAnimationFrame(n):t()}else l(o-e),requestAnimationFrame(n)}))}))},init:function(){this.getAxisLine(),this.startInterval()},resize:function(){var t=this;this.getAxisLine();var e=this.filterDataList.filter((function(e){var code=e.code.split(".")[0];return t.newDataList.push(code),t.points[code]}));this.updateCircle(e,1),this.getTrend()},getData:function(){},startInterval:function(){},renderExtraDegree:function(){var t,e,n,o=this;t=-this.svgTransLeft/this.svgScale*this.width/this.vWidth,e=-this.svgTransTop/this.svgScale*this.height/this.vHeight,this.svgTransLeft,this.svgScale,this.width,this.vWidth,this.width,this.svgScale,n=-this.svgTransTop/this.svgScale*this.height/this.vHeight+this.height/this.svgScale,this.extraDegree=t>500?this.yAxisLine.filter((function(t){return t.yValue>e&&t.yValue<n})).map((function(i){return i.x=t+100/o.svgScale,i})):[]},stopInterval:function(){clearInterval(this.timer)},getTrend:function(){var t,e,n,o,r=this;t=this.xPadding/this.svgScale-this.svgTransLeft/this.svgScale*this.width/this.vWidth,n=-this.svgTransTop/this.svgScale*this.height/this.vHeight,e=-this.svgTransLeft/this.svgScale*this.width/this.vWidth+this.width/this.svgScale,o=-this.svgTransTop/this.svgScale*this.height/this.vHeight+this.height/this.svgScale;var source=JSON.parse(JSON.stringify(this.$store.state.stockTrend.trend||[]));this.preClose=this.$store.state.stockTrend.preValue;var l=this.preClose.map((function(i){return i.pre_close_px}));this.trendRate=source.map((function(i){return i.map((function(t,e){return 0==e?t:t/(l[e-1]?l[e-1]:t)-1}))}));var c=0;this.trendRate.map((function(t){Math.abs(t[1])>c&&(c=Math.abs(t[1]))})),this.maxTrendAbs=c;var h=.2*(o-n),d=(e-t)/240,_=this.trendRate.map((function(e,l){return"".concat(l*d+t,",").concat((o+n)/2-e[1]/r.maxTrendAbs*h)}));this.trendIndicator=[{x1:t,y1:(o+n)/2+h,x2:e,y2:(o+n)/2+h,value:-this.maxTrendAbs},{x1:t,y1:(o+n)/2-h,x2:e,y2:(o+n)/2-h,value:this.maxTrendAbs}],this.trendPoly=_.join(" ")},getAxisLine:function(){var t=this,e=0;this.yAxisLabel.map((function(n){switch(n.type){case"big":e+=t.yDef.big;break;case"normal":e+=t.yDef.normal;break;case"small":e+=t.yDef.small}})),e+=this.yDef.big,this.ySep=e,this.yDefinition=Math.floor((this.height-2*this.yPadding)/e),this.yMax=this.yDefinition*e+this.yPadding;var n=this.yPadding;this.yAxisLine=this.yAxisLabel.map((function(e){switch(e.type){case"big":return n+=t.yDefinition*t.yDef.big,B(B({},e),{},{yValue:n});case"normal":return n+=t.yDefinition*t.yDef.normal,B(B({},e),{},{yValue:n});case"small":return n+=t.yDefinition*t.yDef.small,B(B({},e),{},{yValue:n})}})),this.specialYline=[{label:"7%",value:this.yPadding+7.5*this.yDefinition},{label:"7%",value:this.yPadding+14.5*this.yDefinition}];var o=0;this.xAxisLabel.map((function(e){switch(e.type){case"big":o+=t.xDef.big;break;case"normal":o+=t.xDef.normal}})),o+=this.xDef.normal,this.xSep=o,this.xDefinition=Math.floor((this.width-this.xPadding)/o);var r=this.xPadding;return this.xMax=this.xDefinition*o+this.xPadding,this.xAxisLine=this.xAxisLabel.map((function(e){switch(e.type){case"big":return r+=t.xDefinition*t.xDef.big,B(B({},e),{},{xValue:r});case"normal":return r+=t.xDefinition*t.xDef.normal,B(B({},e),{},{xValue:r})}})),this.borderRect={xMin:this.xPadding,xMax:this.xMax,yMin:this.yPadding,yMax:this.yMax},this.bigUpRect={xMin:this.xPadding,xMax:this.xMax,yMin:this.yPadding,yMax:this.yPadding+7.5*this.yDefinition},this.bigDownRect={xMin:this.xPadding,xMax:this.xMax,yMin:this.yPadding+14.5*this.yDefinition,yMax:this.yMax},Promise.resolve(1)},getThemeSummary:function(t,e){this.relatedTheme.up=t.sort((function(a,b){return b.stocks[0].pcr-a.stocks[0].pcr})),this.relatedTheme.down=e.sort((function(a,b){return a.stocks[0].pcr-b.stocks[0].pcr}))},lbpoly:function(t){var e=this.yDefinition*this.yDef.normal*.5;return"".concat(t.xValue-30," ").concat(this.yMax,",").concat(t.xValue+30," ").concat(this.yMax,",").concat(t.xValue+30," ").concat(this.yMax-.1*t.height*e,",").concat(t.xValue-30," ").concat(this.yMax-.1*t.height*e)},filt:function(t){var e=this;return t.filter((function(i){var t=-4===e.selectScale[0]?-11:e.selectScale[0],n=4===e.selectScale[1]?11:e.selectScale[1];return i.pcr>=t&&i.pcr<=n})).sort((function(a,b){return Math.abs(b.pcr)-Math.abs(a.pcr)})).map((function(t,e){return t.pcrIndex=e,t}))},drawStockTrend:function(){var t=0,e=1e3,n=0,o=0;if(this.stockTrend&&this.stockTrend.length){this.stockTrend.map((function(r){t=r.last_px>t?r.last_px:t,e=r.last_px<e?r.last_px:e,n=r.timestamp>n?r.timestamp:n,o=r.timestamp<o?r.timestamp:o}));var r=this.tipOrigin(this.selectedStock);if(r){var l=r.y+640/this.svgScale,c=r.y+this.tipSize.height-100/this.svgScale,h=r.x,d=r.x+this.tipSize.width-300/this.svgScale,_=(d-h)/this.stockTrend.length,v=(c-l)/(t-e?t-e:t),m=Math.floor(this.stockTrend.length/(d-h))+1,f=this.stockTrend.map((function(e,i){return[_*i+h,l+v*(t-e.last_px)]})).filter((function(t,i){return!(i%m)}));this.lastStockDot=f[f.length-1],this.stockLine=f.map((function(i){return i.join(",")})).join(" "),this.shadowPolygon=[[h,c]].concat(f).concat([[d,c]]).map((function(i){return i.join(",")})).join(" ")}}},changeSlider:function(t){JSON.stringify(t)===JSON.stringify(this.lastScale)||(this.lastScale=t,this.selectScale=t)},hideBubble:function(){this.$emit("hide-bubble")},showGuide:function(){this.$emit("guide")},inrelatedTheme:function(t){return!(!this.relatedTheme.up.length&&!this.relatedTheme.down.length)&&(!(!this.relatedTheme.up.length||!this.relatedTheme.up.some((function(i){return i.plate_id===t.plate_id})))||!(!this.relatedTheme.down.length||!this.relatedTheme.down.some((function(i){return i.plate_id===t.plate_id}))))},rectStr:function(t){return"".concat(t.xMin," ").concat(t.yMin,", ").concat(t.xMax," ").concat(t.yMin,", ").concat(t.xMax," ").concat(t.yMax,", ").concat(t.xMin," ").concat(t.yMax)},rectStrArrow:function(t){return"".concat(t.xMin," ").concat(t.yMin,", ").concat(t.xMax," ").concat(t.yMin,", ").concat(t.xMax," ").concat(t.yMax,", ").concat(t.xMin," ").concat(t.yMax)}},mixins:[r.a,L,{computed:{tipSize:function(){var t=2*this.xDefinition*this.xDef.normal/this.svgScale,e=2.5*this.yDefinition*this.yDef.normal/this.svgScale;return{width:t=t*this.svgScale>1500?t*this.svgScale<1920/this.svgScale?t:1920:1500/this.svgScale,height:e=e*this.svgScale>1e3?e*this.svgScale<1200?e:1200/this.svgScale:1e3/this.svgScale}}},methods:{stockFillColor:function(t){return this.stockStyleNormal(t)?t.color:"rgba(230,230,230,0.6)"},stockOpacity:function(t){return this.stockStyleNormal(t)&&t.hovered?1:t.opacity},stockTextVisible:function(t){if(!this.hoverTheme&&!this.hoverRelatedThemeInfo.symbol)return t.size*this.svgCircleScale>200||t.pcrIndex<20;if(this.hoverTheme){var e=t.code.split(".")[0];return!(!this.hoverStockList||!this.hoverStockList.length||-1===this.hoverStockList.indexOf(e))}return this.hoverRelatedThemeInfo.symbol?!!(this.hoverRelatedThemeInfo.symbol===t.code||this.hoverRelatedThemeInfo.list&&this.hoverRelatedThemeInfo.list.length&&this.hoverRelatedThemeInfo.stockList&&this.hoverRelatedThemeInfo.stockList.length&&this.hoverRelatedThemeInfo.stockList.some((function(s){return s.code===t.code}))):void 0},stockStyleNormal:function(t){if(!this.hoverTheme&&!this.hoverRelatedThemeInfo.symbol)return!0;if(this.hoverTheme){var e=t.code.split(".")[0];return!(!this.hoverStockList||!this.hoverStockList.length||-1===this.hoverStockList.indexOf(e))}return this.hoverRelatedThemeInfo.symbol?!!(this.hoverRelatedThemeInfo.symbol===t.code||this.hoverRelatedThemeInfo.list&&this.hoverRelatedThemeInfo.list.length&&this.hoverRelatedThemeInfo.stockList&&this.hoverRelatedThemeInfo.stockList.length&&this.hoverRelatedThemeInfo.stockList.some((function(s){return s.code===t.code}))):void 0},tipPos:function(t){var e,n,o;e=-this.svgTransLeft/this.svgScale*this.width/this.vWidth,this.svgTransTop,this.svgScale,this.height,this.vHeight,n=-this.svgTransLeft/this.svgScale*this.width/this.vWidth+this.width/this.svgScale,o=-this.svgTransTop/this.svgScale*this.height/this.vHeight+this.height/this.svgScale;var r=this.tipSize.width,l=this.tipSize.height,c=t.size/this.svgScale*this.svgCircleScale,h=100/this.svgScale;return t.y+c+h+l<o?t.x-c-r/2-h<e?"".concat(t.x+c+h," ").concat(t.y+c+h,",").concat(t.x+c+r+h," ").concat(t.y+c+h,",").concat(t.x+c+r+h," ").concat(t.y+c+h+l,",").concat(t.x+c+h," ").concat(t.y+c+h+l):t.x+c+r/2+h>n?"".concat(t.x-c-r-h," ").concat(t.y+c+h,",").concat(t.x-c-h," ").concat(t.y+c+h,",").concat(t.x-c-h," ").concat(t.y+c+h+l,",").concat(t.x-c-r-h," ").concat(t.y+c+h+l):"".concat(t.x-r/2," ").concat(t.y+c+h,",").concat(t.x+r/2," ").concat(t.y+c+h,",").concat(t.x+r/2," ").concat(t.y+c+h+l,",").concat(t.x-r/2," ").concat(t.y+c+h+l):t.x-c-r/2-h<e?"".concat(t.x+c+h," ").concat(t.y-c-h-l,",").concat(t.x+c+r+h," ").concat(t.y-c-h-l,",").concat(t.x+c+r+h," ").concat(t.y-c-h,",").concat(t.x+c+h," ").concat(t.y-c-h):t.x+c+r/2+h>n?"".concat(t.x-c-r-h," ").concat(t.y-c-h-l,",").concat(t.x-c-h," ").concat(t.y-c-h-l,",").concat(t.x-c-h," ").concat(t.y-c-h,",").concat(t.x-c-r-h," ").concat(t.y-c-h):"".concat(t.x-r/2," ").concat(t.y-c-h-l,",").concat(t.x+r/2,"  ").concat(t.y-c-h-l,",").concat(t.x+r/2,"  ").concat(t.y-c-h,",").concat(t.x-r/2,"  ").concat(t.y-c-h)},tipOrigin:function(t){if(t){var e,n,o;e=-this.svgTransLeft/this.svgScale*this.width/this.vWidth,-this.svgTransTop/this.svgScale*this.height/this.vHeight,n=-this.svgTransLeft/this.svgScale*this.width/this.vWidth+this.width/this.svgScale,o=-this.svgTransTop/this.svgScale*this.height/this.vHeight+this.height/this.svgScale;var r=this.tipSize.width,l=this.tipSize.height,c=t.size/this.svgScale*this.svgCircleScale,h=100/this.svgScale;return t.y+c+h+l<o?t.x-c-r/2-h<e?{x:t.x+c+h,y:t.y+c+h}:t.x+c+r/2+h>n?{x:t.x-c-r-h,y:t.y+c+h}:{x:t.x-r/2,y:t.y+c+h}:t.x-c-r/2-h<e?{x:t.x+c+h,y:t.y-c-h-l}:t.x+c+r/2+h>n?{x:t.x-c-r-h,y:t.y-c-h-l}:{x:t.x-r/2,y:t.y-c-h-l}}},themeTipPos:function(t){var e,n;e=-this.svgTransLeft/this.svgScale*this.width/this.vWidth,n=(150-this.svgTransTop*this.height/this.vHeight)/this.svgScale,this.svgTransLeft,this.svgScale,this.width,this.vWidth,this.width,this.svgScale,this.svgTransTop,this.svgScale,this.height,this.vHeight,this.height,this.svgScale;var o=this.tipSize.width,r=this.tipSize.height;return"".concat(e+300/this.svgScale," ").concat(n+2.8*t*r/2.5,",\n          ").concat(e+o+300/this.svgScale," ").concat(n+2.8*t*r/2.5,",\n          ").concat(e+o+300/this.svgScale," ").concat(n+2.8*t*r/2.5+r,",\n          ").concat(e+300/this.svgScale," ").concat(n+2.8*t*r/2.5+r)},themeTipOrigin:function(t){var e,n;e=-this.svgTransLeft/this.svgScale*this.width/this.vWidth,n=(150-this.svgTransTop*this.height/this.vHeight)/this.svgScale,this.svgTransLeft,this.svgScale,this.width,this.vWidth,this.width,this.svgScale,this.svgTransTop,this.svgScale,this.height,this.vHeight,this.height,this.svgScale;this.tipSize.width;var o=this.tipSize.height;return{x:e+300/this.svgScale,y:n+2.8*t*o/2.5}},renderExtraDegree:function(){var t,e,n,o=this;t=-this.svgTransLeft/this.svgScale*this.width/this.vWidth,e=-this.svgTransTop/this.svgScale*this.height/this.vHeight,this.svgTransLeft,this.svgScale,this.width,this.vWidth,this.width,this.svgScale,n=-this.svgTransTop/this.svgScale*this.height/this.vHeight+this.height/this.svgScale,this.extraDegree=t>500?this.yAxisLine.filter((function(t){return t.yValue>e&&t.yValue<n})).map((function(i){return i.x=t+100/o.svgScale,i})):[]}}},z],components:{bubbleTitle:R,dotSpinner:H},filters:{dateFilter:function(t){return F()(new Date(t),"MM-DD")},codeFilter:function(code){return code.split(".")[0]}}},W=$,Y=(n(2638),Object(x.a)(W,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bubble"},[e("div",{staticClass:"bubble-title"},[e("bubble-title",{attrs:{"select-scale":t.selectScale},on:{"hide-bubble":t.hideBubble,"change-slider":t.changeSlider,guide:t.showGuide}})],1),t._v(" "),e("div",{staticClass:"bubble-main"},[e("div",{staticClass:"bubble-chart"},[e("div",{staticClass:"svg-container",style:{width:t.vWidth+"px",height:t.vHeight+"px"}},[e("svg",{ref:"chartSvg",staticClass:"chart-svg",class:{zoomed:t.svgScale>1},style:{left:t.svgTransLeft+"px",top:t.svgTransTop+"px"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(t.width," ").concat(t.height),width:t.vWidth*t.svgScale,height:t.vHeight*t.svgScale},on:{mousedown:t.svgDragStart,mousemove:t.svgMouseMove,mouseup:t.svgMouseUp,mouseleave:t.svgMouseUp,mousewheel:t.svgMouseWheel}},[e("defs",[e("filter",{attrs:{id:"dropshadow",height:"130%"}},[e("feGaussianBlur",{attrs:{in:"SourceAlpha",stdDeviation:30/t.svgScale}}),t._v(" "),e("feOffset",{attrs:{dx:"1",dy:"1",result:"offsetblur"}}),t._v(" "),e("feComponentTransfer",[e("feFuncA",{attrs:{type:"linear",slope:"0.15"}})],1),t._v(" "),e("feMerge",[e("feMergeNode"),t._v(" "),e("feMergeNode",{attrs:{in:"SourceGraphic"}})],1)],1)]),t._v(" "),t.yAxisLine&&t.yAxisLine.length&&t.xAxisLine&&t.xAxisLine.length&&t.specialYline&&t.specialYline.length?[e("polygon",{attrs:{"stroke-width":1,"vector-effect":"non-scaling-stroke",stroke:t.isDark?"#3B394D":"#EFEFEF",fill:t.isDark?"#272633":"#FCFCFC",points:t.rectStr(t.borderRect)}}),t._v(" "),e("polygon",{attrs:{fill:t.isDark?"rgba(230, 46, 77,0.05)":"rgba(230, 46, 77,0.02)",points:t.rectStr(t.bigUpRect)}}),t._v(" "),e("polygon",{attrs:{fill:t.isDark?"rgba(10, 191, 161,0.05)":"rgba(10, 191, 161,0.02)",points:t.rectStr(t.bigDownRect)}}),t._v(" "),t._l(t.yAxisLine,(function(n){return e("line",{key:n.code,attrs:{"vector-effect":"non-scaling-stroke","stroke-width":1,stroke:0==n.value?t.crossColorMain:t.crossColor,x1:t.xPadding,y1:n.yValue,x2:t.xMax,y2:n.yValue}})})),t._v(" "),e("line",{attrs:{"stroke-width":1,"vector-effect":"non-scaling-stroke",stroke:t.crossColor,x1:t.xPadding,y1:t.yPadding,x2:t.xPadding,y2:t.yMax}}),t._v(" "),t._l(t.xAxisLine,(function(n){return e("line",{key:n.code,attrs:{"vector-effect":"non-scaling-stroke","stroke-width":1,stroke:1==n.label?t.crossColorMain:t.crossColor,x1:n.xValue,y1:t.yPadding,x2:n.xValue,y2:t.yMax}})})),t._v(" "),t._l(t.specialYline,(function(n,o){return e("line",{key:n.value,attrs:{"stroke-dasharray":"4","vector-effect":"non-scaling-stroke","stroke-width":1,stroke:o?"#0abfa1":"#EA5454",x1:t.xPadding,y1:n.value,x2:t.xMax,y2:n.value}})})),t._v(" "),t._l(t.xAxisLine,(function(n){return e("polygon",{key:n.xValue,attrs:{opacity:n.opacity,fill:"#525566",points:t.lbpoly(n)}})})),t._v(" "),e("text",{attrs:{fill:"#999","text-anchor":"end",x:t.xMax-t.xDefinition*t.xDef.normal*.3,y:t.yMax-100/t.svgScale,"font-size":"100"}},[t._v("量比")]),t._v(" "),t._l(t.yAxisLine,(function(n){return e("text",{key:n.code,attrs:{fill:n.value>0?t.colorRed:n.value<0?t.colorGreen:t.colorGray,"text-anchor":"end",x:t.xPadding,y:n.yValue+45,"font-size":"100"}},[t._v(t._s(n.label))])})),t._v(" "),t._l(t.specialYline,(function(n,o){return e("polygon",{key:o,attrs:{fill:o?"#0abfa1":"#EA5454",points:"".concat(t.xPadding," ").concat(n.value-60,", ").concat(t.xPadding/4," ").concat(n.value-60,", ").concat(t.xPadding/4," ").concat(n.value+60,", ").concat(t.xPadding," ").concat(n.value+60,", ").concat(1.25*t.xPadding," ").concat(n.value)}})})),t._v(" "),t._l(t.specialYline,(function(n){return e("text",{key:n.value+Math.random(),attrs:{fill:"#fff","text-anchor":"end",x:t.xPadding,y:n.value+45,"font-size":"100"}},[t._v(t._s(n.label))])}))]:t._e(),t._v(" "),t.maxTrendAbs&&t.trendPoly&&t.trendIndicator&&t.trendIndicator.length?[e("polyline",{attrs:{opacity:"0.8","vector-effect":"non-scaling-stroke",fill:"none","stroke-width":1,points:t.trendPoly,stroke:"#007fff"}}),t._v(" "),t._l(t.trendIndicator,(function(line){return e("g",{key:line.value},[e("line",{attrs:{opacity:"1",stroke:"#007fff","vector-effect":"non-scaling-stroke",fill:"none","stroke-width":1,x1:line.x2-100/t.svgScale,y1:line.y1,x2:line.x2,y2:line.y2}}),t._v(" "),e("text",{attrs:{fill:"#007fff","font-size":100/t.svgScale,"text-anchor":"end",x:line.x2-150/t.svgScale,y:(line.value,line.y2+50/t.svgScale)}},[t._v(t._s(t.rate(line.value,2)))])])}))]:t._e(),t._v(" "),t.extraDegree&&t.extraDegree.length?t._l(t.extraDegree,(function(n){return e("text",{key:n.yValue,attrs:{fill:n.value>0?t.colorRed:n.value<0?t.colorGreen:t.colorGray,"text-anchor":"start",x:n.x,y:n.yValue,"font-size":100/t.svgScale*t.svgCircleScale}},[t._v(t._s(n.label))])})):t._e(),t._v(" "),t.points?[t._l(t.points,(function(n){return n.hovered||t.hoverStockList&&t.hoverStockList.length&&(!n.code||-1!=t.hoverStockList.indexOf(n.code.split(".")[0]))?t._e():e("g",{key:n.code,staticClass:"stock-item",attrs:{id:n.code+"default"},on:{mouseenter:function(e){return t.enterCircle(n,e)},mouseout:function(e){return t.leaveCircle(n,"default")}}},[e("circle",{key:"circle"+n.code.split(".")[0],staticClass:"stock-circle",attrs:{cx:n.x,cy:n.y,r:n.size/t.svgScale*t.svgCircleScale,fill:t.stockFillColor(n),"fill-opacity":t.stockOpacity(n)}}),t._v(" "),t.stockTextVisible(n)?e("text",{key:"text"+n.code.split(".")[0],staticClass:"stock-text",attrs:{"text-anchor":"middle",fill:t.isDark||n.size*t.svgCircleScale>150?"#fff":n.pcr>0?"#80192b":"#067361",x:n.x,y:n.y+n.size/t.svgScale*t.svgCircleScale/6,"font-size":n.size*t.svgCircleScale>150?(n.size-5)/2/t.svgScale*t.svgCircleScale:110/t.svgScale}},[t._v(t._s(n.prod_name))]):t._e()])})),t._v(" "),t._l(t.points,(function(n){return t.hoverStockList&&t.hoverStockList.length&&n.code&&-1!=t.hoverStockList.indexOf(n.code.split(".")[0])?e("g",{key:n.points,staticClass:"stock-item"},[e("circle",{key:"hcircle"+n.code.split(".")[0],staticClass:"stock-circle",attrs:{cx:n.x,cy:n.y,r:n.size/t.svgScale*t.svgCircleScale,fill:n.color,"fill-opacity":n.opacity}}),t._v(" "),e("text",{key:"text"+n.code.split(".")[0],staticClass:"stock-text",attrs:{"text-anchor":"middle",fill:t.isDark||n.size*t.svgCircleScale>150?"#fff":n.pcr>0?"#80192b":"#067361",x:n.x,y:n.y+n.size/t.svgScale*t.svgCircleScale/6,"font-size":n.size*t.svgCircleScale>150?n.fontsize/t.svgScale*t.svgCircleScale:11e4/t.vWidth/t.svgScale}},[t._v(t._s(n.prod_name))])]):t._e()})),t._v(" "),t._l(t.points,(function(n){return n.hovered?e("g",{key:n.points,staticClass:"stock-item",attrs:{id:n.code+"hover"},on:{mouseenter:function(e){return t.enterCircle(n,e)},mouseout:function(e){return t.leaveCircle(n,"hover")},click:function(e){return t.onStockBubbleClick(n)}}},[e("circle",{key:"circle"+n.code.split(".")[0],staticClass:"stock-circle",attrs:{cx:n.x,cy:n.y,r:n.size/t.svgScale*t.svgCircleScale,fill:t.stockFillColor(n),"fill-opacity":t.stockOpacity(n)}}),t._v(" "),t.stockTextVisible(n)?e("text",{key:"text"+n.code.split(".")[0],staticClass:"stock-text",attrs:{"text-anchor":"middle",fill:t.isDark||n.size*t.svgCircleScale>150?"#fff":n.pcr>0?"#80192b":"#067361",x:n.x,y:n.y+n.size/t.svgScale*t.svgCircleScale/6,"font-size":n.size*t.svgCircleScale>150?(n.size-5)/2/t.svgScale*t.svgCircleScale:110/t.svgScale}},[t._v(t._s(n.prod_name))]):t._e()]):t._e()}))]:t._e(),t._v(" "),t.selectedStock?e("g",{staticClass:"selected-polygon",on:{mouseenter:function(e){return t.leaveCircle()}}},[e("polygon",{attrs:{filter:"url(#dropshadow)",fill:t.isDark?"#3F4352":"#fff",points:t.tipPos(t.selectedStock)}}),t._v(" "),e("text",{staticClass:"stock-text",attrs:{"text-anchor":"start",fill:t.isDark?"#ffffff":"#333",x:t.tipOrigin(t.selectedStock).x+100/t.svgScale,y:t.tipOrigin(t.selectedStock).y+280/t.svgScale,"font-size":160/t.svgScale}},[t._v(t._s(t.selectedStock.prod_name))]),t._v(" "),e("text",{staticClass:"stock-text",attrs:{"text-anchor":"start",fill:t.isDark?"#999999":"#666",x:t.tipOrigin(t.selectedStock).x+100/t.svgScale,y:t.tipOrigin(t.selectedStock).y+440/t.svgScale,"font-size":120/t.svgScale}},[t._v(t._s(t._f("codeFilter")(t.selectedStock.code)))]),t._v(" "),e("text",{staticClass:"stock-text",attrs:{"text-anchor":"start",fill:t.isDark?"#999999":"#666",x:t.tipOrigin(t.selectedStock).x+100/t.svgScale,y:t.tipOrigin(t.selectedStock).y+600/t.svgScale,"font-size":120/t.svgScale}},[t._v("\n              涨速\n              "),e("tspan",{attrs:{fill:t.colorStr(t.selectedStock.pcr)}},[t._v(t._s(t.changeRate(t.selectedStock.pcr)))])]),t._v(" "),e("text",{staticClass:"stock-text",attrs:{"text-anchor":"end",fill:"#666",x:t.tipOrigin(t.selectedStock).x+t.tipSize.width-100/t.svgScale,y:t.tipOrigin(t.selectedStock).y+280/t.svgScale,"font-size":160/t.svgScale}},[e("tspan",{attrs:{fill:t.colorStr(t.selectedStock.pcp)}},[t._v(t._s(t.price(t.selectedStock.last_px)))])]),t._v(" "),e("text",{staticClass:"stock-text",attrs:{"text-anchor":"end",fill:"#666",x:t.tipOrigin(t.selectedStock).x+t.tipSize.width-100/t.svgScale,y:t.tipOrigin(t.selectedStock).y+440/t.svgScale,"font-size":120/t.svgScale}},[e("tspan",{attrs:{fill:t.colorStr(t.selectedStock.pcp)}},[t._v(t._s(t.changeRate(t.selectedStock.pcp)))])]),t._v(" "),t.selectedStock&&t.stockLine&&t.stockLine.length&&t.shadowPolygon&&t.shadowPolygon.length&&t.lastStockDot&&2==t.lastStockDot.length?[e("polyline",{staticClass:"path",attrs:{fill:"none",stroke:" #1478F0","stroke-width":10/t.svgScale,points:t.stockLine}}),t._v(" "),e("circle",{attrs:{cx:t.lastStockDot[0],cy:t.lastStockDot[1],r:100/t.svgScale,fill:"#1B6ED3","fill-opacity":"0.2"}}),t._v(" "),e("circle",{attrs:{cx:t.lastStockDot[0],cy:t.lastStockDot[1],r:50/t.svgScale,fill:"#1B6ED3","fill-opacity":"1"}})]:t._e()],2):t._e(),t._v(" "),t.hoverStockList&&t.hoverStockList.length?t._l(t.hoverStockList.slice(0,4),(function(code,n){return e("g",{key:code},[t.points[code]?[e("polygon",{attrs:{filter:"url(#dropshadow)",fill:t.isDark?"#3F4352":"#fff",points:t.themeTipPos(n)}}),t._v(" "),e("text",{staticClass:"stock-text",attrs:{"text-anchor":"start",fill:t.isDark?"#ffffff":"#333",x:t.themeTipOrigin(n).x+100/t.svgScale,y:t.themeTipOrigin(n).y+280/t.svgScale,"font-size":160/t.svgScale}},[t._v(t._s(t.points[code].prod_name))]),t._v(" "),e("text",{staticClass:"stock-text",attrs:{"text-anchor":"start",fill:t.isDark?"#999999":"#666",x:t.themeTipOrigin(n).x+100/t.svgScale,y:t.themeTipOrigin(n).y+440/t.svgScale,"font-size":120/t.svgScale}},[t._v(t._s(t._f("codeFilter")(t.points[code].code)))]),t._v(" "),e("text",{staticClass:"stock-text",attrs:{"text-anchor":"start",fill:t.isDark?"#999999":"#666",x:t.themeTipOrigin(n).x+100/t.svgScale,y:t.themeTipOrigin(n).y+600/t.svgScale,"font-size":120/t.svgScale}},[t._v("\n                  涨速\n                  "),e("tspan",{attrs:{fill:t.colorStr(t.points[code].pcr)}},[t._v(t._s(t.changeRate(t.points[code].pcr)))])]),t._v(" "),e("text",{staticClass:"stock-text",attrs:{"text-anchor":"end",fill:"#666",x:t.themeTipOrigin(n).x+t.tipSize.width-100/t.svgScale,y:t.themeTipOrigin(n).y+280/t.svgScale,"font-size":160/t.svgScale}},[e("tspan",{attrs:{fill:t.colorStr(t.points[code].pcp)}},[t._v(t._s(t.price(t.points[code].last_px)))])]),t._v(" "),e("text",{staticClass:"stock-text",attrs:{"text-anchor":"end",fill:"#666",x:t.themeTipOrigin(n).x+t.tipSize.width-100/t.svgScale,y:t.themeTipOrigin(n).y+440/t.svgScale,"font-size":120/t.svgScale}},[e("tspan",{attrs:{fill:t.colorStr(t.points[code].pcp)}},[t._v(t._s(t.changeRate(t.points[code].pcp)))])]),t._v(" "),t.points[code]&&t.stockTrendList&&t.stockTrendList[code]&&t.stockTrendList[code].stockLine&&t.stockTrendList[code].shadowPolygon&&t.stockTrendList[code].shadowPolygon.length&&t.stockTrendList[code].lastStockDot&&2==t.stockTrendList[code].lastStockDot.length?[e("polyline",{staticClass:"path",attrs:{fill:"none",stroke:" #1478F0","stroke-width":10/t.svgScale,points:t.stockTrendList[code].stockLine}}),t._v(" "),e("circle",{attrs:{cx:t.stockTrendList[code].lastStockDot[0],cy:t.stockTrendList[code].lastStockDot[1],r:100/t.svgScale,fill:"#1B6ED3","fill-opacity":"0.2"}}),t._v(" "),e("circle",{attrs:{cx:t.stockTrendList[code].lastStockDot[0],cy:t.stockTrendList[code].lastStockDot[1],r:50/t.svgScale,fill:"#1B6ED3","fill-opacity":"1"}})]:t._e()]:t._e()],2)})):t._e()],2)])]),t._v(" "),e("div",{staticClass:"bubble-theme"},[t.selectedStock&&t.hoverRelatedThemeInfo.symbol==t.lastEnter?e("div",{staticClass:"related-theme"},[e("div",{staticClass:"related-theme-title"},[t._v("\n          相关板块\n          "),t.hoverRelatedThemeInfo.list&&t.hoverRelatedThemeInfo.list.length?[t._v("("+t._s(t.hoverRelatedThemeInfo.list.length)+")")]:t._e()],2),t._v(" "),t.hoverRelatedThemeInfo.list&&0==t.hoverRelatedThemeInfo.list.length?e("dot-spinner"):t._e(),t._v(" "),t.hoverRelatedThemeInfo.list?t._e():e("p",{staticClass:"related-theme-zero"},[t._v("暂无")]),t._v(" "),t.hoverRelatedThemeInfo.list&&t.hoverRelatedThemeInfo.list.length?t._l(t.hoverRelatedThemeInfo.list,(function(n){return e("div",{key:n.plate_id},[t.inrelatedTheme(n)?t._e():e("a",{staticClass:"related-theme-item",class:t.color(n.pcp_core),attrs:{href:"/theme/".concat(n.plate_id),target:"_blank"}},[e("p",{staticClass:"related-theme-item-name"},[t._v(t._s(n.plate_name))]),t._v(" "),e("p",{staticClass:"related-theme-item-rate"},[t._v(t._s(t._f("numToPercent")(n.pcp_core)))])]),t._v(" "),t.inrelatedTheme(n)?e("div",{staticClass:"related-theme-item related",class:t.color(n.pcp_core)},[e("p",{staticClass:"related-theme-item-name"},[t._v(t._s(n.plate_name))]),t._v(" "),e("p",{staticClass:"related-theme-item-rate"},[t._v(t._s(t._f("numToPercent")(n.pcp_core)))])]):t._e()])})):t._e()],2):e("div",{staticClass:"chart-theme",class:{dark:t.isDark},style:{height:t.vHeight+"px"}},[e("div",{staticClass:"chart-theme-title uptheme"},[t._v("涨速板块("+t._s(t.relatedTheme.up.length)+")")]),t._v(" "),t.relatedTheme&&t.relatedTheme.up&&t.relatedTheme.up.length?t._l(t.relatedTheme.up,(function(n){return e("a",{key:"up".concat(n.plate_id),staticClass:"chart-theme-item",class:t.color(n.pcp_core),attrs:{href:"/theme/".concat(n.plate_id),target:"_blank"},on:{mouseenter:function(e){return t.themeEnter(n,!0)},mouseleave:t.themeLeave}},[e("p",{staticClass:"chart-theme-item-name"},[t._v(t._s(n.plate_name))]),t._v(" "),n&&n.stocks&&n.stocks.length?e("div",{staticClass:"chart-theme-item-stocks-container"},t._l(n.stocks.slice(0,2),(function(o){return e("div",{key:o.code,staticClass:"chart-theme-item-stocks",class:t.color(o.mtm)},[o?e("p",{staticClass:"chart-theme-item-stocks-name"},[t._v(t._s(o.name))]):t._e(),t._v(" "),e("p",{staticClass:"chart-theme-item-stocks-rate"},[t._v(t._s(t._f("numToPercent")(o.mtm)))]),t._v(" "),o.mtm>0&&(!t.hoverTheme||t.hoverTheme.plate_id!=n.plate_id)?e("img",{staticClass:"chart-theme-item-stocks-img",attrs:{src:"https://static.xuangubao.com.cn/clay/img/rise.png"}}):t._e(),t._v(" "),o.mtm<0&&(!t.hoverTheme||t.hoverTheme.plate_id!=n.plate_id)?e("img",{staticClass:"chart-theme-item-stocks-img",attrs:{src:"https://static.xuangubao.com.cn/clay/img/down.png"}}):t._e(),t._v(" "),o.mtm>0&&t.hoverTheme&&t.hoverTheme.plate_id==n.plate_id?e("img",{staticClass:"chart-theme-item-stocks-img",attrs:{src:"https://static.xuangubao.com.cn/clay/img/rise_hover.png"}}):t._e(),t._v(" "),o.mtm<0&&t.hoverTheme&&t.hoverTheme.plate_id==n.plate_id?e("img",{staticClass:"chart-theme-item-stocks-img",attrs:{src:"https://static.xuangubao.com.cn/clay/img/down_hover.png"}}):t._e()])})),0):t._e()])})):t._e(),t._v(" "),e("div",{staticClass:"chart-theme-title downtheme down1"},[t._v("跌速板块("+t._s(t.relatedTheme.down.length)+")")]),t._v(" "),t.relatedTheme&&t.relatedTheme.down&&t.relatedTheme.down.length?t._l(t.relatedTheme.down,(function(n){return e("a",{key:"down".concat(n.plate_id),staticClass:"chart-theme-item",class:t.color(n.pcp_core),attrs:{href:"/theme/".concat(n.plate_id),target:"_blank"},on:{mouseenter:function(e){return t.themeEnter(n,!1)},mouseleave:t.themeLeave}},[e("p",{staticClass:"chart-theme-item-name"},[t._v(t._s(n.plate_name))]),t._v(" "),n&&n.stocks&&n.stocks.length?e("div",{staticClass:"chart-theme-item-stocks-container"},t._l(n.stocks.slice(0,2),(function(o){return e("div",{key:o.code,staticClass:"chart-theme-item-stocks",class:t.color(o.mtm)},[o?e("p",{staticClass:"chart-theme-item-stocks-name"},[t._v(t._s(o.name))]):t._e(),t._v(" "),e("p",{staticClass:"chart-theme-item-stocks-rate"},[t._v(t._s(t._f("numToPercent")(o.mtm)))]),t._v(" "),o.mtm>0&&(!t.hoverTheme||t.hoverTheme.plate_id!=n.plate_id)?e("img",{staticClass:"chart-theme-item-stocks-img",attrs:{src:"https://static.xuangubao.com.cn/clay/img/rise.png"}}):t._e(),t._v(" "),o.mtm<0&&(!t.hoverTheme||t.hoverTheme.plate_id!=n.plate_id)?e("img",{staticClass:"chart-theme-item-stocks-img",attrs:{src:"https://static.xuangubao.com.cn/clay/img/down.png"}}):t._e(),t._v(" "),o.mtm>0&&t.hoverTheme&&t.hoverTheme.plate_id==n.plate_id?e("img",{staticClass:"chart-theme-item-stocks-img",attrs:{src:"https://static.xuangubao.com.cn/clay/img/rise_hover.png"}}):t._e(),t._v(" "),o.mtm<0&&t.hoverTheme&&t.hoverTheme.plate_id==n.plate_id?e("img",{staticClass:"chart-theme-item-stocks-img",attrs:{src:"https://static.xuangubao.com.cn/clay/img/down_hover.png"}}):t._e()])})),0):t._e()])})):t._e()],2)])])])}),[],!1,null,"57ab3e78",null).exports),V=n(19),G=(n(109),{props:["index","stockList","filterST"],data:function(){return{filterChecked:!0}},mounted:function(){},methods:{filterClick:function(){this.filterChecked=!this.filterChecked,this.$emit("filterChange",this.filterChecked)},filterSTClick:function(){this.$emit("filterst")}}}),X=(n(2639),Object(x.a)(G,(function(){var t=this,e=t._self._c;return e("div",[0==t.index?e("div",{staticClass:"pool-toolbar-count inline-div"}):t._e(),t._v(" "),e("div",{staticClass:"pool-toolbar-filter inline-div"},[e("span",{staticClass:"pool-toolbar-label"},[t._v("过滤ST")]),t._v(" "),e("div",{staticClass:"inline-div"},[e("input",{staticClass:"pool-toolbar-switch",attrs:{type:"checkbox",id:"filter-switch-st",name:"filter-switch-st"},domProps:{checked:t.filterST},on:{click:t.filterSTClick}}),t._v(" "),e("label",{attrs:{for:"filter-switch-st"}})])]),t._v(" "),1==t.index?e("div",{staticClass:"pool-toolbar-count inline-div"}):t._e(),t._v(" "),2==t.index?e("div",{staticClass:"pool-toolbar-scale inline-div"},[e("span",{staticClass:"pool-toolbar-label pool-toolbar-scale-label-open"},[t._v("当天开板")]),t._v(" "),e("span",{staticClass:"pool-toolbar-label pool-toolbar-scale-label-turnover"},[t._v("换手率>2%")])]):t._e(),t._v(" "),2==t.index?e("div",{staticClass:"pool-toolbar-count inline-div"}):t._e(),t._v(" "),3==t.index?e("div",{staticClass:"pool-toolbar-count inline-div"}):t._e(),t._v(" "),4==t.index?e("div",{staticClass:"pool-toolbar-count inline-div"}):t._e()])}),[],!1,null,null,null).exports),J=(n(249),{boardstock:function(t,e,filter){return j.a.get("/api/pool/detail",{params:{pool_name:"limit_up",date:e}})},boomstock:function(t,e){return j.a.get("/api/pool/detail",{params:{pool_name:"limit_up_broken",date:e}})},newstock:function(t,e){return j.a.get("/api/pool/detail",{params:{pool_name:"new_stock",date:e}})},secstock:function(t,e){return j.a.get("/api/pool/detail",{params:{pool_name:"nearly_new",date:e}})},multistock:function(t,e){return j.a.get("/api/pool/detail",{params:{pool_name:"super_stock",date:e}})},downstock:function(t,e){return j.a.get("/api/pool/detail",{params:{pool_name:"limit_down",date:e}})},boardpreday:function(t,e){return j.a.get("/api/pool/detail",{params:{pool_name:"yesterday_limit_up",date:e}})}}),U={props:["target","sortTarget","title","sortRule","htmlTitle"],methods:{getSortStatus:function(t){return t===this.sortTarget?"icon-"+this.sortRule:"icon-default"},startSort:function(t){var e={sortRule:"",sortTarget:""};e=this.sortTarget===t?"desc"===this.sortRule?{sortRule:"asc",sortTarget:t}:"asc"===this.sortRule?{sortRule:"default",sortTarget:t}:{sortRule:"desc",sortTarget:t}:{sortRule:"desc",sortTarget:t},this.$emit("sort",e)}}},K=(n(2640),Object(x.a)(U,(function(){var t=this,e=t._self._c;return e("th",{staticClass:"stock-sort",class:{sort_target:t.target==t.sortTarget},attrs:{target:"cur_price"},on:{click:function(e){return t.startSort(t.target)}}},[t.htmlTitle?e("abbr",{attrs:{title:t.title},domProps:{innerHTML:t._s(t.htmlTitle)}}):e("abbr",{attrs:{title:t.title}},[t._v(t._s(t.title))]),t._v(" "),e("span",{staticClass:"icon"},[e("i",{staticClass:"iconfont",class:t.getSortStatus(t.target)})])])}),[],!1,null,"9f36643a",null).exports),Q={watch:{stockList:function(t,e){var n=this;e&&e.length&&(this.oldSymbolArr=e.map((function(t){return t.symbol})),this.updateNear=!0,setTimeout((function(){n.updateNear=!1}),5e3))}},data:function(){return{oldSymbolArr:[],updateNear:0}},methods:{thsort:function(t){this.$emit("sort",t)},isNewData:function(t){return this.oldSymbolArr&&this.oldSymbolArr.length&&-1==this.oldSymbolArr.indexOf(t.symbol)},login:function(){this.$auth.login()},hoverTitle:function(t,e){if(this.showGif&&this.targetItem===t);else{var n=this.getElementTop(e.target)-document.querySelector(".ding-scroll-main").scrollTop,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;n>o-300&&(n=o-300),this.top=n,this.left=this.getElementLeft(e.target)+130,this.targetItem=t,this.gifname=this.hsCodeToWscn(t.symbol).toLowerCase(),this.showGif=!0}},leaveTitle:function(){this.targetItem=null,this.gifname=null,this.showGif=!1},reasonFilter:function(t){return t},poolReasonFilter:function(t){if(!t)return"";if(!t.related_plates)return t.stock_reason;var e=t.related_plates.filter((function(p){return p.plate_reason})).map((function(p){return p.plate_reason}));return e.length>0?e.join("；")+"；"+t.stock_reason:t.stock_reason}},filters:{openCount:function(t){return t||"-"},continueCount:function(t){return t&&0!=t?1==t?"首板":t+"连板":"-"}}},Z={props:["stockList","sortRule","sortTarget","topFixed","y","small"],mounted:function(){},data:function(){return{top:0,left:0,gifname:null,targetItem:null,showGif:!1,tableItems:[{sortable:!1,title:"序号",target:"",size:4},{sortable:!1,title:"股票名称",target:"",size:9},{sortable:!1,title:"理由分析",target:"",size:19},{sortable:!0,title:"最新价",target:"price",size:7},{sortable:!0,title:"涨跌幅",target:"change_percent",size:7},{sortable:!0,title:"封单比",target:"buy_lock_volume_ratio",size:7},{sortable:!0,title:"换手率",target:"turnover_ratio",size:7},{sortable:!0,title:"流通市值",target:"non_restricted_capital",size:7},{sortable:!0,title:"总市值",target:"total_capital",size:7},{sortable:!0,title:"首次封板",target:"first_limit_up",size:7},{sortable:!0,title:"最后封板",target:"last_limit_up",size:7},{sortable:!0,title:"开板",target:"break_limit_up_times",size:6},{sortable:!0,title:"连板",target:"limit_up_days",size:6}]}},components:{sortTh:K},mixins:[r.a,Q]},tt=(n(2641),n(2642),Object(x.a)(Z,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-container"},[e("div",{staticClass:"fixed-head"},[e("table",{staticClass:"table hit-pool__table fixed"},[e("colgroup",t._l(t.tableItems,(function(t,n){return e("col",{key:"col1"+n,style:"width: ".concat(t.size,"%;")})})),0),t._v(" "),e("thead",{staticClass:"hit-pool__table-head"},[e("tr",[t._l(t.tableItems,(function(n,o){return[n.sortable?t._e():e("th",{key:"th1"+o},[e("abbr",{attrs:{title:n.title}},[t._v(t._s(n.title))])]),t._v(" "),n.sortable?e("sort-th",{key:"th1"+o,attrs:{title:n.title,"sort-rule":t.sortRule,"sort-target":t.sortTarget,target:n.target},on:{sort:t.thsort}}):t._e()]}))],2)])])]),t._v(" "),e("div",{staticClass:"ding-scroll-main"},[e("table",{staticClass:"table hit-pool__table"},[e("colgroup",t._l(t.tableItems,(function(t,n){return e("col",{key:"col2"+n,style:"width: ".concat(t.size,"%;")})})),0),t._v(" "),e("thead",{staticClass:"hit-pool__table-head"},[e("tr",[t._l(t.tableItems,(function(n,o){return[n.sortable?t._e():e("th",{key:"th2"+o},[e("abbr",{attrs:{title:n.title}},[t._v(t._s(n.title))])]),t._v(" "),n.sortable?e("sort-th",{key:"th2"+o,attrs:{title:n.title,"sort-rule":t.sortRule,"sort-target":t.sortTarget,target:n.target},on:{sort:t.thsort}}):t._e()]}))],2)]),t._v(" "),e("tbody",{staticClass:"table hit-pool__table-body"},t._l(t.stockList,(function(n){return e("tr",{key:n.symbol,class:{"new-stock":t.isNewData(n)&&t.updateNear}},[e("td",{staticClass:"stock-index"},[t._v(t._s(n.index))]),t._v(" "),e("td",{staticClass:"stock-title",attrs:{target:n.symbol},on:{mouseleave:t.leaveTitle,mouseover:function(e){return t.hoverTitle(n,e)}}},[e("a",{attrs:{target:"_blank",href:"/stock/"+n.symbol}},[e("span",{staticClass:"stock-title-name"},[t._v(t._s(n.stock_chi_name))]),t._v(" "),e("br"),t._v("\n              "+t._s(t.symbolFilter(n.symbol))+"\n            ")])]),t._v(" "),"__lock"==n.reason?e("td",{staticClass:"stock-reason locked",on:{click:t.login}},[t._m(0,!0)]):e("td",{staticClass:"stock-reason"},[e("span",{staticClass:"hint--right hint--large",attrs:{"aria-label":t.poolReasonFilter(n.surge_reason)}},[n.surge_reason?e("span",{staticClass:"line-clamp"},[t._l(n.surge_reason.related_plates,(function(p,o){return n.surge_reason&&n.surge_reason.related_plates&&n.surge_reason.related_plates.length?[p.plate_id&&0!=p.plate_id&&-1!=p.plate_id?e("a",{key:p.plate_id,staticClass:"stock-reason-plate",attrs:{target:"_blank",href:"/theme/"+p.plate_id}},[0!=o?e("span",[t._v("+")]):t._e(),t._v(" "),e("span",{staticClass:"stock-reason-plate-name"},[t._v(t._s(p.plate_name))]),t._v(" "),o==n.surge_reason.related_plates.length-1&&t.poolReasonFilter(n.surge_reason)?e("span",[t._v("\n                      |")]):t._e()]):e("div",{key:p.plate_id,staticClass:"stock-reason-plate"},[0!=o?e("span",[t._v("+")]):t._e(),t._v(" "),e("span",{staticClass:"stock-reason-plate-name"},[t._v(t._s(p.plate_name))]),t._v(" "),o==n.surge_reason.related_plates.length-1&&t.poolReasonFilter(n.surge_reason)?e("span",[t._v("\n                      |")]):t._e()])]:t._e()})),t._v("\n                "+t._s(t.poolReasonFilter(n.surge_reason))+"\n              ")],2):t._e()])]),t._v(" "),e("td",{class:{sort_target:"price"==t.sortTarget},attrs:{target:"price"}},[e("span",{class:t.color(n.change_percent)},[t._v(t._s(t.price(n.price)))])]),t._v(" "),e("td",{class:{sort_target:"change_percent"==t.sortTarget},attrs:{target:"change_percent"}},[e("span",{class:t.color(n.change_percent)},[t._v(t._s(t._f("numToPercent")(n.change_percent)))])]),t._v(" "),e("td",{class:{sort_target:"buy_lock_volume_ratio"==t.sortTarget},attrs:{target:"buy_lock_volume_ratio"}},[t._v("\n            "+t._s(t.rate(n.buy_lock_volume_ratio,2))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"turnover_ratio"==t.sortTarget},attrs:{target:"turnover_ratio"}},[t._v("\n            "+t._s(t.rate(n.turnover_ratio,2))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"non_restricted_capital"==t.sortTarget},attrs:{target:"non_restricted_capital"}},[t._v("\n            "+t._s(t.approxNumber(n.non_restricted_capital))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"total_capital"==t.sortTarget},attrs:{target:"total_capital"}},[t._v("\n            "+t._s(t.approxNumber(n.total_capital))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"first_limit_up"==t.sortTarget},attrs:{target:"first_limit_up"}},[t._v("\n            "+t._s(t.timeFormatter(n.first_limit_up))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"last_limit_up"==t.sortTarget},attrs:{target:"last_limit_up"}},[t._v("\n            "+t._s(t.timeFormatter(n.last_limit_up))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"break_limit_up_times"==t.sortTarget},attrs:{target:"break_limit_up_times"}},[t._v("\n            "+t._s(t._f("openCount")(n.break_limit_up_times))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"limit_up_days"==t.sortTarget},attrs:{target:"limit_up_days"}},[t._v("\n            "+t._s(t._f("continueCount")(n.limit_up_days))+"\n          ")])])})),0)]),t._v(" "),t.gifname&&t.targetItem&&t.showGif?e("div",{staticClass:"img-div",style:{top:t.top+"px",left:t.left+"px"}},[e("img",{attrs:{src:"http://image.sinajs.cn/newchart/min/n/".concat(t.gifname,".gif")}})]):t._e()])])}),[function(){var t=this,e=t._self._c;return e("span",{staticClass:"line-clamp"},[e("i",{staticClass:"iconfont"},[t._v("")]),t._v(" "),e("p",{staticClass:"stock-reason-login"},[t._v("请登录后查看")])])}],!1,null,"56d816b1",null).exports),et={props:["stockList","sortRule","sortTarget","topFixed","y","small"],mounted:function(){},data:function(){return{top:0,left:0,gifname:null,targetItem:null,showGif:!1,tableItems:[{sortable:!1,title:"序号",target:"",size:4},{sortable:!1,title:"股票名称",target:"",size:9},{sortable:!1,title:"理由分析",target:"",size:19},{sortable:!0,title:"最新价",target:"price",size:7},{sortable:!0,title:"涨跌幅",target:"change_percent",size:7},{sortable:!0,title:"换手率",target:"turnover_ratio",size:7},{sortable:!0,title:"流通市值",target:"non_restricted_capital",size:7},{sortable:!0,title:"总市值",target:"total_capital",size:7},{sortable:!0,title:"首次封板",target:"first_limit_up",size:7},{sortable:!0,title:"最后封板",target:"last_limit_up",size:7},{sortable:!0,title:"最后炸板",target:"last_break_limit_up",size:7},{sortable:!0,title:"开板",target:"break_limit_up_times",size:6},{sortable:!0,title:"连板",target:"yesterday_limit_up_days",size:6}]}},methods:{},mixins:[r.a,Q],components:{sortTh:K}},st=(n(2643),n(2644),Object(x.a)(et,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-container"},[e("div",{staticClass:"fixed-head"},[e("table",{staticClass:"table hit-pool__table fixed"},[e("colgroup",t._l(t.tableItems,(function(t,n){return e("col",{key:"col1"+n,style:"width: ".concat(t.size,"%;")})})),0),t._v(" "),e("thead",{staticClass:"hit-pool__table-head"},[e("tr",[t._l(t.tableItems,(function(n,o){return[n.sortable?t._e():e("th",{key:"th1"+o},[e("abbr",{attrs:{title:n.title}},[t._v(t._s(n.title))])]),t._v(" "),n.sortable?e("sort-th",{key:"th1"+o,attrs:{title:n.title,"sort-rule":t.sortRule,"sort-target":t.sortTarget,target:n.target},on:{sort:t.thsort}}):t._e()]}))],2)])])]),t._v(" "),e("div",{staticClass:"ding-scroll-main"},[e("table",{staticClass:"table hit-pool__table"},[e("colgroup",t._l(t.tableItems,(function(t,n){return e("col",{key:"col1"+n,style:"width: ".concat(t.size,"%;")})})),0),t._v(" "),e("thead",{staticClass:"hit-pool__table-head"},[e("tr",[t._l(t.tableItems,(function(n,o){return[n.sortable?t._e():e("th",{key:"th1"+o},[e("abbr",{attrs:{title:n.title}},[t._v(t._s(n.title))])]),t._v(" "),n.sortable?e("sort-th",{key:"th1"+o,attrs:{title:n.title,"sort-rule":t.sortRule,"sort-target":t.sortTarget,target:n.target},on:{sort:t.thsort}}):t._e()]}))],2)]),t._v(" "),e("tbody",{staticClass:"table hit-pool__table-body"},t._l(t.stockList,(function(n){return e("tr",{key:n.symbol},[e("td",{staticClass:"stock-index"},[t._v(t._s(n.index))]),t._v(" "),e("td",{staticClass:"stock-title",attrs:{target:n.symbol},on:{mouseleave:t.leaveTitle,mouseover:function(e){return t.hoverTitle(n,e)}}},[e("a",{attrs:{target:"_blank",href:"/stock/"+n.symbol}},[e("span",{staticClass:"stock-title-name"},[t._v(t._s(n.stock_chi_name))]),t._v(" "),e("br"),t._v("\n              "+t._s(t.symbolFilter(n.symbol))+"\n            ")])]),t._v(" "),"__lock"==n.reason?e("td",{staticClass:"stock-reason locked",on:{click:t.login}},[t._m(0,!0)]):e("td",{staticClass:"stock-reason"},[e("span",{staticClass:"hint--right hint--large",attrs:{"aria-label":t.poolReasonFilter(n.surge_reason)}},[n.surge_reason?e("span",{staticClass:"line-clamp"},[t._l(n.surge_reason.related_plates,(function(p,o){return n.surge_reason&&n.surge_reason.related_plates&&n.surge_reason.related_plates.length?[p.plate_id&&0!=p.plate_id&&-1!=p.plate_id?e("a",{key:p.plate_id,staticClass:"stock-reason-plate",attrs:{target:"_blank",href:"/theme/"+p.plate_id}},[0!=o?e("span",[t._v("+")]):t._e(),t._v(" "),e("span",{staticClass:"stock-reason-plate-name"},[t._v(t._s(p.plate_name))]),t._v(" "),o==n.surge_reason.related_plates.length-1&&t.poolReasonFilter(n.surge_reason)?e("span",[t._v("\n                      |")]):t._e()]):e("div",{key:p.plate_id,staticClass:"stock-reason-plate"},[0!=o?e("span",[t._v("+")]):t._e(),t._v(" "),e("span",{staticClass:"stock-reason-plate-name"},[t._v(t._s(p.plate_name))]),t._v(" "),o==n.surge_reason.related_plates.length-1&&t.poolReasonFilter(n.surge_reason)?e("span",[t._v("\n                      |")]):t._e()])]:t._e()})),t._v("\n                "+t._s(t.poolReasonFilter(n.surge_reason))+"\n              ")],2):t._e()])]),t._v(" "),e("td",{class:{sort_target:"price"==t.sortTarget},attrs:{target:"price"}},[e("span",{class:t.color(n.change_percent)},[t._v(t._s(t.price(n.price)))])]),t._v(" "),e("td",{class:{sort_target:"change_percent"==t.sortTarget},attrs:{target:"change_percent"}},[e("span",{class:t.color(n.change_percent)},[t._v(t._s(t._f("numToPercent")(n.change_percent)))])]),t._v(" "),e("td",{class:{sort_target:"turnover_ratio"==t.sortTarget},attrs:{target:"turnover_ratio"}},[t._v("\n            "+t._s(t.rate(n.turnover_ratio,2))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"non_restricted_capital"==t.sortTarget},attrs:{target:"non_restricted_capital"}},[t._v("\n            "+t._s(t.approxNumber(n.non_restricted_capital))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"total_capital"==t.sortTarget},attrs:{target:"total_capital"}},[t._v("\n            "+t._s(t.approxNumber(n.total_capital))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"first_limit_up"==t.sortTarget},attrs:{target:"first_limit_up"}},[t._v("\n            "+t._s(t.timeFormatterOpenBoard(n.first_limit_up))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"last_limit_up"==t.sortTarget},attrs:{target:"last_limit_up"}},[t._v("\n            "+t._s(t.timeFormatterOpenBoard(n.last_limit_up))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"last_break_limit_up"==t.sortTarget},attrs:{target:"last_break_limit_up"}},[t._v("\n            "+t._s(t.timeFormatter(n.last_break_limit_up))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"break_limit_up_times"==t.sortTarget},attrs:{target:"break_limit_up_times"}},[t._v("\n            "+t._s(t._f("openCount")(n.break_limit_up_times))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"yesterday_limit_up_days"==t.sortTarget},attrs:{target:"yesterday_limit_up_days"}},[t._v("\n            "+t._s(t._f("continueCount")(n.yesterday_limit_up_days))+"\n          ")])])})),0)]),t._v(" "),t.gifname&&t.targetItem&&t.showGif?e("div",{staticClass:"img-div",style:{top:t.top+"px",left:t.left+"px"}},[e("img",{attrs:{src:"http://image.sinajs.cn/newchart/min/n/".concat(t.gifname,".gif")}})]):t._e()])])}),[function(){var t=this,e=t._self._c;return e("span",{staticClass:"line-clamp"},[e("i",{staticClass:"iconfont"},[t._v("")]),t._v(" "),e("p",{staticClass:"stock-reason-login"},[t._v("请登录后查看")])])}],!1,null,"7a4c9238",null).exports),at={props:["stockList","sortRule","sortTarget","topFixed","y","small"],mounted:function(){},data:function(){return{top:0,left:0,gifname:null,targetItem:null,showGif:!1,tableItems:[{sortable:!1,title:"序号",target:"",size:4},{sortable:!1,title:"股票名称",target:"",size:12},{sortable:!0,title:"最新价",target:"price",size:9},{sortable:!0,title:"涨跌幅",target:"change_percent",size:10},{sortable:!0,title:"换手率",target:"turnover_ratio",size:10},{sortable:!0,title:"流通市值",target:"non_restricted_capital",size:10},{sortable:!0,title:"总市值",target:"total_capital",size:9},{sortable:!0,title:"首次开板",target:"new_stock_break_limit_up",size:9},{sortable:!0,title:"开板前连板数",target:"new_stock_limit_up_days",size:9,htmlTitle:"开板前</br>连板数"},{sortable:!0,title:"累计涨幅",target:"new_stock_acc_pcp",size:9},{sortable:!0,title:"上市日期",target:"listed_date",size:9}]}},methods:{},mixins:[r.a,Q],components:{sortTh:K}},it=(n(2645),n(2646),Object(x.a)(at,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-container"},[e("div",{staticClass:"fixed-head"},[e("table",{staticClass:"table hit-pool__table fixed"},[e("colgroup",t._l(t.tableItems,(function(t,n){return e("col",{key:"col1"+n,style:"width: ".concat(t.size,"%;")})})),0),t._v(" "),e("thead",{staticClass:"hit-pool__table-head"},[e("tr",[t._l(t.tableItems,(function(n,o){return[n.sortable?t._e():e("th",{key:"th1"+o},[e("abbr",{attrs:{title:n.title}},[t._v(t._s(n.title))])]),t._v(" "),n.sortable?e("sort-th",{key:"th1"+o,attrs:{"html-title":n.htmlTitle,title:n.title,"sort-rule":t.sortRule,"sort-target":t.sortTarget,target:n.target},on:{sort:t.thsort}}):t._e()]}))],2)])])]),t._v(" "),e("div",{staticClass:"ding-scroll-main"},[e("table",{staticClass:"table hit-pool__table"},[e("colgroup",t._l(t.tableItems,(function(t,n){return e("col",{key:"col2"+n,style:"width: ".concat(t.size,"%;")})})),0),t._v(" "),e("thead",{staticClass:"hit-pool__table-head"},[e("tr",[t._l(t.tableItems,(function(n,o){return[n.sortable?t._e():e("th",{key:"th2"+o},[e("abbr",{attrs:{title:n.title}},[t._v(t._s(n.title))])]),t._v(" "),n.sortable?e("sort-th",{key:"th2"+o,attrs:{"html-title":n.htmlTitle,title:n.title,"sort-rule":t.sortRule,"sort-target":t.sortTarget,target:n.target},on:{sort:t.thsort}}):t._e()]}))],2)]),t._v(" "),e("tbody",{staticClass:"table hit-pool__table-body"},t._l(t.stockList,(function(n){return e("tr",{key:n.symbol},[e("td",{staticClass:"stock-index"},[t._v(t._s(n.index))]),t._v(" "),e("td",{staticClass:"stock-title new-stock-title",class:t.newStockClass(n),attrs:{target:n.symbol},on:{mouseleave:t.leaveTitle,mouseover:function(e){return t.hoverTitle(n,e)}}},[e("a",{attrs:{target:"_blank",href:"/stock/"+n.symbol}},[e("span",{staticClass:"stock-title-name"},[t._v(t._s(n.stock_chi_name))]),e("br"),t._v(t._s(t.symbolFilter(n.symbol)))])]),t._v(" "),e("td",{class:{sort_target:"price"==t.sortTarget},attrs:{target:"price"}},[e("span",{class:t.color(n.change_percent)},[t._v(t._s(n.price?t.price(n.price):""))])]),t._v(" "),e("td",{class:{sort_target:"change_percent"==t.sortTarget},attrs:{target:"change_percent"}},[e("span",{class:t.color(n.change_percent)},[t._v(t._s(t._f("numToPercent")(n.change_percent)))])]),t._v(" "),e("td",{class:{sort_target:"turnover_ratio"==t.sortTarget},attrs:{target:"turnover_ratio"}},[t._v(t._s(t.rate(n.turnover_ratio,2)))]),t._v(" "),e("td",{class:{sort_target:"non_restricted_capital"==t.sortTarget},attrs:{target:"non_restricted_capital"}},[t._v(t._s(t.approxNumber(n.non_restricted_capital)))]),t._v(" "),e("td",{class:{sort_target:"total_capital"==t.sortTarget},attrs:{target:"total_capital"}},[t._v(t._s(t.approxNumber(n.total_capital)))]),t._v(" "),e("td",{class:{sort_target:"new_stock_break_limit_up"==t.sortTarget},attrs:{target:"new_stock_break_limit_up"}},[t._v(t._s(t.timeFormatterOpenBoard(n.new_stock_break_limit_up)))]),t._v(" "),e("td",{class:{sort_target:"new_stock_limit_up_days"==t.sortTarget},attrs:{target:"new_stock_limit_up_days"}},[t._v(t._s(t._f("continueCount")(n.new_stock_limit_up_days)))]),t._v(" "),e("td",{class:{sort_target:"new_stock_acc_pcp"==t.sortTarget},attrs:{target:"new_stock_acc_pcp"}},[e("span",{class:t.color(n.new_stock_acc_pcp)},[t._v(t._s(t._f("numToPercent")(n.new_stock_acc_pcp)))])]),t._v(" "),e("td",{class:{sort_target:"listed_date"==t.sortTarget},attrs:{target:"listed_date"}},[t._v(t._s(t.timeFormatter(n.listed_date,"YYYY/MM/DD")))])])})),0)]),t._v(" "),t.gifname&&t.targetItem&&t.showGif?e("div",{staticClass:"img-div",style:{top:t.top+"px",left:t.left+"px"}},[e("img",{attrs:{src:"http://image.sinajs.cn/newchart/min/n/".concat(t.gifname,".gif")}})]):t._e()])])}),[],!1,null,"18e97806",null).exports),nt={props:["stockList","sortRule","sortTarget","topFixed","y","small"],mounted:function(){},data:function(){return{top:0,left:0,gifname:null,targetItem:null,showGif:!1,tableItems:[{sortable:!1,title:"序号",target:"",size:4},{sortable:!1,title:"股票名称",target:"",size:9},{sortable:!0,title:"最新价",target:"price",size:9},{sortable:!0,title:"涨跌幅",target:"change_percent",size:9},{sortable:!0,title:"换手率",target:"turnover_ratio",size:10},{sortable:!0,title:"流通市值",target:"non_restricted_capital",size:10},{sortable:!0,title:"总市值",target:"total_capital",size:10},{sortable:!0,title:"开板天数",target:"nearly_new_break_days",size:10},{sortable:!0,title:"开板前连板数",target:"new_stock_limit_up_days",size:10,htmlTitle:"开板前</br>连板数"},{sortable:!0,title:"开板后<br/>累计涨幅",target:"nearly_new_acc_pcp",size:10,htmlTitle:"开板后<br/>累计涨幅"},{sortable:!0,title:"上市日期",target:"listed_date",size:9}]}},methods:{},mixins:[r.a,Q],components:{sortTh:K}},ot=(n(2647),n(2648),Object(x.a)(nt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-container"},[e("div",{staticClass:"fixed-head"},[e("table",{staticClass:"table hit-pool__table fixed"},[e("colgroup",t._l(t.tableItems,(function(t,n){return e("col",{key:"col1"+n,style:"width: ".concat(t.size,"%;")})})),0),t._v(" "),e("thead",{staticClass:"hit-pool__table-head"},[e("tr",[t._l(t.tableItems,(function(n,o){return[n.sortable?t._e():e("th",{key:"th1"+o},[e("abbr",{attrs:{title:n.title}},[t._v(t._s(n.title))])]),t._v(" "),n.sortable?e("sort-th",{key:"th1"+o,attrs:{"html-title":n.htmlTitle,title:n.title,"sort-rule":t.sortRule,"sort-target":t.sortTarget,target:n.target},on:{sort:t.thsort}}):t._e()]}))],2)])])]),t._v(" "),e("div",{staticClass:"ding-scroll-main"},[e("table",{staticClass:"table hit-pool__table"},[e("colgroup",t._l(t.tableItems,(function(t,n){return e("col",{key:"col2"+n,style:"width: ".concat(t.size,"%;")})})),0),t._v(" "),e("thead",{staticClass:"hit-pool__table-head"},[e("tr",[t._l(t.tableItems,(function(n,o){return[n.sortable?t._e():e("th",{key:"th2"+o},[e("abbr",{attrs:{title:n.title}},[t._v(t._s(n.title))])]),t._v(" "),n.sortable?e("sort-th",{key:"th2"+o,attrs:{"html-title":n.htmlTitle,title:n.title,"sort-rule":t.sortRule,"sort-target":t.sortTarget,target:n.target},on:{sort:t.thsort}}):t._e()]}))],2)]),t._v(" "),e("tbody",{staticClass:"table hit-pool__table-body"},t._l(t.stockList,(function(n){return e("tr",{key:n.symbol},[e("td",{staticClass:"stock-index"},[t._v(t._s(n.index))]),t._v(" "),e("td",{staticClass:"stock-title new-stock-title",attrs:{target:n.symbol},on:{mouseleave:t.leaveTitle,mouseover:function(e){return t.hoverTitle(n,e)}}},[e("a",{attrs:{target:"_blank",href:"/stock/"+n.symbol}},[e("span",{staticClass:"stock-title-name"},[t._v(t._s(n.stock_chi_name))]),e("br"),t._v(t._s(t.symbolFilter(n.symbol)))])]),t._v(" "),e("td",{class:{sort_target:"price"==t.sortTarget},attrs:{target:"price"}},[e("span",{class:t.color(n.change_percent)},[t._v(t._s(t.price(n.price)))])]),t._v(" "),e("td",{class:{sort_target:"change_percent"==t.sortTarget},attrs:{target:"change_percent"}},[e("span",{class:t.color(n.change_percent)},[t._v(t._s(t._f("numToPercent")(n.change_percent)))])]),t._v(" "),e("td",{class:{sort_target:"turnover_ratio"==t.sortTarget},attrs:{target:"turnover_ratio"}},[t._v(t._s(t.rate(n.turnover_ratio,2)))]),t._v(" "),e("td",{class:{sort_target:"non_restricted_capital"==t.sortTarget},attrs:{target:"non_restricted_capital"}},[t._v(t._s(t.approxNumber(n.non_restricted_capital)))]),t._v(" "),e("td",{class:{sort_target:"total_capital"==t.sortTarget},attrs:{target:"total_capital"}},[t._v(t._s(t.approxNumber(n.total_capital)))]),t._v(" "),e("td",{class:{sort_target:"nearly_new_break_days"==t.sortTarget},attrs:{target:"nearly_new_break_days"}},[t._v(t._s(n.nearly_new_break_days))]),t._v(" "),e("td",{class:{sort_target:"new_stock_limit_up_days"==t.sortTarget},attrs:{target:"new_stock_limit_up_days"}},[t._v(t._s(t._f("continueCount")(n.new_stock_limit_up_days)))]),t._v(" "),e("td",{class:{sort_target:"acc_change_pct"==t.sortTarget},attrs:{target:"acc_change_pct"}},[e("span",{class:t.color(n.nearly_new_acc_pcp)},[t._v(t._s(t._f("numToPercent")(n.nearly_new_acc_pcp)))])]),t._v(" "),e("td",{class:{sort_target:"listed_date"==t.sortTarget},attrs:{target:"listed_date"}},[t._v(t._s(t.timeFormatter(n.listed_date,"YYYY/MM/DD")))])])})),0)]),t._v(" "),t.gifname&&t.targetItem&&t.showGif?e("div",{staticClass:"img-div",style:{top:t.top+"px",left:t.left+"px"}},[e("img",{attrs:{src:"http://image.sinajs.cn/newchart/min/n/".concat(t.gifname,".gif")}})]):t._e()])])}),[],!1,null,"4b3ed142",null).exports),lt={props:["stockList","sortRule","sortTarget","topFixed","y","small"],mounted:function(){},data:function(){return{top:0,left:0,gifname:null,targetItem:null,showGif:!1,tableItems:[{sortable:!1,title:"序号",target:"",size:4},{sortable:!1,title:"股票名称",target:"",size:8},{sortable:!1,title:"理由分析",target:"",size:25},{sortable:!0,title:"最新价",target:"price",size:9},{sortable:!0,title:"涨跌幅",target:"change_percent",size:9},{sortable:!0,title:"换手率",target:"turnover_ratio",size:9},{sortable:!0,title:"流通市值",target:"non_restricted_capital",size:9},{sortable:!0,title:"总市值",target:"total_capital",size:9},{sortable:!0,title:"连板数",target:"limit_up_days",size:9},{sortable:!0,title:"几天几板",target:"board_days",size:9}]}},methods:{},mixins:[r.a,Q],components:{sortTh:K}},ct=(n(2649),n(2650),Object(x.a)(lt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-container"},[e("div",{staticClass:"fixed-head"},[e("table",{staticClass:"table hit-pool__table fixed"},[e("colgroup",t._l(t.tableItems,(function(t,n){return e("col",{key:"col1"+n,style:"width: ".concat(t.size,"%;")})})),0),t._v(" "),e("thead",{staticClass:"hit-pool__table-head"},[e("tr",[t._l(t.tableItems,(function(n,o){return[n.sortable?t._e():e("th",{key:"th1"+o},[e("abbr",{attrs:{title:n.title}},[t._v(t._s(n.title))])]),t._v(" "),n.sortable?e("sort-th",{key:"th1"+o,attrs:{"html-title":n.htmlTitle,title:n.title,"sort-rule":t.sortRule,"sort-target":t.sortTarget,target:n.target},on:{sort:t.thsort}}):t._e()]}))],2)])])]),t._v(" "),e("div",{staticClass:"ding-scroll-main"},[e("table",{staticClass:"table hit-pool__table"},[e("colgroup",t._l(t.tableItems,(function(t,n){return e("col",{key:"col2"+n,style:"width: ".concat(t.size,"%;")})})),0),t._v(" "),e("thead",{staticClass:"hit-pool__table-head"},[e("tr",[t._l(t.tableItems,(function(n,o){return[n.sortable?t._e():e("th",{key:"th2"+o},[e("abbr",{attrs:{title:n.title}},[t._v(t._s(n.title))])]),t._v(" "),n.sortable?e("sort-th",{key:"th2"+o,attrs:{"html-title":n.htmlTitle,title:n.title,"sort-rule":t.sortRule,"sort-target":t.sortTarget,target:n.target},on:{sort:t.thsort}}):t._e()]}))],2)]),t._v(" "),e("tbody",{staticClass:"table hit-pool__table-body"},t._l(t.stockList,(function(n){return e("tr",{key:n.symbol},[e("td",{staticClass:"stock-index"},[t._v(t._s(n.index))]),t._v(" "),e("td",{staticClass:"stock-title",attrs:{target:n.symbol},on:{mouseleave:t.leaveTitle,mouseover:function(e){return t.hoverTitle(n,e)}}},[e("a",{attrs:{target:"_blank",href:"/stock/"+n.symbol}},[e("span",{staticClass:"stock-title-name"},[t._v(t._s(n.stock_chi_name))]),t._v(" "),e("br"),t._v("\n              "+t._s(t.symbolFilter(n.symbol))+"\n            ")])]),t._v(" "),"__lock"==n.reason?e("td",{staticClass:"stock-reason locked",on:{click:t.login}},[t._m(0,!0)]):e("td",{staticClass:"stock-reason"},[e("span",{staticClass:"hint--right hint--large",attrs:{"aria-label":t.poolReasonFilter(n.surge_reason)}},[n.surge_reason?e("span",{staticClass:"line-clamp"},[t._l(n.surge_reason.related_plates,(function(p,o){return n.surge_reason&&n.surge_reason.related_plates&&n.surge_reason.related_plates.length?[p.plate_id&&0!=p.plate_id&&-1!=p.plate_id?e("a",{key:p.plate_id,staticClass:"stock-reason-plate",attrs:{target:"_blank",href:"/theme/"+p.plate_id}},[0!=o?e("span",[t._v("+")]):t._e(),t._v(" "),e("span",{staticClass:"stock-reason-plate-name"},[t._v(t._s(p.plate_name))]),t._v(" "),o==n.surge_reason.related_plates.length-1&&t.poolReasonFilter(n.surge_reason)?e("span",[t._v("\n                      |")]):t._e()]):e("div",{key:p.plate_id,staticClass:"stock-reason-plate"},[0!=o?e("span",[t._v("+")]):t._e(),t._v(" "),e("span",{staticClass:"stock-reason-plate-name"},[t._v(t._s(p.plate_name))]),t._v(" "),o==n.surge_reason.related_plates.length-1&&t.poolReasonFilter(n.surge_reason)?e("span",[t._v("\n                      |")]):t._e()])]:t._e()})),t._v("\n                "+t._s(t.poolReasonFilter(n.surge_reason))+"\n              ")],2):t._e()])]),t._v(" "),e("td",{class:{sort_target:"price"==t.sortTarget},attrs:{target:"price"}},[e("span",{class:t.color(n.change_percent)},[t._v(t._s(n.price?t.price(n.price):""))])]),t._v(" "),e("td",{class:{sort_target:"change_percent"==t.sortTarget},attrs:{target:"change_percent"}},[e("span",{class:t.color(n.change_percent)},[t._v(t._s(t._f("numToPercent")(n.change_percent)))])]),t._v(" "),e("td",{class:{sort_target:"turnover_ratio"==t.sortTarget},attrs:{target:"turnover_ratio"}},[t._v("\n            "+t._s(t.rate(n.turnover_ratio,2))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"non_restricted_capital"==t.sortTarget},attrs:{target:"non_restricted_capital"}},[t._v("\n            "+t._s(t.approxNumber(n.non_restricted_capital))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"total_capital"==t.sortTarget},attrs:{target:"total_capital"}},[t._v("\n            "+t._s(t.approxNumber(n.total_capital))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"limit_up_days"==t.sortTarget},attrs:{target:"limit_up_days"}},[t._v("\n            "+t._s(t._f("continueCount")(n.limit_up_days))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"board_days"==t.sortTarget},attrs:{target:"board_days"}},[t._v("\n            "+t._s(n.m_days_n_boards_days)+"天"+t._s(n.m_days_n_boards_boards)+"板\n          ")])])})),0)]),t._v(" "),t.gifname&&t.targetItem&&t.showGif?e("div",{staticClass:"img-div",style:{top:t.top+"px",left:t.left+"px"}},[e("img",{attrs:{src:"http://image.sinajs.cn/newchart/min/n/".concat(t.gifname,".gif")}})]):t._e()])])}),[function(){var t=this,e=t._self._c;return e("span",{staticClass:"line-clamp"},[e("i",{staticClass:"iconfont"},[t._v("")]),t._v(" "),e("p",{staticClass:"stock-reason-login"},[t._v("请登录后查看")])])}],!1,null,"370cdab8",null).exports),ht={props:["stockList","sortRule","sortTarget","topFixed","y","small"],mounted:function(){},data:function(){return{top:0,left:0,gifname:null,targetItem:null,showGif:!1,tableItems:[{sortable:!1,title:"序号",target:"",size:4},{sortable:!1,title:"股票名称",target:"",size:7},{sortable:!1,title:"理由分析",target:"",size:19},{sortable:!0,title:"最新价",target:"price",size:7},{sortable:!0,title:"涨跌幅",target:"change_percent",size:7},{sortable:!0,title:"换手率",target:"turnover_ratio",size:7},{sortable:!0,title:"流通市值",target:"non_restricted_capital",size:7},{sortable:!0,title:"总市值",target:"total_capital",size:7},{sortable:!0,title:"昨日首次封板",target:"yesterday_first_limit_up",size:10,htmlTitle:"昨日</br>首次封板"},{sortable:!0,title:"昨日最后封板",target:"yesterday_last_limit_up",size:10,htmlTitle:"昨日</br>最后封板"},{sortable:!0,title:"昨日开板数",target:"yesterday_break_limit_up_times",size:7,htmlTitle:"昨日</br>开板数"},{sortable:!0,title:"昨日连板数",target:"yesterday_limit_up_days",size:7,htmlTitle:"昨日</br>连板数"}]}},components:{sortTh:K},mixins:[r.a,Q]},ut=(n(2651),n(2652),Object(x.a)(ht,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-container"},[e("div",{staticClass:"fixed-head"},[e("table",{staticClass:"table hit-pool__table fixed"},[e("colgroup",t._l(t.tableItems,(function(t,n){return e("col",{key:"col1"+n,style:"width: ".concat(t.size,"%;")})})),0),t._v(" "),e("thead",{staticClass:"hit-pool__table-head"},[e("tr",[t._l(t.tableItems,(function(n,o){return[n.sortable?t._e():e("th",{key:"th1"+o},[e("abbr",{attrs:{title:n.title}},[t._v(t._s(n.title))])]),t._v(" "),n.sortable?e("sort-th",{key:"th1"+o,attrs:{"html-title":n.htmlTitle,title:n.title,"sort-rule":t.sortRule,"sort-target":t.sortTarget,target:n.target},on:{sort:t.thsort}}):t._e()]}))],2)])])]),t._v(" "),e("div",{staticClass:"ding-scroll-main"},[e("table",{staticClass:"table hit-pool__table"},[e("colgroup",t._l(t.tableItems,(function(t,n){return e("col",{key:"col2"+n,style:"width: ".concat(t.size,"%;")})})),0),t._v(" "),e("thead",{staticClass:"hit-pool__table-head"},[e("tr",[t._l(t.tableItems,(function(n,o){return[n.sortable?t._e():e("th",{key:"th2"+o},[e("abbr",{attrs:{title:n.title}},[t._v(t._s(n.title))])]),t._v(" "),n.sortable?e("sort-th",{key:"th2"+o,attrs:{"html-title":n.htmlTitle,title:n.title,"sort-rule":t.sortRule,"sort-target":t.sortTarget,target:n.target},on:{sort:t.thsort}}):t._e()]}))],2)]),t._v(" "),e("tbody",{staticClass:"table hit-pool__table-body"},t._l(t.stockList,(function(n){return e("tr",{key:n.symbol},[e("td",{staticClass:"stock-index"},[t._v(t._s(n.index))]),t._v(" "),e("td",{staticClass:"stock-title",attrs:{target:n.symbol},on:{mouseleave:t.leaveTitle,mouseover:function(e){return t.hoverTitle(n,e)}}},[e("a",{attrs:{target:"_blank",href:"/stock/"+n.symbol}},[e("span",{staticClass:"stock-title-name"},[t._v(t._s(n.stock_chi_name))]),t._v(" "),e("br"),t._v("\n              "+t._s(t.symbolFilter(n.symbol))+"\n            ")])]),t._v(" "),"__lock"==n.reason?e("td",{staticClass:"stock-reason locked",on:{click:t.login}},[t._m(0,!0)]):e("td",{staticClass:"stock-reason"},[e("span",{staticClass:"hint--right hint--large",attrs:{"aria-label":t.poolReasonFilter(n.surge_reason)}},[n.surge_reason?e("span",{staticClass:"line-clamp"},[t._l(n.surge_reason.related_plates,(function(p,o){return n.surge_reason&&n.surge_reason.related_plates&&n.surge_reason.related_plates.length?[p.plate_id&&0!=p.plate_id&&-1!=p.plate_id?e("a",{key:p.plate_id,staticClass:"stock-reason-plate",attrs:{target:"_blank",href:"/theme/"+p.plate_id}},[0!=o?e("span",[t._v("+")]):t._e(),t._v(" "),e("span",{staticClass:"stock-reason-plate-name"},[t._v(t._s(p.plate_name))]),t._v(" "),o==n.surge_reason.related_plates.length-1&&t.poolReasonFilter(n.surge_reason)?e("span",[t._v("\n                      |")]):t._e()]):e("div",{key:p.plate_id,staticClass:"stock-reason-plate"},[0!=o?e("span",[t._v("+")]):t._e(),t._v(" "),e("span",{staticClass:"stock-reason-plate-name"},[t._v(t._s(p.plate_name))]),t._v(" "),o==n.surge_reason.related_plates.length-1&&t.poolReasonFilter(n.surge_reason)?e("span",[t._v("\n                      |")]):t._e()])]:t._e()})),t._v("\n                "+t._s(t.poolReasonFilter(n.surge_reason))+"\n              ")],2):t._e()])]),t._v(" "),e("td",{class:{sort_target:"price"==t.sortTarget},attrs:{target:"price"}},[e("span",{class:t.color(n.change_percent)},[t._v(t._s(n.price?t.price(n.price,2):""))])]),t._v(" "),e("td",{class:{sort_target:"change_percent"==t.sortTarget},attrs:{target:"change_percent"}},[e("span",{class:t.color(n.change_percent)},[t._v(t._s(t._f("numToPercent")(n.change_percent)))])]),t._v(" "),e("td",{class:{sort_target:"turnover_ratio"==t.sortTarget},attrs:{target:"turnover_ratio"}},[t._v("\n            "+t._s(t.rate(n.turnover_ratio,2))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"non_restricted_capital"==t.sortTarget},attrs:{target:"non_restricted_capital"}},[t._v("\n            "+t._s(t.approxNumber(n.non_restricted_capital))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"total_capital"==t.sortTarget},attrs:{target:"total_capital"}},[t._v("\n            "+t._s(t.approxNumber(n.total_capital))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"yesterday_first_limit_up"==t.sortTarget},attrs:{target:"yesterday_first_limit_up"}},[t._v("\n            "+t._s(t.timeFormatter(n.yesterday_first_limit_up))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"yesterday_last_limit_up"==t.sortTarget},attrs:{target:"yesterday_last_limit_up"}},[t._v("\n            "+t._s(t.timeFormatter(n.yesterday_last_limit_up))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"yesterday_break_limit_up_times"==t.sortTarget},attrs:{target:"yesterday_break_limit_up_times"}},[t._v("\n            "+t._s(t._f("openCount")(n.yesterday_break_limit_up_times))+"\n          ")]),t._v(" "),e("td",{class:{sort_target:"yesterday_limit_up_days"==t.sortTarget},attrs:{target:"yesterday_limit_up_days"}},[t._v("\n            "+t._s(t._f("continueCount")(n.yesterday_limit_up_days))+"\n          ")])])})),0)]),t._v(" "),t.gifname&&t.targetItem&&t.showGif?e("div",{staticClass:"img-div",style:{top:t.top+"px",left:t.left+"px"}},[e("img",{attrs:{src:"http://image.sinajs.cn/newchart/min/n/".concat(t.gifname,".gif")}})]):t._e()])])}),[function(){var t=this,e=t._self._c;return e("span",{staticClass:"line-clamp"},[e("i",{staticClass:"iconfont"},[t._v("")]),t._v(" "),e("p",{staticClass:"stock-reason-login"},[t._v("请登录后查看")])])}],!1,null,"7cb6a736",null).exports),_t={props:["stockList","sortRule","sortTarget","topFixed","y","small"],mounted:function(){},data:function(){return{top:0,left:0,gifname:null,targetItem:null,showGif:!1,tableItems:[{sortable:!1,title:"序号",target:"",size:4},{sortable:!1,title:"股票名称",target:"",size:7},{sortable:!0,title:"最新价",target:"price",size:9},{sortable:!0,title:"涨跌幅",target:"change_percent",size:9},{sortable:!0,title:"封单比",target:"sell_lock_volume_ratio",size:9},{sortable:!0,title:"换手率",target:"turnover_ratio",size:9},{sortable:!0,title:"流通市值",target:"non_restricted_capital",size:9},{sortable:!0,title:"总市值",target:"total_capital",size:9},{sortable:!0,title:"首次封板",target:"first_limit_down",size:9},{sortable:!0,title:"最后封板",target:"last_limit_down",size:9},{sortable:!0,title:"开板数",target:"break_limit_down_times",size:9},{sortable:!0,title:"连板数",target:"limit_down_days",size:8}]}},methods:{},mixins:[r.a,Q],components:{sortTh:K}},pt=(n(2653),n(2654),{props:["selectDate","isBubbleHide"],data:function(){return{pageIndex:0,tabItems:[{index:0,text:"涨停池",type:"boardstock",targetProp:"last_limit_up",poolPostfix:"board_code_desc",checked:!0},{index:1,text:"炸板池",type:"boomstock",targetProp:"last_break_limit_up",poolPostfix:"boom_code_desc",checked:!1},{index:6,text:"昨日涨停池",type:"boardpreday",targetProp:"change_percent",poolPostfix:"",checked:!1},{index:4,text:"强势股池",type:"multistock",targetProp:"limit_up_days",poolPostfix:"multi_code_desc",checked:!1},{index:5,text:"跌停池",type:"downstock",targetProp:"last_limit_down",poolPostfix:"",checked:!1},{index:2,text:"新股池",type:"newstock",targetProp:"new_stock_limit_up_days",poolPostfix:"new_code_desc",checked:!1},{index:3,text:"次新股池",type:"secstock",targetProp:"change_percent",poolPostfix:"sec_code_desc",checked:!1}],tableData:[],sortTarget:"last_limit_up",sortRule:"desc",timer:0,loading:!1,filterNewstock:!0,filterST:!0,expandHint:!1}},mounted:function(){this.startInterval(),localStorage.getItem("expandHint")||(this.expandHint=!0)},beforeDestroy:function(){this.stopInterval()},methods:{swapTab:function(t){var e=this;t.index!==this.pageIndex&&(this.tableData=[],this.loading=!0,this.sortTarget=t.targetProp,this.sortRule="desc",this.tabItems=this.tabItems.map((function(i){return i.checked=i.index===t.index,e.pageIndex=t.index,i})),this.$nextTick((function(){e.stopInterval(),e.startInterval()})))},hideBubble:function(){this.$emit("hide-bubble")},showBubble:function(){this.$emit("show-bubble")},startInterval:function(){var t=this;this.loading=!0,this.getData(),this.timer=setInterval((function(){t.inStockTime()&&t.getData()}),1e4)},stopInterval:function(){clearInterval(this.timer)},startSort:function(t){"default"===t.sortRule?this.sortRule="desc":this.sortRule=t.sortRule,this.sortTarget=t.sortTarget;var e=this.originTableData.length;this.$store.state.user.token||-1!==location.href.indexOf("xgb.io")?this.tableData=this.sortData().map((function(t,n){return t.index=e-n,t})):this.tableData=this.sortData().map((function(t,n){return t.index=e-n,-1===location.href.indexOf("local.xgb.io")&&(t.reason="__lock"),t}))},changeYidong:function(){this.$emit("changeYidong")},getData:function(){var t=this,e=this.pageIndex;J[this.tabItems.find((function(e){return e.index===t.pageIndex})).type](null,F()(this.selectDate,"YYYY-MM-DD")===F()(new Date,"YYYY-MM-DD")?null:F()(this.selectDate,"YYYY-MM-DD"),this.filterNewstock).then((function(n){if(e===t.pageIndex){t.originTableData=n.data,t.filterST&&(t.originTableData=t.originTableData.filter((function(s){return!~s.stock_chi_name.indexOf("ST")})));var o=t.originTableData.length;return t.$store.state.user.token?t.tableData=t.sortData().map((function(t,e){return t.index=o-e,t})):t.tableData=t.sortData().map((function(t,e){return t.index=o-e,-1===location.href.indexOf("local.xgb.io")&&(t.reason="__lock"),t})),t.firstLoaded++,t.loading=!1,Promise.resolve(1)}}))},filterChange:function(t){this.filterNewstock=t,this.stopInterval(),this.startInterval()},dofilterST:function(){this.filterST=!this.filterST,this.$emit("filterst",this.filterST),this.stopInterval(),this.startInterval()},sortData:function(){var t=this;if(2===this.pageIndex){if("new_stock_limit_up_days"===this.sortTarget){var e=Object(V.a)(this.originTableData);return"desc"===this.sortRule?e.sort((function(a,b){return b.new_stock_limit_up_days-a.new_stock_limit_up_days||parseInt(a.symbol)-parseInt(b.symbol)})):e.sort((function(a,b){return a.new_stock_limit_up_days-b.new_stock_limit_up_days||parseInt(a.symbol)-parseInt(b.symbol)}))}return Object(V.a)(this.originTableData).sort((function(a,b){return"desc"===t.sortRule?b[t.sortTarget]-a[t.sortTarget]||parseInt(a.symbol)-parseInt(b.symbol):a[t.sortTarget]-b[t.sortTarget]||parseInt(a.symbol)-parseInt(b.symbol)}))}return 4===this.pageIndex&&"board_days"===this.sortTarget?Object(V.a)(this.originTableData).sort((function(a,b){return"desc"===t.sortRule?b.m_days_n_boards_days-a.m_days_n_boards_days||b.m_days_n_boards_days===a.m_days_n_boards_days&&b.m_days_n_boards_boards/b.m_days_n_boards_days-a.m_days_n_boards_boards/a.m_days_n_boards_days||parseInt(a.symbol)-parseInt(b.symbol):a.m_days_n_boards_days-b.m_days_n_boards_days||b.m_days_n_boards_days===a.m_days_n_boards_days&&a.m_days_n_boards_boards/a.m_days_n_boards_days-b.m_days_n_boards_boards/b.m_days_n_boards_days||parseInt(a.symbol)-parseInt(b.symbol)})):4===this.pageIndex&&"limit_up_days"===this.sortTarget?Object(V.a)(this.originTableData).sort((function(a,b){return"desc"===t.sortRule?b.limit_up_days-a.limit_up_days||parseInt(a.symbol)-parseInt(b.symbol):a.limit_up_days-b.limit_up_days||parseInt(a.symbol)-parseInt(b.symbol)})):Object(V.a)(this.originTableData).sort((function(a,b){return"desc"===t.sortRule?b[t.sortTarget]-a[t.sortTarget]||parseInt(a.symbol)-parseInt(b.symbol):a[t.sortTarget]-b[t.sortTarget]||parseInt(a.symbol)-parseInt(b.symbol)}))},closeExpandHint:function(){this.expandHint=!1,localStorage.setItem("expandHint",1)}},components:{toolbar:X,boardStock:tt,boomStock:st,newStock:it,secStock:ot,multiStock:ct,boardDownStock:Object(x.a)(_t,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-container"},[e("div",{staticClass:"fixed-head"},[e("table",{staticClass:"table hit-pool__table fixed"},[e("colgroup",t._l(t.tableItems,(function(t,n){return e("col",{key:"col1"+n,style:"width: ".concat(t.size,"%;")})})),0),t._v(" "),e("thead",{staticClass:"hit-pool__table-head"},[e("tr",[t._l(t.tableItems,(function(n,o){return[n.sortable?t._e():e("th",{key:"th1"+o},[e("abbr",{attrs:{title:n.title}},[t._v(t._s(n.title))])]),t._v(" "),n.sortable?e("sort-th",{key:"th1"+o,attrs:{"html-title":n.htmlTitle,title:n.title,"sort-rule":t.sortRule,"sort-target":t.sortTarget,target:n.target},on:{sort:t.thsort}}):t._e()]}))],2)])])]),t._v(" "),e("div",{staticClass:"ding-scroll-main"},[e("table",{staticClass:"table hit-pool__table"},[e("colgroup",t._l(t.tableItems,(function(t,n){return e("col",{key:"col2"+n,style:"width: ".concat(t.size,"%;")})})),0),t._v(" "),e("thead",{staticClass:"hit-pool__table-head"},[e("tr",[t._l(t.tableItems,(function(n,o){return[n.sortable?t._e():e("th",{key:"th2"+o},[e("abbr",{attrs:{title:n.title}},[t._v(t._s(n.title))])]),t._v(" "),n.sortable?e("sort-th",{key:"th2"+o,attrs:{"html-title":n.htmlTitle,title:n.title,"sort-rule":t.sortRule,"sort-target":t.sortTarget,target:n.target},on:{sort:t.thsort}}):t._e()]}))],2)]),t._v(" "),e("tbody",{staticClass:"table hit-pool__table-body"},t._l(t.stockList,(function(n){return e("tr",{key:n.symbol},[e("td",{staticClass:"stock-index"},[t._v(t._s(n.index))]),t._v(" "),e("td",{staticClass:"stock-title",attrs:{target:n.symbol},on:{mouseleave:t.leaveTitle,mouseover:function(e){return t.hoverTitle(n,e)}}},[e("a",{attrs:{target:"_blank",href:"/stock/"+n.symbol}},[e("span",{staticClass:"stock-title-name"},[t._v(t._s(n.stock_chi_name))]),e("br"),t._v(t._s(t.symbolFilter(n.symbol)))])]),t._v(" "),e("td",{class:{sort_target:"price"==t.sortTarget},attrs:{target:"price"}},[e("span",{class:t.color(n.change_percent)},[t._v(t._s(t.price(n.price)))])]),t._v(" "),e("td",{class:{sort_target:"change_percent"==t.sortTarget},attrs:{target:"change_percent"}},[e("span",{class:t.color(n.change_percent)},[t._v(t._s(t.rate(n.change_percent,2)))])]),t._v(" "),e("td",{class:{sort_target:"sell_lock_volume_ratio"==t.sortTarget},attrs:{target:"sell_lock_volume_ratio"}},[t._v(t._s(t.rate(n.sell_lock_volume_ratio,1)))]),t._v(" "),e("td",{class:{sort_target:"turnover_ratio"==t.sortTarget},attrs:{target:"turnover_ratio"}},[t._v(t._s(t.rate(n.turnover_ratio,2)))]),t._v(" "),e("td",{class:{sort_target:"non_restricted_capital"==t.sortTarget},attrs:{target:"non_restricted_capital"}},[t._v(t._s(t.approxNumber(n.non_restricted_capital)))]),t._v(" "),e("td",{class:{sort_target:"total_capital"==t.sortTarget},attrs:{target:"total_capital"}},[t._v(t._s(t.approxNumber(n.total_capital)))]),t._v(" "),e("td",{class:{sort_target:"first_limit_down"==t.sortTarget},attrs:{target:"first_limit_down"}},[t._v(t._s(t.timeFormatter(n.first_limit_down)))]),t._v(" "),e("td",{class:{sort_target:"last_limit_down"==t.sortTarget},attrs:{target:"last_limit_down"}},[t._v(t._s(t.timeFormatter(n.last_limit_down)))]),t._v(" "),e("td",{class:{sort_target:"break_limit_down_times"==t.sortTarget},attrs:{target:"break_limit_down_times"}},[t._v(t._s(t._f("openCount")(n.break_limit_down_times)))]),t._v(" "),e("td",{class:{sort_target:"limit_down_days"==t.sortTarget},attrs:{target:"limit_down_days"}},[t._v(t._s(t._f("continueCount")(n.limit_down_days)))])])})),0)]),t._v(" "),t.gifname&&t.targetItem&&t.showGif?e("div",{staticClass:"img-div",style:{top:t.top+"px",left:t.left+"px"}},[e("img",{attrs:{src:"http://image.sinajs.cn/newchart/min/n/".concat(t.gifname,".gif")}})]):t._e()])])}),[],!1,null,"d765d45e",null).exports,boardPreday:ut,dotSpinner:H},mixins:[r.a]}),gt=(n(2655),Object(x.a)(pt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ding-table-main"},[e("div",{ref:"tab",staticClass:"ban-table-tab"},[e("div",{staticClass:"ban-table-tab-container"},[e("div",{staticClass:"ban-table-tab-items"},[t._l(t.tabItems,(function(n){return e("div",{key:n.index,staticClass:"ban-table-tab-item",attrs:{target:n.index},on:{click:function(e){return t.swapTab(n)}}},[e("span",{staticClass:"tab-item-text",class:{checked:n.checked}},[t._v(t._s(n.text))])])})),t._v(" "),t._m(0)],2),t._v(" "),e("div",{staticClass:"ban-table-tab-toolbar"},[t.tableData&&t.tableData.length?e("toolbar",{attrs:{filterST:t.filterST,index:t.pageIndex,"stock-list":t.tableData},on:{filterst:t.dofilterST,filterChange:t.filterChange}}):t._e()],1)])]),t._v(" "),e("div",{staticClass:"ban-table-main"},[0==t.pageIndex&&t.tableData&&t.tableData.length?e("board-stock",{attrs:{small:"false","sort-rule":t.sortRule,"sort-target":t.sortTarget,"stock-list":t.tableData},on:{sort:t.startSort}}):t._e(),t._v(" "),1==t.pageIndex&&t.tableData&&t.tableData.length?e("boom-stock",{attrs:{small:"false","sort-rule":t.sortRule,"sort-target":t.sortTarget,"stock-list":t.tableData},on:{sort:t.startSort}}):t._e(),t._v(" "),2==t.pageIndex&&t.tableData&&t.tableData.length?e("new-stock",{attrs:{small:"false","sort-rule":t.sortRule,"sort-target":t.sortTarget,"stock-list":t.tableData},on:{sort:t.startSort}}):t._e(),t._v(" "),3==t.pageIndex&&t.tableData&&t.tableData.length?e("sec-stock",{attrs:{small:"false","sort-rule":t.sortRule,"sort-target":t.sortTarget,"stock-list":t.tableData},on:{sort:t.startSort}}):t._e(),t._v(" "),4==t.pageIndex&&t.tableData&&t.tableData.length?e("multi-stock",{attrs:{small:"false","sort-rule":t.sortRule,"sort-target":t.sortTarget,"stock-list":t.tableData},on:{sort:t.startSort}}):t._e(),t._v(" "),5==t.pageIndex&&t.tableData&&t.tableData.length?e("board-down-stock",{attrs:{small:"false","sort-rule":t.sortRule,"sort-target":t.sortTarget,"stock-list":t.tableData},on:{sort:t.startSort}}):t._e(),t._v(" "),6==t.pageIndex&&t.tableData&&t.tableData.length?e("board-preday",{attrs:{small:"false","sort-rule":t.sortRule,"sort-target":t.sortTarget,"stock-list":t.tableData},on:{sort:t.startSort}}):t._e(),t._v(" "),t.loading||!t.tableData||t.tableData.length?t._e():e("div",{staticClass:"ban-table-nostock"},[e("i",{staticClass:"iconfont icon-meiyouxingu"}),t._v(" "),e("span",[t._v("暂无相应股票")])]),t._v(" "),t.loading?e("div",{staticClass:"spinner"},[e("dot-spinner")],1):t._e()],1),t._v(" "),t.isBubbleHide?t._e():e("div",{staticClass:"ban-table-max"},[e("i",{staticClass:"iconfont icon-xiangshang",on:{click:t.hideBubble}}),t._v(" "),t.expandHint?e("div",{staticClass:"ban-table-tip"},[t._v("\n      点击可展开股票池\n      "),e("i",{staticClass:"icon-cuowu iconfont",on:{click:t.closeExpandHint}})]):t._e()]),t._v(" "),t.isBubbleHide?e("div",{staticClass:"ban-table-min",on:{click:t.showBubble}},[e("i",{staticClass:"iconfont icon-xiangxia"})]):t._e()])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"ban-table-tab-item"},[e("a",{staticClass:"tab-item-text",attrs:{href:"/top-gainer",target:"_blank"}},[t._v("热点解读")]),t._v(" "),e("img",{attrs:{src:"https://static.xuangubao.com.cn/clay/img/new.png"}})])}],!1,null,"7521e112",null).exports),vt=(n(88),n(47)),mt=n(42),ft=(n(127),n(2056)),bt=n(1682),yt=(n(60),n(71),n(1700)),xt={props:{placement:{type:String,default:"top"}},directives:{clickoutside:yt.a},data:function(){return{visible:!1,phHeight:null,content:null}},computed:{style:function(){var style={};return this.placement.includes("bottom")&&(style.top="".concat(this.phHeight,"px"),"bottom-end"===this.placement&&(style.right=0),"bottom-start"===this.placement&&(style.left=0)),this.placement.includes("top")&&(style.bottom="".concat(this.phHeight,"px"),"top-end"===this.placement&&(style.right=0),"top-start"===this.placement&&(style.left=0)),style}},methods:{handleClick:function(){this.visible=!this.visible},handleClose:function(){this.visible=!1}},mounted:function(){this.phHeight=this.$refs.ph.clientHeight}},kt=(n(2656),Object(x.a)(xt,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"x-poptip"},[e("div",{ref:"ph",staticClass:"x-poptip-ph",on:{click:t.handleClick}},[t._t("default")],2),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"x-poptip-content",style:t.style},[t._t("content")],2)])],1)}),[],!1,null,"570c3bd6",null).exports),wt=n(1697),Ct={props:["load","element"],data:function(){return{state:""}},mounted:function(){var t=this;this.onscroll=function(){var e=t;e.state||document.getElementById(t.element).scrollHeight-document.getElementById(t.element).scrollTop<1e3&&"loading"!==e.state&&(e.state="loading",e.load().then((function(t){e.state="ended"===t?t:""})))},document.getElementById(this.element).addEventListener("scroll",this.onscroll,{passive:!0})},methods:{reset:function(){this.state=""},end:function(){this.state="ended"}}},Tt=(n(2657),Object(x.a)(Ct,(function(){var t=this,e=t._self._c;return t.state?e("div",{staticClass:"container"},["ended"===t.state?e("div",{staticClass:"ended"},[t._v("不能再拖了，人家是有底线的 (ღˇ◡ˇღ)")]):t._e()]):t._e()}),[],!1,null,"b7da1636",null).exports),St=(n(100),n(1663)),Dt={props:["item","sideWidth","isDark"],computed:{isBigNews:function(){return this.item.SubjId&&this.item.SubjIds.indexOf("10")>-1}},components:{Stocks:n(2042).a,Base64ImageV2:St.a},watch:{sideWidth:function(t){if(item&&item.TitlePath){var e=document.documentElement.clientWidth||document.body.clientWidth||window.innerWidth;if("25%"==t)this.imgWidth=10*Math.floor((e/4-90)/10);else{var n=t.replace("px","");this.imgWidth=n-50}}}},data:function(){return{imgWidth:null}},mounted:function(){this.adjustImg(),this.item.Image&&window.lightGallery(this.$refs.image,{selector:"this"})},updated:function(){this.item.Image&&window.lightGallery(this.$refs.image,{selector:"this"})},methods:{adjustImg:function(){var t=document.documentElement.clientWidth||document.body.clientWidth||window.innerWidth;if("25%"==this.sideWidth)this.imgWidth=10*Math.floor((t/4-90)/10);else{var e=this.sideWidth.replace("px","");this.imgWidth=e-50}}},mixins:[r.a]},It=(n(2658),n(2659),Object(x.a)(Dt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ban-news-item",class:{"big-news":t.isBigNews}},[e("div",{staticClass:"ban-news-item-timeline"},[e("div",{staticClass:"ban-news-item-timeline-indicator"},[e("div",{staticClass:"ban-news-item-timeline-indicator-line"}),t._v(" "),e("div",{staticClass:"ban-news-item-timeline-indicator-dot",class:{"big-news":t.isBigNews}})]),t._v(" "),e("div",{staticClass:"ban-news-item-timeline-time",class:{"big-news":t.isBigNews}},[t._v("\n      "+t._s(t.timeFormatter(t.item.CreatedAtInSec,"HH:mm:ss"))+"\n    ")])]),t._v(" "),e("div",{staticClass:"ban-news-item-main"},[e("div",{staticClass:"ban-news-item-container"},[e("div",{staticClass:"ban-news-item-container-time",class:{"big-news":t.isBigNews}},[t._v("\n        "+t._s(t.timeFormatter(t.item.CreatedAtInSec,"HH:mm:ss"))+"\n      ")]),t._v(" "),e("div",{staticClass:"ban-news-item-container-info"},[e("div",{staticClass:"ban-news-item-title",class:{"big-news":t.isBigNews}},[0===t.item.SubscribeType?e("span",[t._v("\n            "+t._s(t.item.Title)+"\n          ")]):1===t.item.SubscribeType?e("span",[t.imgWidth&&t.item.IsSubscribed?e("div",{staticStyle:{margin:"-3px 0 0 -10px"}},[e("Base64ImageV2",{attrs:{type:"1",fontSize:"14",width:t.imgWidth,fontColorType:t.isDark?"1":"0",id:t.item.Id,updatedAt:t.item.UpdatedAtInSec}})],1):e("a",{attrs:{href:"/vip",target:"_blank",title:t.item.Title}},[t._v("\n              "+t._s(t.item.Title)+"\n            ")])]):t._e()]),t._v(" "),t.item.Summary&&0===t.item.SubscribeType?e("div",{staticClass:"ban-news-item-detail"},[e("pre",{staticClass:"ban-news-item-detail-summary normal-pre-text"},[t._v(t._s(t.item.Summary))])]):t._e(),t._v(" "),t.imgWidth&&t.item.IsSubscribed&&t.item.SummaryPath?e("div",{staticStyle:{margin:"-3px 0 0 -10px"}},[e("Base64ImageV2",{attrs:{type:"2",fontSize:"13",width:t.imgWidth,fontColorType:t.isDark?"1":"0",id:t.item.Id,updatedAt:t.item.UpdatedAtInSec}})],1):t._e()]),t._v(" "),t.item.Image?e("div",{staticClass:"ban-news-item-image"},[e("img",{ref:"image",staticClass:"ban-news-item-image-img lightbox",attrs:{src:t.item.Image,"data-src":t.item.Image}})]):t._e(),t._v(" "),e("div",{staticClass:"ban-news-item-intro"},[t.item.Stocks?e("div",{},[e("stocks",{attrs:{stocks:t.item.Stocks}})],1):t._e(),t._v(" "),t.item.BkjInfoArr&&t.item.BkjInfoArr.length?e("div",{staticClass:"theme-group"},t._l(t.item.BkjInfoArr,(function(b,n){return e("a",{key:b.Id+n,staticClass:"ban-news-item-intro-topic",attrs:{target:"_blank",href:"/theme/"+b.Id}},[t._v(t._s(b.Name))])})),0):t._e()])])])])}),[],!1,null,"3d150a46",null).exports),Mt=n(1705);function Lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(n),!0).forEach((function(e){Object(D.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var zt={props:["isDark","sideWidth"],data:function(){return{optionVisible:!1}},computed:Ot(Ot({data:function(){return this.$store.state.homeMsgs},vipSubjectId:function(){return mt.a.SUBJECT_IDS.VIP},isFetching:function(){return this.$store.state.homeMsgs.isFetching},settingsIcon:function(){var t=this.$store.state.homeMsgs.push;return t&&Object.keys(t).map((function(e){return t[e]})).filter((function(i){return!!i})).length?"iconfont icon-tongzhi checked":"iconfont icon-guanbitongzhi1"}},Object(vt.mapGetters)({msgs:"homeMsgs/msgList"})),{},{showIconTips:function(){return this.$store.state.homeMsgs.push.audio||this.$store.state.homeMsgs.push.tts}}),mounted:function(){this.initPush(),this.initFilters(),this.$store.dispatch("homeMsgs/initWS")},methods:Ot(Ot({},Object(vt.mapActions)({selectFixedSubject:"homeMsgs/selectFixedSubject",loadMore:"homeMsgs/loadMore",searchMore:"homeMsgs/searchMsgs",setPush:"homeMsgs/setPush",initPush:"homeMsgs/initPush",initFixedSubject:"homeMsgs/initFixedSubject"})),{},{isActive:function(t){return this.$store.state.homeMsgs.activeFixedSubjects.indexOf(t)>-1},loadMoreMsg:function(){return this.isFetching?new Promise((function(t,e){t(1)})):this.$store.dispatch("homeMsgs/loadMore")},getPushStatus:function(t){return this.data.push[t]},handleCopy:function(){var t=window.getSelection(),text=t+'<br>(选股通7×24直播 不止是快) <a href="https://xuangutong.com.cn">https://xuangutong.com.cn</a>',e=document.createElement("div");document.body.appendChild(e),e.style.position="absolute",e.style.left="-99999px",e.innerHTML=text,t.selectAllChildren(e),setTimeout((function(){document.body.removeChild(e)}),100)},initFilters:function(){var t=localStorage.getItem("banNewsFilters");t?(t=JSON.parse(t),this.initFixedSubject(t)):this.$store.dispatch("homeMsgs/getMsgs")}}),components:{MuteButton:Mt.a,banNewsItem:It,InfiniteScroll:Tt,CheckBoxGroup:ft.a,CheckBox:bt.a,PopTip:kt,XSwitch:wt.a}},jt=(n(2660),n(2661),Object(x.a)(zt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ban-news",class:{dark:t.isDark}},[e("div",{staticClass:"ban-news-title"},[e("div",{staticClass:"left-part"},[e("span",{staticClass:"title"},[t._v("\n      7X24小时直播\n        "),e("i",{class:Object(D.a)({iconfont:!0},t.settingsIcon,!0)})]),t._v(" "),e("MuteButton")],1),t._v(" "),e("div",{staticClass:"ban-news-option"},[e("pop-tip",{attrs:{placement:"bottom-end"},model:{value:t.optionVisible,callback:function(e){t.optionVisible=e},expression:"optionVisible"}},[e("div",[t.optionVisible?e("i",{staticClass:"ban-news-option-btn icon-cebianlanshouqi iconfont"}):e("i",{staticClass:"ban-news-option-btn icon-cebianlanzhankai iconfont"})]),t._v(" "),e("div",{staticClass:"option-container",attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"option-check-title"},[t._v("筛选")]),t._v(" "),e("CheckBoxGroup",[e("CheckBox",{staticClass:"option-check-item",attrs:{value:t.isActive(723)},on:{input:function(e){return t.selectFixedSubject({value:e,id:723,from:"dingpan"})}}},[t._v("公告")]),t._v(" "),e("CheckBox",{staticClass:"option-check-item",attrs:{value:t.isActive(10)},on:{input:function(e){return t.selectFixedSubject({value:e,id:10,from:"dingpan"})}}},[t._v("大新闻")]),t._v(" "),e("CheckBox",{staticClass:"option-check-item",attrs:{value:t.isActive(35)},on:{input:function(e){return t.selectFixedSubject({value:e,id:35,from:"dingpan"})}}},[t._v("盘中异动")]),t._v(" "),e("CheckBox",{staticClass:"option-check-item",attrs:{value:t.isActive(469)},on:{input:function(e){return t.selectFixedSubject({value:e,id:469,from:"dingpan"})}}},[t._v("市场机会")]),t._v(" "),e("CheckBox",{staticClass:"option-check-item",attrs:{value:t.isActive(t.vipSubjectId)},on:{input:function(e){return t.selectFixedSubject({value:e,id:t.vipSubjectId,from:"dingpan"})}}},[t._v("VIP")])],1),t._v(" "),e("div",{staticClass:"option-check-title"},[t._v("通知设置")]),t._v(" "),e("div",{staticClass:"option-item"},[e("div",{staticClass:"inline-div"},[e("x-switch",{attrs:{size:"small",value:t.getPushStatus("notification")},on:{input:function(e){return t.setPush({value:e,type:"notification"})}}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("桌面提醒")])])],1)]),t._v(" "),e("div",{staticClass:"option-item"},[e("div",{staticClass:"inline-div"},[e("x-switch",{attrs:{size:"small",value:t.getPushStatus("audio")},on:{input:function(e){return t.setPush({value:e,type:"audio"})}}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("声音提醒")])])],1)]),t._v(" "),e("div",{staticClass:"option-item"},[e("div",{staticClass:"inline-div"},[e("x-switch",{attrs:{size:"small",value:t.getPushStatus("tts")},on:{input:function(e){return t.setPush({value:e,type:"tts"})}}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("语音播报")])])],1)])],1)])],1)]),t._v(" "),t.msgs&&t.msgs.length?e("div",{staticClass:"ban-news-main",attrs:{id:"ban-news-main"},on:{copy:t.handleCopy}},[t._l(t.msgs,(function(n){return e("ban-news-item",{key:n.Id,attrs:{"is-dark":t.isDark,"side-width":t.sideWidth,item:n}})})),t._v(" "),e("infinite-scroll",{attrs:{load:t.loadMoreMsg,element:"ban-news-main"}})],2):t._e()])}),[],!1,null,"9fb3c9fe",null).exports),Pt=n(477),Rt=n.n(Pt),Et=(n(628),n(199)),Ft={props:["item"],data:function(){return{upIds:[10001,10005,10004,10008,10014,10009,11e3,11002],themelistMore:!1,themelistExpand:!1,hovered:!1,stockTrend:null,stockLine:null,shadowPolygon:null,lastStockDot:null,changeText:{10001:"封涨停板",10002:"封跌停板",10003:"打开涨停板",10004:"打开跌停板",10005:"逼近涨停",10006:"逼近跌停",10007:"即将打开涨停",10008:"即将打开跌停",10009:"大幅拉升",10010:"快速跳水",10012:"新股开板",10014:"新股开板回封",11e3:"板块拉升",11001:"板块跳水"}}},mixins:[r.a],mounted:function(){var t=this;this.$nextTick((function(){t.$refs.themelist&&t.$refs.themelist.clientHeight&&t.$refs.themelist.clientHeight>50&&(t.themelistMore=!0,t.themelistExpand=!1)}))},computed:{adjustItem:function(){if(this.item.event_type>=11e3)return Object.assign({},this.item.plate_abnormal_event_data,{event_timestamp:this.item.event_timestamp,event_type:this.item.event_type});var i=Object.assign({},this.item.stock_abnormal_event_data,{event_timestamp:this.item.event_timestamp,event_type:this.item.event_type});return i.related_plates&&i.related_plates.length&&(i.related_plates=i.related_plates.sort((function(a,b){return b.plate_pcp-a.plate_pcp}))),i}},methods:{typeColor:function(t){return"-market-color--"+(-1!=this.upIds.indexOf(t)?"rise":"decline")},expandTheme:function(){this.themelistExpand=!0},hoverStockName:function(){var t=this;this.hovered=!0,Object(O.f)(this.adjustItem.symbol).then((function(e){var n=t.dataBeautifySpecial(e.data);t.stockTrend=n[t.adjustItem.symbol],t.drawStockTrend()}))},drawStockTrend:function(){var t=0,e=1e3,n=0,o=0;if(this.stockTrend&&this.stockTrend.length){this.stockTrend.map((function(r){t=r.last_px>t?r.last_px:t,e=r.last_px<e?r.last_px:e,n=r.event_timestamp>n?r.event_timestamp:n,o=r.event_timestamp<o?r.event_timestamp:o}));var r=70,l=10,c=(140-l)/this.stockTrend.length,h=(r-10)/(t-e?t-e:t),d=Math.floor(this.stockTrend.length/(140-l))+1,_=this.stockTrend.map((function(e,i){return[c*i+l,10+h*(t-e.last_px)]})).filter((function(t,i){return!(i%d)}));this.lastStockDot=_[_.length-1],this.stockLine=_.map((function(i){return i.join(",")})).join(" "),this.shadowPolygon=[[l,r]].concat(_).concat([[140,r]]).map((function(i){return i.join(",")})).join(" ")}},leaveStockName:function(){this.hovered=!1}},filters:{nameFilter:function(t){return t.length>5?t.slice(0,5)+"...":t}}},At=(n(2662),Object(x.a)(Ft,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ban-change-item"},[e("div",{staticClass:"ban-change-item-timeline",class:{"is-stock":t.adjustItem.event_type<11e3}},[t._m(0),t._v(" "),e("div",{staticClass:"ban-change-item-timeline-time"},[t._v(t._s(t.timeFormatter(t.adjustItem.event_timestamp,"HH:mm:ss")))])]),t._v(" "),e("div",{staticClass:"ban-change-item-main"},[e("div",{staticClass:"ban-change-item-container"},[e("div",{staticClass:"ban-change-item-container-time"},[t._v(t._s(t.timeFormatter(t.adjustItem.event_timestamp,"HH:mm:ss")))]),t._v(" "),t.adjustItem.event_type<11e3?e("div",{staticClass:"ban-change-item-container-info"},[e("div",{staticClass:"ban-change-item-title"},[e("div",{staticClass:"ban-change-item-title-stock"},[e("div",{staticClass:"ban-change-item-title-stock-main"},[e("a",{staticClass:"ban-change-item-title-stock-main-name",attrs:{target:"_blank",href:"/stock/".concat(t.adjustItem.symbol)},on:{mouseenter:t.hoverStockName,mouseleave:t.leaveStockName}},[e("p",{staticClass:"ban-change-item-title-stock-main-name-text"},[t._v(t._s(t.adjustItem.name))]),t._v(" "),e("p",{staticClass:"ban-change-item-title-stock-main-name-symbol"},[t._v(t._s(t.symbolFilter(t.adjustItem.symbol)))]),t._v(" "),t.hovered?e("div",{staticClass:"ban-change-item-title-stock-main-name-svg"},[t.lastStockDot&&t.stockLine&&t.shadowPolygon?e("svg",{ref:"stockSvg",staticClass:"stock-svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 150 80",width:150,height:80}},[e("polyline",{staticClass:"path",attrs:{fill:"none",stroke:"#1478F0","stroke-width":1,points:t.stockLine}}),t._v(" "),e("circle",{attrs:{cx:t.lastStockDot[0],cy:t.lastStockDot[1],r:"10",fill:"#1B6ED3","fill-opacity":"0.2"}}),t._v(" "),e("circle",{attrs:{cx:t.lastStockDot[0],cy:t.lastStockDot[1],r:"5",fill:"#1B6ED3","fill-opacity":"1"}})]):t._e()]):t._e()])]),t._v(" "),t.adjustItem?e("div",{staticClass:"ban-change-item-title-stock-rate",class:t.color(t.adjustItem.pcp)},[t._v(t._s(t._f("numToPercent")(t.adjustItem.pcp)))]):t._e(),t._v(" "),e("div",{staticClass:"ban-change-item-title-stock-desc",class:t.typeColor(t.adjustItem.event_type)},[t._v(t._s(t.changeText[t.adjustItem.event_type]))])])]),t._v(" "),t.adjustItem.related_plates&&t.adjustItem.related_plates.length?e("div",{ref:"themelist",staticClass:"ban-change-item-detail-stock",class:{expand:t.themelistMore&&!t.themelistExpand,hide:t.themelistMore&&t.themelistExpand}},[t._l(t.adjustItem.related_plates,(function(n){return e("a",{key:n.plate_id,staticClass:"ban-change-item-detail-stock-topic",class:t.color(n.plate_pcp),attrs:{target:"_blank",href:"/theme/"+n.plate_id}},[e("div",{staticClass:"ban-change-item-detail-stock-topic-name"},[t._v(t._s(n.plate_name||"无名"))]),t._v(" "),e("div",{staticClass:"ban-change-item-detail-stock-topic-rate"},[t._v(t._s(t._f("numToPercent")(n.plate_pcp)))])])})),t._v(" "),t.themelistMore&&!t.themelistExpand?e("i",{staticClass:"iconfont expandIcon",on:{click:t.expandTheme}},[t._v("")]):t._e()],2):t._e()]):t._e(),t._v(" "),t.adjustItem.event_type>=11e3?e("div",{staticClass:"ban-change-item-container-info"},[e("div",{staticClass:"ban-change-item-title"},[e("div",{staticClass:"ban-change-item-title-theme"},[e("div",{staticClass:"ban-change-item-title-theme-main"},[t.adjustItem.pcp?e("a",{staticClass:"ban-change-item-title-theme-main-name",class:t.colorFlag(t.adjustItem.pcp),attrs:{target:"_blank",href:"/theme/"+t.adjustItem.plate_id}},[e("p",{staticClass:"hint--bottom",attrs:{"aria-label":t.adjustItem.plate_name}},[t._v(t._s(t._f("nameFilter")(t.adjustItem.plate_name)))])]):t._e()]),t._v(" "),t.adjustItem.pcp?e("div",{staticClass:"ban-change-item-title-theme-rate",class:t.color(t.adjustItem.pcp)},[t._v(t._s(t._f("numToPercent")(t.adjustItem.pcp)))]):t._e(),t._v(" "),e("div",{staticClass:"ban-change-item-title-theme-desc",class:t.typeColor(t.adjustItem.event_type)},[t._v(t._s(t.changeText[t.adjustItem.event_type]))])])]),t._v(" "),t.adjustItem.related_stocks&&t.adjustItem.related_stocks.length?e("div",{staticClass:"ban-change-item-detail-theme"},t._l(t.adjustItem.related_stocks,(function(n,o){return e("a",{key:n.symbol,staticClass:"ban-change-item-detail-theme-item",attrs:{target:"_blank",href:"/stock/"+n.symbol}},[e("span",{staticClass:"ban-change-item-detail-theme-item-name"},[0==o?e("i",{staticClass:"iconfont"},[t._v("")]):t._e(),t._v(" "),1==o?e("i",{staticClass:"iconfont"},[t._v("")]):t._e(),t._v(" "),2==o?e("i",{staticClass:"iconfont"},[t._v("")]):t._e(),t._v("\n              "+t._s(n.name)+"\n            ")]),t._v(" "),n.mtm?e("span",{staticClass:"ban-change-item-detail-theme-item-pcr",class:t.color(n.mtm)},[e("span",{staticClass:"normal"},[t._v("涨速")]),t._v("\n              "+t._s(t._f("numToPercent")(n.mtm))+"\n              "),n.mtm>0?e("img",{staticClass:"ban-change-item-detail-theme-item-pcr-img",attrs:{src:"https://static.xuangubao.com.cn/clay/img/rise.png"}}):t._e(),t._v(" "),n.pcr<0?e("img",{staticClass:"cban-change-item-detail-theme-item-pcr-img",attrs:{src:"https://static.xuangubao.com.cn/clay/img/down.png"}}):t._e()]):t._e(),t._v(" "),n.pcp||0==n.pcp?e("span",{staticClass:"ban-change-item-detail-theme-item-pcp",class:t.color(n.pcp)},[t._v(t._s(t._f("numToPercent")(n.pcp)))]):t._e()])})),0):t._e()]):t._e()])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"ban-change-item-timeline-indicator"},[t("div",{staticClass:"ban-change-item-timeline-indicator-line"}),this._v(" "),t("div",{staticClass:"ban-change-item-timeline-indicator-dot"})])}],!1,null,"19bd3182",null).exports),Ht=n(41);function Nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(n),!0).forEach((function(e){Object(D.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $t={data:function(){return{noMoreEventflag:!1,head:null,tail:null,gegu:!0,bankuai:!0,stockEvent:[],msgInterval:null,changeAlert:!1,audio:null,Mytip:null,optionVisible:!1,ws:null,subjs:[],changeText:{10001:"封涨停板",10002:"封跌停板",10003:"打开涨停板",10004:"打开跌停板",10005:"逼近涨停",10006:"逼近跌停",10007:"即将打开涨停",10008:"即将打开跌停",10009:"大幅拉升",10010:"快速跳水",10012:"新股开板",10014:"新股开板回封",11e3:"板块拉升",11001:"板块跳水"},geguItem:[{code:1,label:"封涨停板",checked:!0,wsCode:10001},{code:2,label:"逼近涨停",checked:!0,wsCode:10005},{code:3,label:"打开涨停板",checked:!0,wsCode:10003},{code:4,label:"即将打开涨停",checked:!0,wsCode:10007},{code:5,label:"封跌停板",checked:!0,wsCode:10002},{code:6,label:"逼近跌停",checked:!0,wsCode:10006},{code:7,label:"打开跌停板",checked:!0,wsCode:10004},{code:8,label:"即将打开跌停",checked:!0,wsCode:10008},{code:9,label:"新股开板",checked:!0,wsCode:10012},{code:10,label:"新股开板回封",checked:!0,wsCode:10014},{code:11,label:"大幅拉升",checked:!0,wsCode:10009},{code:12,label:"快速跳水",checked:!0,wsCode:10010}]}},props:["isDark","filterst"],mixins:[r.a],mounted:function(){"false"===localStorage.getItem("banChange")?this.changeAlert=!1:this.changeAlert=!0;var t=localStorage.getItem("banChangeFilter");this.bankuai=!t||JSON.parse(t).bankuai,this.gegu=!t||JSON.parse(t).gegu;var e=t?JSON.parse(t).geguItem:null;e&&e.every((function(i){return i.code}))&&(this.geguItem=this.geguItem.map((function(i,t){return i.checked=e[t].checked,i}))),console.log("mounted notification",this.alertInfo.notification),this.alertInfo.notification&&this.activeNotification(),this.loadData()},watch:{gegu:function(){this.setFilterLS(),this.fetchMsg()},bankuai:function(){this.setFilterLS(),this.fetchMsg()},"alertInfo.notification":function(t){console.log("notification",t),t&&this.activeNotification()},alertInfo:{deep:!0,handler:function(t){(t.audio||t.tts)&&Object(Ht.b)()&&this.$store.dispatch("homeMsgs/setMute",!1),localStorage.setItem("banChangeAlert",JSON.stringify(this.alertInfo))}},filterst:function(t){}},computed:Bt(Bt(Bt({},Object(vt.mapState)("homeMsgs",["pushMute"])),Object(vt.mapGetters)("localStorage",{alertInfo:"changePush"})),{},{showIconTip:function(){return this.alertInfo.audio||this.alertInfo.tts}}),methods:{readTextByTTS:Et.a,playTipsAudio:Ht.o,testContentPush:function(){Object(Ht.d)({audio:{play:!this.pushMute&&this.alertInfo.audio},notification:{display:this.alertInfo.notification,title:"测试标题",content:"测试内容"},tts:{text:!this.pushMute&&this.alertInfo.tts?"测试内容":""}})},updateMessagePushSettings:function(t){var e=t.value,n=t.type;this.$store.dispatch("localStorage/setLocalStorage",{key:"changePush",value:Bt(Bt({},this.alertInfo),{},Object(D.a)({},n,e))})},isStockEvent:function(t){return t<11e3},initWS:function(){var t=this,e=new Rt.a(mt.a.REALTIME);e.onopen=function(){e.send(JSON.stringify({command:"ENTER_CHANNEL",data:{chann_name:"channel-flash-stock-evts",cursor:""}}))},e.onmessage=function(e){var content,data=JSON.parse(e.data);try{content=content=JSON.parse(data.data.content)}catch(t){console.log(t)}if(content){var n=t.isStockEvent(content.event_type);if(!(t.filterst&&n&&content.stock_abnormal_event_data.name.indexOf("ST")>-1)&&t.subjs.includes(Number(content.event_type))){t.stockEvent.unshift(content);var i=content,o=[],r=[];if(n)o.push("".concat(i.stock_abnormal_event_data.name).concat(t.changeText[i.event_type])),r.push("".concat(i.stock_abnormal_event_data.name).concat(t.changeText[i.event_type]));else{var l="";if(i.plate_abnormal_event_data&&i.plate_abnormal_event_data.related_stocks.length){var text=11e3===Number(i.event_type)?"领涨":"领跌";l=i.plate_abnormal_event_data.related_stocks.map((function(t){return"".concat(t.name)})).join("、")+text}o.push("".concat(i.plate_abnormal_event_data.plate_name).concat(t.changeText[i.event_type]).concat(l?"，":"").concat(l)),r.push("".concat(i.plate_abnormal_event_data.plate_name).concat(t.changeText[i.event_type]).concat(l?"，":"").concat(l))}Object(Ht.d)({audio:{play:!t.pushMute&&o.length&&t.alertInfo.audio},notification:{display:o.length&&t.alertInfo.notification,title:n?"个股异动":"板块异动",content:o.join("|")},tts:{text:!t.pushMute&&r.length&&t.alertInfo.tts?r.join(","):"",rate:n?1:1.2}})}}}},loadData:function(){var t=this;this.fetchMsg().then((function(e){t.initWS()}),(function(e){setTimeout((function(){t.loadData()}),1e4)}))},setFilterLS:function(){localStorage.setItem("banChangeFilter",JSON.stringify({bankuai:this.bankuai,gegu:this.gegu,geguItem:this.geguItem}))},changeGegu:function(t){this.gegu&&(t.checked=!t.checked,this.setFilterLS(),this.fetchMsg())},fetchMsg:function(){var t=this;return Object(O.a)({count:30,types:this.setEventType()}).then((function(e){var n=e.data;n&&n.length&&(t.head=n[0].event_timestamp,t.tail=n[n.length-1].event_timestamp),n&&(t.stockEvent=Object(V.a)(n))}))},loadmore:function(){var t=this;if(!this.noMoreEventflag)return this.tail?Object(O.a)({timestamp:this.tail,count:30,types:this.setEventType()}).then((function(e){var n,o=e.data;if(o.length<30&&(t.noMoreEventflag=!0),o.shift(),(n=t.stockEvent).push.apply(n,Object(V.a)(o)),t.tail=o&&o.length?o[o.length-1].event_timestamp:t.head,!o||!o.length)return Promise.resolve("ended")})).catch((function(t){})):new Promise((function(t,e){t(1)}))},setEventType:function(){var t=[];return this.gegu&&(t=this.geguItem.filter((function(i){return i&&i.checked})).map((function(t){return t.wsCode}))),this.bankuai&&(t=t.concat([11e3,11001])),this.subjs=t,t.length?t.join(","):null},activeNotification:function(){function t(t,o){var r=new e(t,{body:o,icon:n.icon});r.onclick=n.onclick,r.onclose=n.onclose,r.onerror=function(){console.log("Notification is error")},r.onshow=function(){n.duration&&setTimeout((function(){r.close()}),n.duration)}}var e,n={icon:"https://image.xuangubao.com.cn/pc/images/logo.png",title:"",duration:5e3,msg:"I'm a default message",onclick:null,onclose:null};"Notification"in window?((e=window.Notification||window.mozNotification||window.webkitNotification).requestPermission((function(t){})),n.showTip=function(n,o){"granted"===e.permission?t(n,o):"denied"!==e.permission&&e.requestPermission((function(e){"granted"===e&&t(n,o)}))}):n.showTip=function(){console&&console.log("your browser is not support HTML5 notification")},this.Mytip=n}},components:{MuteButton:Mt.a,banChangeItem:At,InfiniteScroll:Tt,PopTip:kt,XSwitch:wt.a}},Wt=(n(2663),Object(x.a)($t,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ban-change",class:{dark:t.isDark}},[e("div",{staticClass:"ban-change-title"},[e("div",{staticClass:"left-part"},[e("span",[t._v("异动提醒")]),t._v(" "),t.showIconTip?e("MuteButton"):t._e()],1),t._v(" "),e("div",{staticClass:"ban-change-option"},[e("pop-tip",{attrs:{placement:"top-end"},model:{value:t.optionVisible,callback:function(e){t.optionVisible=e},expression:"optionVisible"}},[e("div",[t.optionVisible?e("i",{staticClass:"icon-cebianlanshouqi iconfont"}):e("i",{staticClass:"icon-cebianlanzhankai iconfont"})]),t._v(" "),e("div",{staticClass:"option-container",attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"option-item option-item-big"},[e("span",{staticClass:"option-item-name"},[t._v("板块异动提醒")]),t._v(" "),e("x-switch",{attrs:{size:"small"},model:{value:t.bankuai,callback:function(e){t.bankuai=e},expression:"bankuai"}})],1),t._v(" "),e("div",{staticClass:"option-item option-item-big no-bottom-line"},[e("span",{staticClass:"option-item-name"},[t._v("个股异动提醒")]),t._v(" "),e("x-switch",{attrs:{size:"small"},model:{value:t.gegu,callback:function(e){t.gegu=e},expression:"gegu"}})],1),t._v(" "),e("div",{staticClass:"option-gegu"},t._l(t.geguItem,(function(n){return e("div",{key:n.code,staticClass:"option-gegu-item",class:{disable:!t.gegu},on:{click:function(e){return t.changeGegu(n)}}},[n.checked&&t.gegu?e("img",{staticClass:"option-gegu-item-checkbox",attrs:{src:"https://static.xuangubao.com.cn/clay/img/ding_checked.png",alt:""}}):t._e(),t._v(" "),n.checked&&!t.gegu?e("i",{staticClass:"iconfont"},[t._v("")]):t._e(),t._v(" "),n.checked?t._e():e("img",{staticClass:"option-gegu-item-checkbox",attrs:{src:"https://static.xuangubao.com.cn/clay/img/ding_unchecked.png",alt:""}}),t._v(" "),e("span",{staticClass:"option-gegu-label",class:{selected:n.checked}},[t._v(t._s(n.label))])])})),0),t._v(" "),e("div",{staticClass:"option-item-title"},[t._v("筛选")]),t._v(" "),e("div",{staticClass:"option-item-group"},[e("div",{staticClass:"option-item"},[e("x-switch",{attrs:{size:"small",value:t.alertInfo.notification},on:{input:function(e){return t.updateMessagePushSettings({value:e,type:"notification"})}}},[e("span",{staticStyle:{"margin-right":"3px"},attrs:{slot:"prepend"},slot:"prepend"},[t._v("桌面提醒")])])],1),t._v(" "),e("div",{staticClass:"option-item"},[e("x-switch",{attrs:{size:"small",value:t.alertInfo.audio},on:{input:function(e){return t.updateMessagePushSettings({value:e,type:"audio"})}}},[e("span",{staticStyle:{"margin-right":"3px"},attrs:{slot:"prepend"},slot:"prepend"},[t._v("声音提醒")])])],1)]),t._v(" "),e("div",{staticClass:"option-item-group"},[e("div",{staticClass:"option-item"},[e("x-switch",{attrs:{size:"small",value:t.alertInfo.tts},on:{input:function(e){return t.updateMessagePushSettings({value:e,type:"tts"})}}},[e("span",{staticStyle:{"margin-right":"3px"},attrs:{slot:"prepend"},slot:"prepend"},[t._v("语音播报")])])],1)])])])],1)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.stockEvent&&t.stockEvent.length,expression:"stockEvent && stockEvent.length"}],staticClass:"ban-change-main",attrs:{id:"ban-change-main"}},[t._l(t.stockEvent,(function(n){return[!t.filterst||n.event_type>=11e3||-1==n.stock_abnormal_event_data.name.indexOf("ST")?e("ban-change-item",{key:n.id,attrs:{item:n}}):t._e()]})),t._v(" "),e("infinite-scroll",{attrs:{load:t.loadmore,element:"ban-change-main"}})],2)])}),[],!1,null,"4b364596",null).exports),Yt=n(61),Vt=(n(334),n(80),n(2019)),Gt=n(2020),Xt=n(2021),Jt=(n(804),n(474));function Ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(n),!0).forEach((function(e){Object(D.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Kt={beforeDestroy:function(){var t=document.getElementById("XGBchart");t&&this.removeCanvas(t)},computed:{dotWidth:function(){return 8},lastPrice:function(){var source=JSON.parse(JSON.stringify(this.$store.state.stockTrend.trend||[]));return source.length?source[source.length-1][1]:""},pcp:function(){return this.trendRate&&this.trendRate.length?this.rate(this.trendRate[this.trendRate.length-1][1],2):""},pxchange:function(){try{var source=JSON.parse(JSON.stringify(this.$store.state.stockTrend.trend||[])),t=this.$store.state.stockTrend.preValue.find((function(i){return"000001.SS"===i.code})).pre_close_px;return source.length?source[source.length-1][1]-t:0}catch(t){return console.log(t),0}},isDark:function(){return"light"!==this.theme},yidong:function(){return this.$store.state.bubble.yidong},trendall:function(){return this.$store.state.stockTrend.trend}},watch:{theme:function(){this.initFenshi()},trendall:function(){this.initFenshi()}},mounted:function(){this.initFenshi()},props:["theme"],data:function(){return{trend:null,kline:null,mainStockkline:null,preClose:null,canvas_el:null,ia_canvas_el:null,mid_canvas_el:null,ctx:null,ia_ctx:null,mid_ctx:null,yidongList:[],origin_width:0,origin_height:0,state:{ready:0,ctx_clock:0,ia_ctx_clock:0,mid_ctx_interval:0},fenshiDate:(new Date).setHours(0,0,0,0),defaults:null,viewport:null,price_precision:null,style:null,data_style:null,data_source:null,coord:null,defaultCsWidth:10,selectedDate:new Date,trendRate:null,lineColorList:["0, 127, 255","255,174,0","194,145,242","76,165,255","61,207,238","255,127,74"],fenshiLabel:[],dragTime:[],analyseTime:[],hsmap:{},newsEvents:null,fenshiEvents:null,timeDotMap:null,fenshiDotMap:null,timer:null,changingData:!1,fenshiSelected:null,klineSelected:null,showHint:!1,hoverTime:0,hoverMsgs:[],trendMap:{},msgTop:!0}},methods:qt(qt({},Vt.a),{},{stopInterval:function(){clearInterval(this.timer)},startInterval:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(t.timer),t.timer=setInterval((function(){t.inStockTime()&&Promise.all([t.$store.dispatch("stockTrend/getTrend","000001.SS")]).then((function(e){t.initFenshi()}))}),3e4),e.abrupt("return",Promise.all([t.$store.dispatch("stockTrend/getTrend","000001.SS")]));case 3:case"end":return e.stop()}}),e)})))()},initFenshi:function(){var t,e=this,source=JSON.parse(JSON.stringify(this.$store.state.stockTrend.trend||[]));if(source&&source.length){t=source[0][0];var n=new Date(1e3*t).setUTCHours(3,30,0,0)/1e3,o=source.findIndex((function(i){return i[0]===n}));if(-1!==o){var r=JSON.parse(JSON.stringify(source[o]));r[0]=new Date(1e3*t).setUTCHours(5,0,0,0)/1e3,source.splice(o+1,0,r)}}else t=new Date;this.trend=source.map((function(i){var t=JSON.parse(JSON.stringify(i));return t[0]*=1e3,t})),this.preClose=this.$store.state.stockTrend.preValue||[];var l,c=this.preClose.map((function(i){return i.pre_close_px}));this.trendRate=this.trend.map((function(i){return i.map((function(t,e){return 0==e?t:t/(c[e-1]?c[e-1]:t)-1}))})),l=this.preClose.map((function(i,t){return{name:"上证",code:i.code,type:"linear",as:"mountain",t:0,val_index:t+1,color:"rgba(".concat(e.lineColorList[t],",1)"),line_width:1,isMain:!1,stockIndex:t+1}}));var pattern={data_source:{data:this.trendRate,fields:l,time_ranges:[[new Date(1e3*t).setUTCHours(1,30,0,0),new Date(1e3*t).setUTCHours(3,30,0,0)],[new Date(1e3*t).setUTCHours(5,0,0,0),new Date(1e3*t).setUTCHours(7,0,0,0)]],base_value:0},price_precision:4,style:{font:{family:"Microsoft YaHei",size:12},padding:{top:20,right:0,bottom:16,left:0},wheel_zoom_step:1,linear_last_point:!1,linear_name_label:!0,linear_label:{height:20,width:60,left:0,font_color:"#ffffff",font_size:12,font_style:"12px Microsoft YaHei"},xgb_style:!0,tip:{high_color:"#FF4040",low_color:"#1EB955",curr_price:{line_width:1,line_color:"rgba(0,0,0,0)",label_bg:"rgba(0,0,0,0)",label_color:"rgba(0,0,0,0)",label_height:20}},crosshair:{snap_to_close:!1,color:"#979797",label_height:20,label_bg:"#EFEFEF",label_color:"#333",label_horiz_padding:5,pos_offset:{vertical:{x:10,y:0,width:0},horizontal:{x:0,y:0,width:0}},selected_point_color:["rgba(38,165,225,0.2)","#fff","rgba(38,165,225,1)"]},grid:{bg:this.isDark?"#2D303B":"#FAFAFA",limit:{y:[2,2]},color:{x:this.isDark?"#4d5263":"#f0f0f0",y:"#f0f0f0"},span:{x:120,y:30}},axis:{x_axis_pos:1,y_axis_pos:-1,hide_candlestick_date:!1,hide_candlestick_time:!1,show_rate:!1,label_pos:{x_axis:{x:-35,y:12},y_axis:{x:10,y:4}},label_color:"#999",pointer_length:0,bg_color:"rgba(0,0,0,0)",line_color:"rgba(0,0,0,0)",draw_frame:!1}}},h=this.initCanvas(document.getElementById("XGBchart"),pattern),d=Object(Yt.a)(h,3);this.canvas_el=d[0],this.ia_canvas_el=d[1],this.mid_canvas_el=d[2],this.genCtx(),this.Prepare(pattern),this.genStyle(),this.rerender(!0),this.events=Xt.b.call(this),Xt.a.call(this)},initSourceFenshi:function(){var t,e=this,n=this.preClose.map((function(i){return i.pre_close_px}));this.trendRate=this.trend.map((function(i){return i.map((function(t,e){return 0==e?t:t/(n[e-1]?n[e-1]:t)-1}))})),t=this.preClose.map((function(i,t){return{name:"上证",code:i.code,type:"linear",as:"mountain",t:0,val_index:t+1,color:"rgba(".concat(e.lineColorList[t],",1)"),line_width:1,isMain:!1,stockIndex:t+1}})),this.data_source.data=this.trendRate,this.data_source.fields=t,this.data_source.time_ranges=[[this.selectedDate.setUTCHours(1,30,0,0),this.selectedDate.setUTCHours(3,30,0,0)],[this.selectedDate.setUTCHours(5,0,0,0),this.selectedDate.setUTCHours(7,0,0,0)]],this.rerender(!0)},clean:function(){this.ctx&&this.ia_ctx&&this.mid_ctx&&(this.ctx.clearRect(0,0,this.origin_width,this.origin_height),this.ia_ctx.clearRect(0,0,this.origin_width,this.origin_height),this.mid_ctx.clearRect(0,0,this.origin_width,this.origin_height))},genCtx:function(){var t=window.devicePixelRatio;this.origin_width=this.canvas_el.width,this.origin_height=this.canvas_el.height,this.ctx=this.canvas_el.getContext("2d"),this.canvas_el.style.width=this.canvas_el.width+"px",this.canvas_el.style.height=this.canvas_el.height+"px",this.canvas_el.width*=t,this.canvas_el.height*=t,this.ctx.scale(t,t),this.ia_ctx=this.ia_canvas_el.getContext("2d"),this.ia_canvas_el.style.width=this.ia_canvas_el.width+"px",this.ia_canvas_el.style.height=this.ia_canvas_el.height+"px",this.ia_canvas_el.width*=t,this.ia_canvas_el.height*=t,this.ia_ctx.scale(t,t),this.mid_ctx=this.mid_canvas_el.getContext("2d"),this.mid_canvas_el.style.width=this.mid_canvas_el.width+"px",this.mid_canvas_el.style.height=this.mid_canvas_el.height+"px",this.mid_canvas_el.width*=t,this.mid_canvas_el.height*=t,this.mid_ctx.scale(t,t)},genCtx2:function(){var t=window.devicePixelRatio;this.ia_ctx=this.ia_canvas_el.getContext("2d"),this.ia_ctx.scale(t,t)},Prepare:function(pattern){var t=this;this.defaults=this.DEFAULTS(),this.viewport&&this.viewport.offset&&this.viewport.width?["price_precision","style","data_style","data_source"].forEach((function(e){t[e]=pattern[e]||t.defaults[e]})):["viewport","price_precision","style","data_style","data_source"].forEach((function(e){t[e]=pattern[e]||t.defaults[e]}))},genStyle:function(){this.ctx.font=this.style.font.size+"px "+this.style.font.family,this.ia_ctx.font=this.ctx.font,this.style.padding.right_pos=this.origin_width-this.style.padding.right,this.style.padding.bottom_pos=this.origin_height-this.style.padding.bottom},loadMore:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.loadingMore){e.next=2;break}return e.abrupt("return");case 2:return t.loadingMore=!0,e.next=5,t.$store.dispatch("kline/addCount",t.id);case 5:t.getKlineData(!1).then((function(e){t.loadingMore=!1}),(function(e){t.loadingMore=!1}));case 6:case"end":return e.stop()}}),e)})))()},rerender:function(t){var e=this;try{if(!this.data_source)return;if(!t&&+new Date-this.state.ctx_clock<=30||this.changingData)return;this.state.ready=0,this.state.ctx_clock=+new Date,this.state.ready=0,this.clean(),this.data_source.time_ranges?(this.genLinearCoord(),this.drawGrid(),this.drawLinearPrice(),this.drawIndicators(),this.drawAxis(),this.drawYidong()):(this.viewport.width<4&&"candlestick"==this.data_source.fields[0].type&&(this.data_source.fields[0]={name:"板块",code:this.id,type:"line",isMain:!0,t:0,color:"rgba(0,0,0,1)",val_index:2,stockIndex:0}),this.viewport.width>4&&"line"==this.data_source.fields[0].type&&this.data_source.fields.length<3&&(this.data_source.fields[0]={name:"板块",code:this.id,type:"candlestick",isMain:!0,t:0,o:1,c:2,h:3,l:4,stockIndex:0}),this.genCsCoord(),this.drawGrid(),this.drawCandlestick(),this.drawIndicators(),this.drawAxis(),this.drawYidong()),this.startTongjiDrag&&f.a.Draw.Fill(this.mid_ctx,(function(t){t.rect(0,0,e.origin_width,e.origin_height)}),"rgba(255, 255, 255, 0.5)"),!this.data_source.time_ranges&&this.analyseTime&&this.analyseTime.length&&this.showAnalyseShadow(),this.state.ready=1}catch(t){console.log(t)}},rendFake:function(){this.data_source.time_ranges&&(this.genLinearCoord(),this.drawGrid(),this.drawIndicators(),this.drawAxis(),this.drawAdditionalTips())},enterLabel:function(t){var e=this;this.data_source.fields=this.data_source.fields.map((function(n,o){return n.isMain||(n.color=n.code==t.symbol?"rgba(".concat(e.lineColorList[n.stockIndex-1],",1)"):"rgba(".concat(e.lineColorList[n.stockIndex-1],",0.1)")),n})),this.rerender(!0)},leaveLabel:function(t){var e=this;this.data_source.fields=this.data_source.fields.map((function(t,n){return t.isMain||(t.color="rgba(".concat(e.lineColorList[t.stockIndex-1],",1)")),t})),this.rerender(!0)},zoomToTimeArea:function(){var t=Math.floor((this.origin_width-this.style.padding.left-this.style.padding.right)/Math.abs(this.state.events.selected_index-this.state.events.dragstart_index+1));this.viewport.width=t<64?t:63,this.viewport.offset=this.viewport.width*(Math.max(this.state.events.selected_index,this.state.events.dragstart_index)+1+.5-this.kline.length),this.rerender()},showDragEndChoice:function(){var t,e;if(this.state.events.mouse_x_px+120<this.style.padding.right_pos?this.state.events.mouse_y_px+50<this.style.padding.bottom_pos?(t=this.state.events.mouse_x_px+20,e=this.state.events.mouse_y_px+10):(t=this.state.events.mouse_x_px+20,e=this.state.events.mouse_y_px-10):this.state.events.drag_x_px+120<this.style.padding.right_pos&&this.state.events.mouse_y_px+50<this.style.padding.bottom_pos?(t=this.state.events.drag_x_px,e=this.state.events.mouse_y_px+10):(t=this.state.events.drag_x_px-180,e=this.state.events.mouse_y_px-10),this.dragTime=[this.state.events.dragstart_x_val,this.state.events.mouse_x_val],!this.state.events.dragstart_x_val||!this.state.events.mouse_x_val||this.state.events.mouse_x_val-this.state.events.dragstart_x_val<86400)this.ia_ctx.clearRect(0,0,this.origin_width,this.origin_height);else{var n=document.createElement("div");n.setAttribute("class","drag-choice-div"),n.style.cssText="left:".concat(t,"px;top:").concat(e,"px;width:120px;"),n.innerHTML='<span class="drag-analyse-btn">区间统计</span><span class="drag-zoom-btn">放大</span>',document.getElementById("XGBchart").appendChild(n)}},removeDragEndChoice:function(){for(var t=document.querySelectorAll(".drag-choice-div"),i=0;i<t.length;i++)document.getElementById("XGBchart").removeChild(t[i])},genLinearCoord:function(){var t=this;try{var e=this,n=this.data_source.fields[0];this.data_source.filtered_data_buckets=this.datafilterByTimeRanges(this.data_source.data,this.data_source.time_ranges,n.t);var o=Number.MIN_VALUE,r=Number.MAX_VALUE,l=this.data_source.filtered_data_buckets.map((function(e){var n=f.a.Coord.calcYRangeNew.line(e,t.data_source.fields);return n[0]===n[1]&&(n[0]-=.001*n[0],n[1]+=.001*n[1]),n[0]<r&&(r=n[0]),n[1]>o&&(o=n[1]),n})),c=Math.max(Math.abs(r),Math.abs(o));c=Math.ceil(100*c*10/4)/250,r=-c,o=c,this.data_source.filtered_data_buckets[0].length||(r=-.01,o=.01);var h=[r,o];if(void 0!==this.data_source.base_value){var d=this.data_source.base_value,span=Math.max(Math.abs(d-o),Math.abs(d-r));h=[d-span,d+span]}this.coord={x:{display:[this.style.padding.left,this.style.padding.right_pos],actual:[this.data_source.time_ranges[0][0],this.data_source.time_ranges[this.data_source.time_ranges.length-1][1]]},y:{display:[this.style.padding.bottom_pos,this.style.padding.top],actual:h},viewport:this.viewport,coord_width:(this.style.padding.right_pos-this.style.padding.left)/this.data_source.time_ranges.length},this.coords=this.data_source.time_ranges.map((function(t,n){var o=e.style.padding.left+e.coord.coord_width*n;return{x:{display:[o,o+e.coord.coord_width],actual:[t[0],t[1]]},y:{display:[e.style.padding.bottom_pos,e.style.padding.top],actual:l[n]}}})),this.data_source.filtered_data_buckets.forEach((function(t,o){t.forEach((function(t){t.x=~~f.a.Coord.linearActual2Display(t[n.t],e.coords[o].x)}))}))}catch(t){console.log(t)}},drawLinearPrice:function(){try{var t=this,e=this.data_source.fields[0];if("linear"!==e.type)return;var n=[];this.data_source.filtered_data_buckets.forEach((function(o,r){var l=[];o.forEach((function(n){var o=n.x,r=~~f.a.Coord.linearActual2Display(n[e.val_index],t.coord.y);l.push([o,r])})),n.push(l)})),f.a.Draw.Stroke(t.ctx,(function(e){e.lineWidth=t.data_style.mountain.line_width,n.forEach((function(t){t.forEach((function(t,n){n||e.moveTo(t[0],t[1]),e.lineTo(t[0],t[1])}))}))}),t.data_style.mountain.line_color);var o=t.ctx.createLinearGradient(0,0,0,t.style.padding.bottom_pos-t.style.padding.top);o.addColorStop(0,t.data_style.mountain.gradient_up),o.addColorStop(1,t.data_style.mountain.gradient_down),n.forEach((function(e){e.length&&f.a.Draw.Fill(t.ctx,(function(n){n.moveTo(e[0][0],t.style.padding.bottom_pos),e.forEach((function(t,e){n.lineTo(t[0],t[1])})),n.lineTo(e[e.length-1][0],t.style.padding.bottom_pos),n.closePath()}),o)}));var r=n[n.length-1],l=r[r.length-1];this.data_source.last_point=l}catch(t){console.log(t)}},genCsCoord:function(){var t=this;try{var e=this.data_source.fields[0],n=f.a.Coord.dataFilterByViewport(this.data_source.data,this.viewport,this);if(n.result&&n.result.length){var o=JSON.parse(JSON.stringify(n.result[0]));this.data_source.filtered_data=n.result.map((function(i,e){var n=[];return n[0]=i[0],t.data_source.fields.map((function(t){"candlestick"==t.type?(n[t.o]=i[t.o]/o[t.o]-1,n[t.c]=i[t.c]/o[t.o]-1,n[t.l]=i[t.l]/o[t.o]-1,n[t.h]=i[t.h]/o[t.o]-1):n[t.val_index]=i[t.val_index]/o[t.val_index]-1})),n.x=i.x,n}))}this.data_source.left_offset=n.left_offset,this.data_source.right_offset=n.right_offset,this.data_source.left_offset<=0&&(this.NOMORE||this.loadMore()),this.data_source.filtered_data&&this.$store.commit("zhutiChart/setTimeRange",[this.data_source.filtered_data[0][0],this.data_source.filtered_data[this.data_source.filtered_data.length-1][0]]);var r=f.a.Coord.calcYRangeNew[e.type](this.data_source.filtered_data,this.data_source.fields),l=[this.data_source.filtered_data[0][e.t],this.data_source.filtered_data[this.data_source.filtered_data.length-1][e.t]],c=f.a.Coord.linearPixels2Actual(2*this.style.grid.span.y,{display:[this.style.padding.bottom_pos,this.style.padding.top],actual:r});if(r[0]-=c,r[1]+=c,void 0!==this.data_source.base_value){var h=this.data_source.base_value,span=Math.max(Math.abs(h-r[0]),Math.abs(h-r[1]));r=[h-span,h+span]}else{var d=~~((this.style.padding.bottom_pos-this.style.padding.top)/this.style.grid.span.y);d>this.style.grid.limit.y[1]-2&&(d=this.style.grid.limit.y[1]-2),d<this.style.grid.limit.y[0]-2&&(d=this.style.grid.limit.y[0]-2);var _=f.a.Coord.seekNeatPoints(r,d+1);if(_=_.sort((function(a,b){return a-b})),!this.data_source.time_ranges){var v=_.map((function(e){return t.ia_ctx.measureText(Number(100*e).toFixed(2)+"%").width})),m=10*Math.ceil(Math.max.apply(Math,Object(V.a)(v))/10)?10*Math.ceil(Math.max.apply(Math,Object(V.a)(v))/10):30;this.style.padding.right=m,this.style.padding.right_pos=this.origin_width-this.style.padding.right}if(_&&_.length&&_.length>2){var y=_[1]-_[0];r[0]=Math.round(100*(_[0]-y))/100,r[1]=Math.round(100*(_[_.length-1]+y))/100}}this.coord={x:{display:[this.style.padding.left,this.style.padding.right_pos],actual:l},y:{display:[this.style.padding.bottom_pos,this.style.padding.top],actual:r},viewport:this.viewport}}catch(t){console.log(t)}},drawGrid:function(){try{var t=this;f.a.Draw.Fill(this.ctx,(function(e){e.rect(0,0,t.origin_width,t.origin_height)}),this.style.grid.bg);var e=~~((this.coord.y.display[0]-this.coord.y.display[1])/this.style.grid.span.y);e>t.style.grid.limit.y[1]&&(e=t.style.grid.limit.y[1]),e<t.style.grid.limit.y[0]&&(e=t.style.grid.limit.y[0]);var n=[];if(void 0===this.data_source.base_value)this.coord.y.actual[0]===this.coord.y.actual[1]&&(this.coord.y.actual[0]-=.001,this.coord.y.actual[1]+=.001),n=f.a.Coord.seekNeatPoints(this.coord.y.actual,e+1),n=[this.coord.y.actual[0]].concat(Object(V.a)(n),[this.coord.y.actual[1]]);else{var o=this.coord.y.actual,r=this.data_source.base_value,span=(o[1]-o[0])/2;for(n=[o[0],r];n.length<e;){span/=2;for(var i=0,l=n.length;i<l;i++)n.push(n[i]+span)}n.push(o[1])}n=(n=n.sort((function(a,b){return a-b}))).map((function(e){return{actual:e,display:.5+~~f.a.Coord.linearActual2Display(e,t.coord.y)}})),f.a.Draw.Stroke(this.ctx,(function(e){n.length;n.forEach((function(n,o){e.moveTo(t.style.padding.left,n.display),e.lineTo(t.style.padding.right_pos+t.style.padding.right,n.display)}))}),this.style.grid.color.x),this.coord.horiz_lines=n;var c=[];if(this.data_source.time_ranges)this.data_source.time_ranges.forEach((function(e,n){c.push({display:.5+~~(t.style.padding.left+t.coord.coord_width*n),actual:e[0]}),n===t.data_source.time_ranges.length-1&&c.push({display:t.style.padding.right_pos+.5,actual:e[1]})}));else for(var h=~~(this.style.grid.span.x/this.viewport.width)?~~(this.style.grid.span.x/this.viewport.width):1,d=this.data_source.data.length-1;d>=0;d-=h)this.data_source.data[d].x>this.style.padding.left&&this.data_source.data[d].x<=this.style.padding.right_pos&&c.push({display:.5+~~this.data_source.data[d].x,actual:this.data_source.data[d][t.data_source.fields[0].t]});c=c.sort((function(a,b){return a.actual-b.actual})),this.coord.vertical_lines=c}catch(t){console.log(t)}},drawCandlestick:function(){var t=this;try{var e=this,n=e.data_source.fields[0],o={up:[],down:[]},r={up:[],down:[]},l=[];if("candlestick"!==n.type)return;this.data_source.filtered_data.forEach((function(t){var c=~~f.a.Coord.linearActual2Display(t[n.h],e.coord.y),h=~~f.a.Coord.linearActual2Display(t[n.o],e.coord.y),d=~~f.a.Coord.linearActual2Display(t[n.c],e.coord.y),_=~~f.a.Coord.linearActual2Display(t[n.l],e.coord.y);o[d<h?"up":"down"].push([~~t.x,_,c]);var v=e.viewport.width-2>30?30:e.viewport.width-2;r[d<h?"up":"down"].push([t.x-v/2+1,h>d?d:h,v-2,Math.abs(h-d),h,d,~~t.x]),l.push([~~t.x,d])}));var c=function(r){"OHLC"===n.as?f.a.Draw.Stroke(e.ctx,(function(t){t.lineWidth=~~(e.viewport.width/10),t.lineWidth>1&&(t.lineWidth+=t.lineWidth%2?0:1),o[r].forEach((function(line){t.moveTo(line[0]+.5,line[1]),t.lineTo(line[0]+.5,line[2])}))}),t.data_style.OHLC[r]):"mountain"===n.as||f.a.Draw.Stroke(e.ctx,(function(t){o[r].forEach((function(line){t.moveTo(line[0]+.5,line[1]+.5),t.lineTo(line[0]+.5,line[2]+.5)}))}),t.data_style.candlestick.wick[r])};for(var h in o)c(h);var d=function(o){"OHLC"===n.as?f.a.Draw.Stroke(e.ctx,(function(t){r[o].forEach((function(n){t.lineWidth=~~(e.viewport.width/10),t.lineWidth>1&&(t.lineWidth+=t.lineWidth%2?0:1),t.moveTo(n[0]+1,n[4]+.5),t.lineTo(n[6]+1+(t.lineWidth-1)/2,n[4]+.5),t.moveTo(n[0]+n[2],n[5]+.5),t.lineTo(n[6]-(t.lineWidth-1)/2,n[5]+.5)}))}),t.data_style.OHLC[o]):"mountain"===n.as||f.a.Draw.FillnStroke(e.ctx,(function(t){r[o].forEach((function(e){t.rect(e[0]+.5,e[1]+.5,e[2],e[3]+.02)}))}),t.data_style.candlestick.block[o],t.data_style.candlestick.border[o])};for(var _ in r)d(_);if("mountain"==n.as){f.a.Draw.Stroke(e.ctx,(function(t){t.lineWidth=e.data_style.mountain.line_width,l.forEach((function(e,n){n||t.moveTo(e[0],e[1]),t.lineTo(e[0],e[1])}))}),e.data_style.mountain.line_color);var v=e.ctx.createLinearGradient(0,0,0,e.style.padding.bottom_pos-e.style.padding.top);v.addColorStop(0,e.data_style.mountain.gradient_up),v.addColorStop(1,e.data_style.mountain.gradient_down),f.a.Draw.Fill(e.ctx,(function(t){t.moveTo(l[0][0],e.style.padding.bottom_pos),l.forEach((function(e,n){t.lineTo(e[0],e[1])})),t.lineTo(l[l.length-1][0],e.style.padding.bottom_pos),t.closePath()}),v)}}catch(t){console.log(t)}},getFenshiItem:function(t){try{var e={};return this.data_source.filtered_data_buckets&&this.data_source.filtered_data_buckets.length&&this.data_source.filtered_data_buckets.map((function(time){time.map((function(n){n[0]==t.time&&(e=n)}))})),!e.x&&new Date(t.time).getHours()<10&&(e.x=this.style.padding.left),!e.x&&(12==new Date(t.time).getHours()||11==new Date(t.time).getHours()&&new Date(t.time).getMinutes()>=30||13==new Date(t.time).getHours()&&new Date(t.time).getMinutes()<=30)&&(e.x=(this.style.padding.right_pos+this.style.padding.left)/2),!e.x&&new Date(t.time).getHours()>=15&&(e.x=this.style.padding.right_pos),Object.assign({},e,t)}catch(t){return console.log(t),{}}},showAnalyseShadow:function(){var t=this;try{var e=this.data_source.filtered_data[this.data_source.filtered_data.length-1][0],n=this.data_source.filtered_data[0][0],o=Math.max(this.analyseTime[0],this.analyseTime[1]),r=Math.min(this.analyseTime[0],this.analyseTime[1]),l=0,c=0;e>o&&n<r?(l=this.data_source.filtered_data.find((function(i){return i[0]>=r})).x,c=this.data_source.filtered_data.find((function(i){return i[0]>=o})).x):e<=o?n>r?(l=this.style.padding.left-this.viewport.width/2,c=this.style.padding.right_pos+this.viewport.width/2):e>r?(l=this.data_source.filtered_data.find((function(i){return i[0]>=r})).x,c=this.style.padding.right_pos+this.viewport.width/2):(l=0,c=0):n>o?(l=0,c=0):e>o?(l=this.style.padding.left-this.viewport.width/2,c=this.data_source.filtered_data.find((function(i){return i[0]>=o})).x):(l=this.style.padding.left-this.viewport.width/2,c=this.style.padding.right_pos+this.viewport.width/2),f.a.Draw.Fill(this.mid_ctx,(function(e){e.rect(l,0,c-l,t.origin_height)}),"rgba(53, 58, 71, 0.05)")}catch(t){console.log(t)}},drawIndicators:function(){var t=this;if(!this.changingData){var e=this,n=[];this.data_source.time_ranges?(this.data_source.fields.forEach((function(o){Gt.b[o.type]&&Gt.b[o.type].call(e,o),"fenshi"===t.chartMode&&n.push(t.drawDivLabel(t.fenshiMap,o))})),n=n.sort((function(a,b){return a.pos.top-b.pos.top}))):(this.data_source.fields.forEach((function(o){Gt.a[o.type]&&Gt.a[o.type].call(e,o),o.val_index&&n.push(t.drawDivLabel(t.lishiMap,o))})),n=n.sort((function(a,b){return a.pos.top-b.pos.top})));for(var i=0;i<n.length;i++)0!=i&&n[i].pos.top-n[i-1].pos.top<20&&(n[i].pos.top=n[i-1].pos.top+20);this.fenshiLabel=n}},drawDivLabel:function(t,e){if(e&&e.color&&this.style.linear_name_label){var n=this.data_source.filtered_data_buckets?this.data_source.filtered_data_buckets[0][0]:this.data_source.filtered_data[0],o=f.a.Coord.linearActual2Display(n[e.val_index],this.coord.y)-10;return e.isMain?{symbol:e.name,text:e.name,pos:{left:this.style.linear_label.left,top:o},color:e.color,width:this.style.padding.left-2}:{symbol:t[e.code]?t[e.code].symbol:"",text:t[e.code]?t[e.code].name:"",pos:{left:this.style.linear_label.left,top:o},color:e.color,width:this.style.padding.left-2}}},adjustLabelPos:function(t){for(;this.fenshiLabel.some((function(i){return Math.abs(i.pos.top-t.pos.top)<20}));){this.fenshiLabel.find((function(i){return Math.abs(i.pos.top-t.pos.top)<20}));t.pos.top-20>0?t.pos.top-=20:t.pos.top+=20}return t},drawAxis:function(){var t=this,e=this;f.a.Draw.Fill(this.ctx,(function(t){t.rect(0,0,e.origin_width,e.style.padding.top),t.rect(0,0,e.style.padding.left,e.origin_height),t.rect(e.style.padding.right_pos,0,e.style.padding.right,e.origin_height),t.rect(0,e.style.padding.bottom_pos,e.origin_width,e.style.padding.bottom)}),this.style.axis.bg_color);var n=1===e.style.axis.y_axis_pos?e.style.padding.right_pos:0,o=1===e.style.axis.y_axis_pos?e.style.padding.right_pos:e.style.padding.left,r=1===e.style.axis.y_axis_pos?e.style.padding.left:e.style.padding.right_pos,l=1===e.style.axis.x_axis_pos?e.style.padding.bottom_pos:e.style.padding.top,c=1===e.style.axis.x_axis_pos?e.style.padding.top:e.style.padding.bottom_pos;f.a.Draw.Stroke(this.ctx,(function(t){if(e.coord.horiz_lines.forEach((function(n,r){t.moveTo(o,n.display),t.lineTo(o+e.style.axis.pointer_length*e.style.axis.y_axis_pos,n.display)})),e.coord.vertical_lines.forEach((function(n){t.moveTo(n.display,l),t.lineTo(n.display,l+e.style.axis.pointer_length*e.style.axis.x_axis_pos)})),t.moveTo(o+.5,e.style.padding.top),t.lineTo(o+.5,e.style.padding.bottom_pos),t.moveTo(e.style.padding.left,l+.5),t.lineTo(e.style.padding.right_pos,l+.5),e.style.axis.draw_frame&&(t.moveTo(r,e.style.padding.top),t.lineTo(r,e.style.padding.bottom_pos),t.moveTo(e.style.padding.left,c+.5),t.lineTo(e.style.padding.right_pos,c+.5)),e.style.axis.show_rate){var n=e.style.axis.y_axis_pos>0?e.style.padding.left:e.style.padding.right_pos;t.moveTo(n+.5,e.style.padding.top),t.lineTo(n+.5,e.style.padding.bottom_pos),e.coord.horiz_lines.forEach((function(o){t.moveTo(n,o.display),t.lineTo(n+e.style.axis.pointer_length*-e.style.axis.y_axis_pos,o.display)}))}}),e.style.axis.line_color);var h={up:[],down:[]};for(var d in f.a.Draw.Text(this.ctx,(function(o){e.coord.horiz_lines.length;e.coord.horiz_lines.forEach((function(r,l){var c=r.actual.toFixed(e.price_precision);t.style.xgb_style&&(o.fillStyle=Jt.a.colorStr(c),c=Number(100*c).toFixed(2)+"%");e.style.axis.label_pos.y_axis.x;var h=r.display+e.style.axis.label_pos.y_axis.y;h<e.style.padding.top+10&&(h+=10),h>e.style.padding.bottom_pos-10&&(h-=10),e.data_source.time_ranges,o.textAlign="right",o.fillText(c,n+e.style.axis.pointer_length+e.style.padding.right_pos+e.style.padding.right,h)}))})),f.a.Draw.Text(this.ctx,(function(n){if(e.data_source.time_ranges?e.data_source.time_ranges.forEach((function(o,r){var c=e.style.padding.right_pos-e.style.padding.left,h=[r*c/e.data_source.time_ranges.length+t.style.padding.left,(r+.5)*c/e.data_source.time_ranges.length+t.style.padding.left,(r+1)*c/e.data_source.time_ranges.length+t.style.padding.left];n.fillText(f.a.Coord.getE8Date(o[0],!0),h[0]+5,l+e.style.axis.label_pos.x_axis.y*e.style.axis.x_axis_pos);var d=n.measureText(f.a.Coord.getE8Date(o[1],!0)).width;n.fillText(f.a.Coord.getE8Date(o[1],!0),h[2]-d-5,l+e.style.axis.label_pos.x_axis.y*e.style.axis.x_axis_pos)})):e.coord.vertical_lines.forEach((function(o){var r=!1;t.data_source.data&&t.data_source.data.length&&(r=o.actual==t.data_source.data[t.data_source.data.length-1][0]),n.fillText(F()(o.actual,"YYYY/MM/DD"),o.display+(r?2*e.style.axis.label_pos.x_axis.x:e.style.axis.label_pos.x_axis.x)+((e.style.axis.hide_candlestick_date||e.style.axis.hide_candlestick_time)&&15),l+e.style.axis.label_pos.x_axis.y*e.style.axis.x_axis_pos)})),e.style.axis.show_rate){var o=e.style.axis.y_axis_pos>0?0:e.style.padding.right_pos;e.coord.horiz_lines.forEach((function(t,r){var l=(t.actual-e.data_source.base_value)/e.data_source.base_value,c=n.measureText(l.toFixed(2)+"%").width+e.style.axis.label_pos.y_axis.x,d=t.display+e.style.axis.label_pos.y_axis.y;d<10&&(d+=10),d>e.origin_height-10&&(d-=10),0===l?n.fillText(l.toFixed(2)+"%",o+e.style.axis.pointer_length+c*e.style.axis.y_axis_pos,d):h[l>0?"up":"down"].push([(100*l).toFixed(2)+"%",o+e.style.axis.pointer_length+c*e.style.axis.y_axis_pos,d])}))}}),this.style.axis.label_color),h)f.a.Draw.Text(this.ctx,(function(t){h[d].forEach((function(e){t.fillText(e[0],e[1],e[2])}))}),e.data_style.OHLC[d])},drawAdditionalTips:function(){var t=this;if(this.data_source.data.length>0&&("candlestick"===this.data_source.fields[0].type||"linear"===this.data_source.fields[0].type)){var e=1===this.style.axis.y_axis_pos?t.style.padding.right_pos:0,n=1===this.style.axis.y_axis_pos?t.style.padding.right:t.style.padding.left,o=this.data_source.data[this.data_source.data.length-1][void 0===this.data_source.fields[0].c?this.data_source.fields[0].val_index:this.data_source.fields[0].c],r=~~f.a.Coord.linearActual2Display(o,t.coord.y);f.a.Draw.Stroke(this.ctx,(function(e){e.lineWidth=t.style.tip.curr_price.line_width,e.moveTo(t.style.padding.left,r+.5),e.lineTo(t.style.padding.right_pos,r+.5)}),t.style.tip.curr_price.line_color),f.a.Draw.Fill(this.ctx,(function(o){o.rect(e,r-t.style.tip.curr_price.label_height/2,n,t.style.tip.curr_price.label_height)}),t.style.tip.curr_price.label_bg),f.a.Draw.Text(this.ctx,(function(n){n.fillText(o.toFixed(t.price_precision),e+t.style.axis.pointer_length+t.style.axis.label_pos.y_axis.x,r+5)}),t.style.tip.curr_price.label_color)}if("candlestick"===this.data_source.fields[0].type&&!this.style.xgb_style){var l=this.data_source.filtered_data[0],c=this.data_source.filtered_data[0],h=this.data_source.fields[0].h,d=this.data_source.fields[0].l;"mountain"===this.data_source.fields[0].as&&(h=this.data_source.fields[0].c,d=this.data_source.fields[0].c),this.data_source.filtered_data.forEach((function(t){t[h]>l[h]&&(l=t),t[d]<c[d]&&(c=t)}));var _=l[h].toFixed(t.price_precision),v=.5+~~f.a.Coord.linearActual2Display(l[h],t.coord.y),m=c[d].toFixed(t.price_precision),y=.5+~~f.a.Coord.linearActual2Display(c[d],t.coord.y);f.a.Draw.Text(this.ctx,(function(t){t.fillText(_,100,v+5)}),t.style.tip.high_color),f.a.Draw.Text(this.ctx,(function(t){t.fillText(m,100,y+5)}),t.style.tip.low_color)}},dotPos:function(t){return this.style.padding.top+this.dotWidth/2},dotColor:function(t,e){return this.sameTime(t,this.hoverTime,e)?" selected":""},sameTime:function(t,e,n){switch(n){case"day":return new Date(t).setHours(0,0,0,0)==new Date(e).setHours(0,0,0,0)||new Date(t).setHours(0,0,0,0)==new Date(this.klineSelected).setHours(0,0,0,0);case"minute":return new Date(t).setHours(new Date(t).getHours(),new Date(t).getMinutes(),0,0)==new Date(e).setHours(new Date(e).getHours(),new Date(e).getMinutes(),0,0)||new Date(t).setHours(new Date(t).getHours(),new Date(t).getMinutes(),0,0)==new Date(this.fenshiSelected).setHours(new Date(this.fenshiSelected).getHours(),new Date(this.fenshiSelected).getMinutes(),0,0);default:return!1}},dotSelected:function(t){this.$emit("select-time",t)},fenshiDotSelected:function(t){this.$emit("select-fenshi-time",t)},clearDotSelected:function(){this.hoverTime=0,this.hoverMsgs=[],this.msgTop=!0},drawYidong:function(){var t=this;if(this.yidong&&this.yidong.length){var e=this.yidong.map((function(t){var e=JSON.parse(JSON.stringify(t));return e.CreatedAt=new Date(F()(1e3*t.CreatedAt,"YYYY/MM/DD HH:mm")).getTime(),e})),n={};this.trendRate.map((function(t){n[t[0]]=t[1]})),this.trendMap=n;var o=[];e.map((function(e){if(n[e.CreatedAt]){var r,l=new Date(Number(e.CreatedAt)).setUTCHours(1,30,0,0),c=new Date(Number(e.CreatedAt)).setUTCHours(3,30,0,0),h=new Date(Number(e.CreatedAt)).setUTCHours(5,0,0,0),d=new Date(Number(e.CreatedAt)).setUTCHours(7,0,0,0);r=e.CreatedAt<l?0:e.CreatedAt<c?~~f.a.Coord.linearActual2Display(e.CreatedAt,t.coords[0].x):e.CreatedAt<h?180:e.CreatedAt<d?~~f.a.Coord.linearActual2Display(e.CreatedAt,t.coords[1].x):360,o.push(Object.assign(e,{value:n[e.CreatedAt],x:r,y:~~f.a.Coord.linearActual2Display(n[e.CreatedAt],t.coord.y)}))}})),this.yidongList=o}},timeHoveritem:function(i){},timeHover:function(t){var e=this;this.hoverTime=t;var n=[];this.yidongList.map((function(o){o.CreatedAt==t&&(n.push(o.Title),e.trendMap[t]&&(e.msgTop=!1))})),n&&n.length?this.hoverMsgs=n:this.clearDotSelected()}}),components:{},mixins:[r.a]},Qt=(n(2664),n(2665),Object(x.a)(Kt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"XGBchart-container",on:{mouseleave:t.clearDotSelected}},[e("div",{staticClass:"chart",attrs:{id:"XGBchart"}}),t._v(" "),e("div",{staticClass:"xgbchart-title"},[e("span",{staticClass:"xgbchart-title-name"},[t._v("上证")]),t._v(" "),e("span",{staticClass:"xgbchart-title-price",class:t.color(t.pxchange)},[t._v(t._s(t._f("toFixed")(t.lastPrice,2)))]),t._v(" "),e("span",{staticClass:"xgbchart-title-pcp",class:t.color(t.pxchange)},[t._v(t._s(t.pcp))]),t._v(" "),t.pxchange?e("span",{staticClass:"xgbchart-title-pcp",class:t.color(t.pxchange)},[t._v("("+t._s(t.pxchange?t.change(t.pxchange):"")+")")]):t._e()]),t._v(" "),t._l(t.yidongList,(function(n,o){return e("span",{key:o,staticClass:"chart-inner-item",class:t.dotColor(n.CreatedAt,"minute"),style:{left:n.x-t.dotWidth/2+"px",top:n.y-t.dotWidth/2+"px",width:t.dotWidth+"px",height:t.dotWidth+"px","border-radius":t.dotWidth+"px","user-select":"none"},on:{mouseenter:function(e){return t.timeHover(n.CreatedAt)}}})})),t._v(" "),t.hoverMsgs&&t.hoverMsgs.length?e("div",{staticClass:"chart-label",class:{"chart-top":t.msgTop,"chart-bottom":!t.msgTop}},t._l(t.hoverMsgs,(function(n,o){return e("p",{key:o},[t._v(t._s(n))])})),0):t._e()],2)}),[],!1,null,"b44aee12",null).exports),Zt=n(2666),te=n.n(Zt),ee={layout:"ding",asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,t.params,t.req,e.prev=1,e.next=4,n.dispatch("stockTrend/getTrend","000001.SS");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:return e.prev=9,e.next=12,n.dispatch("bubble/fetchBubble");case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(9),console.log(e.t1);case 17:return e.prev=17,e.next=20,n.dispatch("bubble/fetchThemePcr");case 20:e.next=25;break;case 22:e.prev=22,e.t2=e.catch(17),console.log(e.t2);case 25:return e.prev=25,e.next=28,n.dispatch("bubble/fetchYidong");case 28:e.next=33;break;case 30:e.prev=30,e.t3=e.catch(25),console.log(e.t3);case 33:return e.abrupt("return",{selectDate:new Date,theme:"light",bubbleHeight:0,bubbleWidth:0,isBubbleHide:!1,bubbleSplit:null,filterSTStock:!0,guideShow:!1,playsinline:!0,playerOptions:{muted:!1,width:900,isFullscreen:!0,language:"zh-CN",sources:[{type:"video/mp4",src:"http://image.xuangubao.com.cn/zhinengdingpan.mp4"}],poster:"http://image.xuangubao.com.cn/ding/fen3.png"}});case 34:case"end":return e.stop()}}),e,null,[[1,6],[9,14],[17,22],[25,30]])})))()},data:function(){return{showBugTip:!0,leftPartSizes:[70,30]}},head:function(){return{title:"".concat(S.SLOGAN)}},computed:{isDark:function(){return"light"!==this.theme}},mounted:function(){var t=this;this.$store.dispatch("external/getBaiduTTSToken"),this.$store.dispatch("bubble/fetchYidong"),this.splitView();var e=localStorage.getItem("dingTheme");!e||"dark"!==e&&"light"!==e?localStorage.setItem("dingTheme",this.theme):this.theme=e,this.initbg(),this.$nextTick((function(){t.bubbleHeight=t.$refs.bubbleContainer.clientHeight,t.bubbleWidth=t.$refs.bubbleContainer.clientWidth,window.addEventListener("resize",t.handleResize)})),this.handleResize=function(){t.updateDingChart()},this.refresh(),document.addEventListener("visibilitychange",(function(){document.hidden?t.stopInterval():t.startInterval()}));var n=localStorage.getItem("bugTips");console.log("bug tips",n),this.showBugTip=null===n},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize),this.stopInterval()},methods:{updateDingChart:function(){this.bubbleHeight=this.$refs.bubbleContainer.clientHeight,this.bubbleWidth=this.$refs.bubbleContainer.clientWidth,this.$refs.bubble.resize()},dateChange:function(t){var e=this;this.selectDate=t,this.$nextTick((function(t){e.refresh()}))},showGuide:function(){this.guideShow=!0},closeGuide:function(){this.guideShow=!1},refresh:function(){this.stopInterval(),this.startInterval(),this.$refs.table.stopInterval(),this.$refs.table.startInterval()},splitLeftPart:function(){var t=this;t.bubbleSplit=te()([".ding-bubble",".ding-table"],{sizes:this.leftPartSizes,direction:"vertical",gutterSize:4,onDrag:function(){t.isBubbleHide||t.updateDingChart()},onDragEnd:function(e){t.leftPartSizes=e}})},splitRightPart:function(){te()([".ding-news",".ding-change"],{sizes:[50,50],direction:"vertical",gutterSize:4})},splitView:function(){this.splitLeftPart(),this.splitRightPart()},hideBubble:function(){this.bubbleSplit.destroy(),this.isBubbleHide=!0},openBubble:function(){var t=this;this.isBubbleHide&&(this.isBubbleHide=!1,this.$nextTick((function(){t.splitLeftPart(),t.updateDingChart()})))},initbg:function(){this.isDark?(this.removeClass(document.body,"light"),this.addClass(document.body,"dark")):(this.removeClass(document.body,"dark"),this.addClass(document.body,"light"))},filterST:function(t){this.filterSTStock=t},changeTheme:function(t){this.theme=t,localStorage.setItem("dingTheme",this.theme),this.initbg()},startInterval:function(){var t=this;this.stopInterval();var e=this.dateFormatter(this.selectDate,"YYYY-MM-DD")===this.dateFormatter(new Date,"YYYY-MM-DD")?null:this.dateFormatter(this.selectDate,"YYYY-MM-DD");this.$store.dispatch("stockSummary/initSummary",e),this.$store.dispatch("stockTrend/getTrend","000001.SS"),this.$store.dispatch("bubble/fetchBubble"),this.$store.dispatch("bubble/fetchThemePcr"),this.timer=setInterval((function(){t.inStockTime()&&(t.$store.dispatch("stockSummary/initSummary",e),t.$store.dispatch("stockTrend/getTrend","000001.SS"),t.$store.dispatch("bubble/fetchBubble"),t.$store.dispatch("bubble/fetchThemePcr"),t.$store.dispatch("bubble/fetchYidong"))}),2e4)},stopInterval:function(){clearInterval(this.timer)},onCloseBugTip:function(){this.showBugTip=!1,localStorage.setItem("bugTips","false")}},mixins:[r.a],components:{stockSummaryChart:T,dingChart:Y,dingTable:gt,Trend:Qt,banChange:Wt,banNews:jt}},se=ee,ae=(n(2667),n(2668),Object(x.a)(se,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ding"},[e("div",{staticClass:"ding-main"},[e("div",{staticClass:"ding-summary-chart"},[e("stock-summary-chart",{attrs:{width:t.bubbleWidth,theme:t.theme,selectDate:t.selectDate},on:{"change-theme":t.changeTheme,"change-date":t.dateChange}})],1),t._v(" "),e("div",{staticClass:"ding-detail",staticStyle:{height:"calc(100% - 105px)"}},[t.isBubbleHide?t._e():e("div",{ref:"bubbleContainer",staticClass:"ding-bubble",attrs:{id:"ding-bubble"}},[t.bubbleHeight&&t.bubbleWidth?e("ding-chart",{ref:"bubble",attrs:{theme:t.theme,"main-height":t.bubbleHeight,"main-width":t.bubbleWidth},on:{guide:t.showGuide}}):t._e()],1),t._v(" "),e("div",{staticClass:"ding-table",attrs:{id:"ding-table"}},[e("ding-table",{ref:"table",attrs:{"is-bubble-hide":t.isBubbleHide,"select-date":t.selectDate},on:{filterst:t.filterST,"hide-bubble":t.hideBubble,"show-bubble":t.openBubble}})],1)])]),t._v(" "),e("div",{staticClass:"ding-right"},[e("div",{staticClass:"ding-dapan"},[e("trend",{attrs:{theme:t.theme}})],1),t._v(" "),e("div",{staticClass:"ding-watch",staticStyle:{height:"calc(100% - 121px)"}},[e("div",{staticClass:"ding-news"},[e("ban-news",{attrs:{sideWidth:"360",isDark:t.isDark}})],1),t._v(" "),e("div",{staticClass:"ding-change"},[e("ban-change",{attrs:{filterst:t.filterSTStock,isDark:t.isDark}})],1)])]),t._v(" "),t.guideShow?e("div",{staticClass:"guide"},[e("div",{staticClass:"guide-container"},[e("img",{staticClass:"guide-container-logo",attrs:{src:"https://static.xuangubao.com.cn/clay/img/logo_ding.png"}}),t._v(" "),e("p",{staticClass:"guide-container-desc"},[t._v("“智能盯盘”是选股通在业内最先推出的，基于个股行情变化和选股通独家主题库数据，运用最先进的大数据+神经网络算法，实时监测盘面的板块异动，将看盘带入人工智能时代。")]),t._v(" "),e("p",{staticClass:"guide-container-desc"},[t._v("选股通四维智能行情监控开创了A股“傻瓜式盯盘”时代的到来，给投资者带来全新的盯盘体验。")]),t._v(" "),e("p",{staticClass:"guide-container-desc"},[t._v("选股通智能盯盘特色功能包括：")]),t._v(" "),e("div",{directives:[{name:"video-player",rawName:"v-video-player:myVideoPlayer",value:t.playerOptions,expression:"playerOptions",arg:"myVideoPlayer"}],staticClass:"vjs-custom-skin",attrs:{playsinline:t.playsinline}}),t._v(" "),e("img",{attrs:{src:"http://image.xuangubao.com.cn/ding/ding-guide.png"}})]),t._v(" "),e("div",{staticClass:"guide-start"},[e("div",{staticClass:"guide-start-btn",on:{click:t.closeGuide}},[t._v("立即使用")])])]):t._e(),t._v(" "),t.showBugTip?e("div",{staticClass:"bug-tip"},[t._v("\n    选股通网站异动提醒/7*24小时直播/语音播报等功能近期出现滞后情况，技术正在加急修复中，请您耐心等待。\n    "),e("i",{staticClass:"icon-cuowu iconfont",on:{click:t.onCloseBugTip}})]):t._e()])}),[],!1,null,"048e3c14",null));e.default=ae.exports}}]);